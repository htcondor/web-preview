{"id": 3444, "title": "Ticket #3444: inconsistent priv states when running condor tools", "description": "<blockquote>\nthis is not a security vulnerability.\n\n<p>in the off chance that you are running various condor tools as root, there is a small but important discrepancy.  running with the \"-debug\" flag causes the tool to engage in priv-switching, and so it ends up running as the \"condor\" user unless the code explicitly switches to root_priv (for example, to fetch a credential).  running the same tool without \"-debug\" means the tool will run with root priv for its entire lifetime.\n\n</p><p>this means running with/without \"-debug\" can alter the behavior of the tool, which is annoying to say the least.  (i noticed this when i had incorrectly set permissions on a certificate file that condor should have been able to read, but in fact was readable only by root)\n\n</p><p>i propose we should always initialize the priv switching code.  this mimics the behavior of the condor daemons, which i argue is the desired behavior when an admin is trying to test various things via the command line.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-Jan-16 10:18", "status": "new", "created": "2013-Jan-15 15:54", "fixed_version": "2013-Jan-15 15:54", "broken_version": "v070900", "priority": "3", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "#3371", "creator": "zmiller", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
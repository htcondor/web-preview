{"id": 4189, "title": "Ticket #4189: Finish merging DAGMan log file improvements", "description": "<blockquote>\nSince only a subset of the fixes on the V8_0-gittrac_4171-branch are going into 8.0.6 (as per code review), the remainder of them should get put into 8.1.\n\n<p>There are two options here:\n</p><ul>\n<li>Put the whole thing into 8.1.4 (including the new DAGMAN_USE_OLD_DAG_READER config knob), and then tear out the DAGMAN_USE_OLD_DAG_READER config knob and obsolete code in 8.1.5 or later (see <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4186\" onclick=\"get_ticket_and_populate_wrapper('4186'); return false;\" title=\"Remove DAGMAN_USE_OLD_DAG_READER config knob\">#4186</a></span>).\n</li><li>Wait until we're sure the \"basic\" <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span> fix is good, and then put the remainder of the fixes into 8.1 without the DAGMAN_USE_OLD_DAG_READER config knob (which would mean less work overall, but also that the fixes wouldn't get into 8.1 as soon).</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2014-Feb-08 16:45:59 by wenger:</em> <br/>\n\nWorking on this in V8_1-gittrac_4189-branch -- the merge is turning out to be somewhat messy, so I want to do this really carefully...</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-12 10:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3f28d93dc347ea18aaa2f153f6b1b3a6fb3214bf\">[40404]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: Added version history item for this (also gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3843\" onclick=\"get_ticket_and_populate_wrapper('3843'); return false;\" title=\"DAGMan:  don't look for log file names in submit files\">#3843</a></span>)  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-11 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/df4c90ff512569b03c74b56a3fad312f14ab2ce1\">[40402]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: I think everything is done -- just need to run a build/test.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-11 14:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/adce26608ca8e485f147b05b18f3d945fb9c2d5a\">[40401]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: job_dagman_depth_first and job_dagman_dont_use_default_node_log now use the old DAG reading code, just to make sure it works (until we tear it out...).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Feb-10 17:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3ff032d23e19f7f1677674c33d082a504a6310e7\">[39388]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: Fixed manual merge error that caused job_dagman_dont_use_default_node_log to fail.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Feb-08 17:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8cb7c6e168338bd854a3a03bf5b2e9b02c7c53f9\">[39366]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e11c814985a14e88cfcde805d37ef2402e08dbcc\">[39230]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a73e97bafb2c245d88ae91d1a69445729e2cadbb\">[39231]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ae73baede88d7c44e9bf751fc37fd6c326db53c0\">[39241]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3cbd432180ad7c8b88545f3610fa618122a599aa\">[39242]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c398f3b9cbdb2dddb63f6c60ab3f742f6a4361f9\">[39243]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c374e30d055ee68b5506d207af07ac424117f047\">[39251]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d7041c4f37bd2296837e9f3666ed5d229a17d985\">[39255]</a></span>, Merge branch 'V8_0-gittrac_4171-branch' into V8_1-gittrac_4189-branch Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: Initial merge is complete, but needs further checking and maybe extension of the DAGMAN_USE_OLD_DAG_READER configuration macro. Also, the job_dagman_dont_use_default_node_log\u00a0[...]\n (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Jun-12 10:28", "status": "defer", "created": "2014-Jan-31 12:27", "fixed_version": "2014-Jan-31 12:27", "broken_version": "v080103", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "#4171", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
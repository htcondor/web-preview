{"id": 425, "title": "Ticket #425: OS specific fork() detection", "description": "<blockquote>\nCondor's process tracking code (these days, the procd) jumps through a lot of hoops to make sure that child processes don't slip away.  It polls repeatedly.  It uses magical environment variables.  In some cases it uses dedicated accounts.  Despite all of this, it's possible for a malicious or extremely odd user job to escape Condor's detection and escape management.  This is bad.\n\n<p>As best we know, there is no portable way to track all of your child processes and their processes.\n\n</p><p>We should consider using OS-specific hooks to accomplish the task.  Here is a place to collect possibilities:\n\n</p><p></p><ul>\n<li><strong>Linux</strong>: <a class=\"external\" href=\"http://sourceware.org/systemtap/index.html\">System Tap</a>, specifically <a class=\"external\" href=\"http://sourceware.org/systemtap/man/stapprobes.process.5.html\">process.create</a>.  The argument <code>new_pid</code> and the function <code>ppid()</code> should provide everything we need with essentially perfect reliability.  Down side: Requires: root, gcc, kernel-dev packages, System Tap, none of which we're guaranteed access to.\n\n<p></p></li><li><strong>Solaris</strong>: <a class=\"external\" href=\"http://www.sun.com/bigadmin/content/dtrace/\">DTrace</a></li></ul>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 14:50", "status": "new", "created": "2009-Apr-28 10:47", "fixed_version": "2009-Apr-28 10:47", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
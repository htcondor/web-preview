{"id": 1209, "title": "Ticket #1209: Grid monitor submission ignores DELEGATE_ FULL_ JOB_ GSI_ CREDENTIALS", "description": "<blockquote>\nThe config param DELEGATE_FULL_JOB_GSI_CREDENTIALS is consulted when delegating the proxy for a gt2 gram job to determine whether a full or limited proxy is delegated. The setting is ignored when submitting a grid monitor job, and a full proxy is always delegated.</blockquote>", "remarks": "<blockquote>\n<em>2010-Feb-11 15:34:15 by jfrey:</em> <br/>\n\nI sent a patched condor_gridmanager to Steve Timm to test. The patch is attached to this ticket.\n\n<p></p><hr/>\n<em>2010-Feb-12 11:32:21 by psilord:</em> <br/>\n\nPut spaces in the title to make it wrap better on the screen.\n\n<p></p><hr/>\n<em>2010-Feb-12 13:19:07 by jfrey:</em> <br/>\n\nPushed a fix to V7_4_2-branch for the 7.4.2 release.\n\n<p></p><hr/>\n<em>2010-Feb-12 13:41:17 by jfrey:</em> <br/>\n\nThere's no reason for the grid monitor to have a full proxy. It's not the user job and it doesn't need a full proxy. I just pushed a change to V7_4_2-branch that makes it always receive a limited proxy.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/139/proxy.patch\">proxy.patch</a>\n636 bytes added by jfrey on 2010-Feb-11 21:25:10 UTC.\n<br/>\nProposed patch.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-12 13:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8cdb46808eb4e9f81e6fce4dca758d43fbe4a146\">[25283]</a></span>: Added version history entries for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1209\" onclick=\"get_ticket_and_populate_wrapper('1209'); return false;\" title=\"Grid monitor submission ignores DELEGATE_ FULL_ JOB_ GSI_ CREDENTIALS\">#1209</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1070\" onclick=\"get_ticket_and_populate_wrapper('1070'); return false;\" title=\"Gridftp client library misuse in nordugrid_gahp\">#1070</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-12 13:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/790d309cf8e1ff504f0a3c3e8c032052ae1445f0\">[17222]</a></span>: Grid monitor should always receive limited proxy. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1209\" onclick=\"get_ticket_and_populate_wrapper('1209'); return false;\" title=\"Grid monitor submission ignores DELEGATE_ FULL_ JOB_ GSI_ CREDENTIALS\">#1209</a></span> The grid monitor isn't a user job and doesn't need a full proxy. Now, it always receives a limit proxy, regardless of how DELEGATE_FULL_JOB_GSI_CREDENTIALS is set.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-12 13:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2cb1cd849dcb0aa5071284e3a2905d7470a41e6a\">[17219]</a></span>: Grid monitor shouldn't always delegate full proxy. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1209\" onclick=\"get_ticket_and_populate_wrapper('1209'); return false;\" title=\"Grid monitor submission ignores DELEGATE_ FULL_ JOB_ GSI_ CREDENTIALS\">#1209</a></span> When config param DELEGATE_FULL_JOB_GSI_CREDENTIALS was introduced in 7.3.2, the gram job request call for the grid monitor wasn't updated. This caused the grid monitor to always receive a full delegated proxy. Before that, it always received a\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Feb-12 13:41", "status": "resolved", "created": "2010-Feb-11 15:23", "fixed_version": "2010-Feb-11 15:23", "broken_version": "v070302", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "s7883", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": "20100212"}
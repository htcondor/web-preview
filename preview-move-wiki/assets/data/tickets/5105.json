{"id": 5105, "title": "Ticket #5105: CREDD on Windows locking out users", "description": "<blockquote>\nOn condor-users, we have reports of the CREDD occasionally producing invalid credentials that result in the Domain controller locking user accounts.\n\n<p>Machines are Windows 7, on an air-gapped network. The problem has been seen on two entirely different networks now. The domain controller is configured to lock an account after three failures.\n\n</p><p>configuration is\n\n</p><p></p><pre>    starter_allow_runas_owner = true\n    credd_cache_locally = true\n    skip_windows_logon_network = true\n</pre>\n\n<p>after a lockout He will randomly see in the credd log file entries like this:\n\n</p><p></p><pre>    NETWORK logon failed. Attempting interactive\n    Failed to log in me@domain with err = 1326\n    [a couple refrains of this later, and then:]\n    NETWORK logon disabled. Trying INTERACTIVE only!\n    Failed to logon me@domain with err = 1909\n</pre>\n\n<p>Also He will sometimes see <code>condor_store_cred query</code> randomly report that there is no stored credential or the credential is invalid for a user. Wait about sixty seconds and often as not without having made any changes at all \"condor_store_cred query\" will go back to claiming everything is fine.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Jun-18 12:24:41 by johnkn:</em> <br/>\n\nThe messages:\n\n<p></p><pre>    NETWORK logon failed. Attempting interactive\n    NETWORK logon disabled. Trying INTERACTIVE only!\n</pre>\n\n<p>Cannot both be produced from the same configuration, the first message only happens if <code>SKIP_WINDOWS_LOGON_NETWORK</code> has the default value of false.  The second message only happens if the value is true.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "incident", "last_change": "2015-Jun-18 12:24", "status": "new", "created": "2015-Jun-18 12:18", "fixed_version": "2015-Jun-18 12:18", "broken_version": "v080300", "priority": "3", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
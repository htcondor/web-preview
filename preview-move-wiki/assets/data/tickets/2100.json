{"id": 2100, "title": "Ticket #2100: HTTP Get crashes SOAP-enabled collector", "description": "<blockquote>\nOpen up a web browser, connect to <a class=\"external\" href=\"http://astro.cs.wisc.edu:9618\">http://astro.cs.wisc.edu:9618</a>\n\n<p>watch it crash with\n\n</p><p>04/27/11 10:13:45 ERROR \"Assertion ERROR on (dirpath)\" at line 70 in file /home/condor/execute/dir_3425/userdir/src/condor_utils/directory_util.cpp</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Apr-27 10:31:11 by gthain:</em> <br/>\n\nApparently this is because\n\n<p>ENABLE_WEB_SERVER = true\n\n</p><p>and the WEB_ROOT_DIR is nonexistant.  Seems pretty harsh to assert in this case.\n\n</p><p></p><hr/>\n<em>2011-Apr-27 11:34:15 by matt:</em> <br/>\n\n<div class=\"code\">\n<pre class=\"code\">#0  dircat (dirpath=0x0, filename=0x9658b1 \"\")\n    at src/condor_utils/directory_util.cpp:70\n#1  0x00000000004c750b in serve_file (soap=0x94cf00, name=0x9658b1 \"\",\n    type=0x5d9584 \"application/octet-stream\")\n    at src/condor_daemon_core.V6/soap_core.cpp:522\n#2  0x00000000004c789c in get_handler (soap=0x94cf00)\n    at src/condor_daemon_core.V6/soap_core.cpp:620\n#3  0x0000003f57a1d0c3 in http_parse (soap=0x94cf00) at stdsoap2_ssl_cpp.cpp:13280\n#4  0x0000003f57a1ea8b in soap_begin_recv (soap=0x94cf00) at stdsoap2_ssl_cpp.cpp:13061\n#5  0x00000000004c4332 in soap_serve (soap=0x94cf00)\n    at src/condor_collector.V6/soap_collectorServer.cpp:40\n#6  0x00000000004c63d3 in dc_soap_serve (soap=0x94cf00)\n    at src/condor_daemon_core.V6/soap_core.cpp:80\n#7  0x00000000004d3cf2 in DaemonCore::HandleReq (this=0x8b5160, insock=0x8bf960, asock=0x92d790)\n    at src/condor_daemon_core.V6/daemon_core.cpp:4373\n</pre></div>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2011-Apr-27 11:53", "status": "resolved", "created": "2011-Apr-27 10:16", "fixed_version": "2011-Apr-27 10:16", "broken_version": "v070600", "priority": "2", "subsystem": "", "assigned_to": "matt", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tannenba", "due_date": "20110505"}
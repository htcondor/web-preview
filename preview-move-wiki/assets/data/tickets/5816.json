{"id": 5816, "title": "Ticket #5816: Create an annex daemon.", "description": "<blockquote>\nSee <a class=\"external\" href=\"https://docs.google.com/document/d/124djjDGjWklbTvPRX3iyimLmDdlGfZs9V2JyzD5CKVg\">https://docs.google.com/document/d/124djjDGjWklbTvPRX3iyimLmDdlGfZs9V2JyzD5CKVg</a> for now.\n\n<p>(Not report 86.)\n</p><div>\n<table border=\"1\" cellpadding=\"2\" cellspacing=\"0\" summary=\"EMBED: Status Table of Non-[Resolved|Abandoned] Derived Tickets\">\n<caption>\n  <a href=\"rptview?rn=116\" rel=\"nofollow\" title=\"EMBED: Status Table of Non-[Resolved|Abandoned] Derived Tickets\">EMBED: Status Table of Non-[Resolved|Abandoned] Derived Tickets</a>\n</caption>\n<tbody><tr>\n<td colspan=\"11\"><form action=\"rptview\" method=\"GET\">\n<input name=\"rn\" type=\"hidden\" value=\"116\"/>\nTN: <input name=\"TN\" type=\"text\" value=\"5816\"/>\n<input type=\"submit\" value=\"Go\"/>\n</form></td></tr> \n<tr>\n<th><a href=\"rptview?rn=116&amp;order_by=2&amp;order_dir=ASC&amp;TN=5816\">Developer</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=3&amp;order_dir=ASC&amp;TN=5816\">#</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=4&amp;order_dir=ASC&amp;TN=5816\">Status</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=5&amp;order_dir=ASC&amp;TN=5816\">Type</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=6&amp;order_dir=ASC&amp;TN=5816\">Pri</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=7&amp;order_dir=ASC&amp;TN=5816\">Created</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=8&amp;order_dir=ASC&amp;TN=5816\">Changed</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=9&amp;order_dir=ASC&amp;TN=5816\">Target</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=10&amp;order_dir=ASC&amp;TN=5816\">Due Date</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=11&amp;order_dir=ASC&amp;TN=5816\">Days left</a></th>\n<th><a href=\"rptview?rn=116&amp;order_by=12&amp;order_dir=ASC&amp;TN=5816\">Title</a></th>\n</tr>\n<tr><td colspan=\"11\">\n<i>No records match the report criteria</i>\n</td></tr>\n</tbody></table></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5868\" onclick=\"get_ticket_and_populate_wrapper('5868'); return false;\" title=\"Replace param(EC2_GAHP_RATE_LIMIT) with command-line flag in EC2 GAHP.\">#5868</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nReplace param(EC2_GAHP_RATE_LIMIT) with command-line flag in EC2 GAHP.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5870\" onclick=\"get_ticket_and_populate_wrapper('5870'); return false;\" title=\"Allow configuration of Spot Fleet request's validity period.\">#5870</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAllow configuration of Spot Fleet request's validity period.</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-24 15:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/538004ad4ce66d0742a06900b3f5e87ca0e0a58a\">[50060]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Lease function will now terminate each matching Spot Fleet, not just the first one.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-17 14:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fc646122678c118be579ffe3d09c40ce767b09a9\">[50059]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Reorder so that lease is created before the SFR.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-17 11:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0bb423dfc59edf7b3d0498c229cc25fa565dc161\">[49994]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Switch to matching a prefix of the client token to identify SFRs to cancel. This will later let us (a) cancel more than one SFR with the same lease and (b) let us reorder the functors so that the lease is created before the SFR it's leasing (which eliminates a possibility for a runaway SFR).\u00a0[...]\n (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-10 17:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1af63f6fa10282ce0f1ae145747b4440c0a81374\">[49978]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Fix EC2 test.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-09 14:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/afb82d80739b49c4ea258bdd9b16ebb44cf4d047\">[49977]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Work around another Fedora 24 warning.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-05 13:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/01e5eb67f5668c9de75a38ec6b73348ad7b06c91\">[49922]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Fix another bug revealed by Fedora 24 warnings.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-04 16:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ba2f256c00b7487ce5767297f7ba23698748c6a1\">[49920]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Fix a bug revealed by Fedora 24 warnings!  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-30 12:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d9347b639131c41d1db87a979123e2d0e3b59754\">[49917]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -count flag to CLI to override count given in JSON file.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-22 15:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4b55e019882d24d7ff13be07aa681bc1bf527ae1\">[49916]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Eliminate warning. Update parameter checking code to check more parameters.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-22 15:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/03ae1398bbf1f62b72d45348d0dc5d1acb65d5dc\">[49915]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -access and -private aliases to CLI flags, tweak minimum prefix lengths.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-15 16:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b53b23bea5172e072efaf7119a343c3d03ff1175\">[49823]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -lambda-url option to CLI. Fix a bug which broken URLs ending in /.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-15 15:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5d7da5c678c7db5f6ec167153c7662b4893b8821\">[49822]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Use fewer GAHPs. May need to be revisited if performance becomes an issue (as the EC2 GAHP doesn't properly isolate <span class=\"wiki\"><a href=\"wiki?p=RequestLimitExceeded\" title=\"Request Limit Exceeded\">RequestLimitExceeded</a></span> to each endpoint).  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-15 14:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c86f8598e6efe2c70610cca9d8625038b530da91\">[49818]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Fix b542ba36bfa9b8fd5d412ed21638b28c03bd5a6f by adding the missing GetFunction.* files.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-15 14:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a697df84b3428716e99ebf88569d490ca0df5abf\">[49817]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Simplify [S|s]endRequest*() functions.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-15 13:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b542ba36bfa9b8fd5d412ed21638b28c03bd5a6f\">[49816]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add <span class=\"wiki\"><a href=\"wiki?p=GetFunction\" title=\"Get Function\">GetFunction</a></span>, which checks to make sure that the Lambda function specified as the lease function actually exists.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-13 10:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c25e8b09708b512d2ddeebbdca241ddaebfd7f44\">[49801]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Example configuration for password-based security.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-13 10:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d80949798ff2b55f3d385b1d2cd69abfc738b9f0\">[49800]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Minor bug fixes.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-13 10:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d70c64739a4d80639f31720e0a15fd648dc7c3e3\">[49799]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add a helper template for the \"magic\" instance profile.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-08 17:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3187444922d56247772b910b395baec551c01813\">[49798]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add the lease function ARN to the setup template's output(s) section.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-01 13:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5f73158f4c6631b5a4466419ca0f6b8c4aff52d7\">[49697]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Make the validity period configurable (deliberately undocumented knob). Also, add -lease-duration flag to CLI; will need to implement lease-deadline as positional argument at some point.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-01 12:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cfbc0b52d8b51d50cbf1e7e338c090cde2e1bf93\">[49696]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Convert lease function ARN from config knob to CLI.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-01 12:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/640ab35b0e48c5e3680ccef819f4c9c2e19bb000\">[49695]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Change default signature version to v4, since us-east-2 (new) requires it and (AFAIK) everyone else supports it now.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-30 18:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/09316d49fff53377775a9e4f0abb4f17018eacf4\">[49692]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Address <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5868\" onclick=\"get_ticket_and_populate_wrapper('5868'); return false;\" title=\"Replace param(EC2_GAHP_RATE_LIMIT) with command-line flag in EC2 GAHP.\">#5868</a></span>. Add -help option to CLI. Other clean-up work.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-29 17:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b7eb179bddc25f37c7a308de1b9bd3f2101f6b46\">[49678]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -[public|secret]-key-file command-line flags; remove default annex credential config knobs as probably insecure.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-29 14:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/51fc6ad078b22a2bc5dd5f958307a518ca26e0f4\">[49676]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Log when, where, and with what scratchpad a command goes into rollback, and pick up from there after a crash. (No need to log individual steps yet.)  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-28 10:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0392491979c44a4f35f78428f93506846ef43087\">[49495]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add \"application-level\" retries to the <span class=\"wiki\"><a href=\"wiki?p=BulkRequest\" title=\"Bulk Request\">BulkRequest</a></span> functor.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-28 10:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5e5bc5eb2b501436fe725e934a4e0396fe3223a4\">[49494]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Implement \"application-level\" retries for lease construction. Still need to implement retries for the SFR.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-21 13:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/39346e8138155bd2ee2a1e48107604f4568ee555\">[49470]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) The 'last' functor can now distinguish between success and failure based on operator() or rollback() being called, so we can delete the command state from there appropriately. We delete in both cases, under the assumption that individual functors handle retries. Still need to implement (a) those\u00a0[...]\n (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-20 18:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f7550f86ec4f6b7fa6db08788eb68d7e2018aacc\">[49460]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Implement rollback functionality. Problem: need to log successful rollback so we don't try the command again on restart (or only do so a limited number of times).  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-18 13:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c071496edd3fd32349fb4e18f9538a05bc6becc1\">[49459]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Implement ReplyAndClean's rollback(). Update D_FULLDEBUG messages.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-18 11:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ead798e76040e236b5fb8ada541871a3a61e9509\">[49458]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Implement rollback framework.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-12 18:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99143c856e1d77628cd9ddad0ba0b78c890bf159\">[49421]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Implement hard state for commands. This ensures that bulk requests which were interrupted are completed and gain their leases. This commit does not handle rollback if the lease fails.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-30 10:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dfcdeb9d9059d2417fb30495be92ed1896156954\">[49420]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Update a few comments.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-21 11:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7dd3edabbcdd5a6e2166fdead2b779abfb4bf06\">[49292]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Build fix for rpmbuild platforms.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-16 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e5824cd909ff191e0a4ffdb455d6912d8f0fa248\">[49252]</a></span>: Revert \"(<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Don't build the annex daemon (or tool) until it's ready. Merge the other changes to get them a little more testing time.\" This reverts commit 897cb10e6aac3f6c6c39ede76b3fe19fc7fb63ba.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-13 13:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7e250a42ee36c7aa0f9afa6e47583a1e1395bc0f\">[49184]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) More build fixes for the Fedoras.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-13 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8e0298dc7d0aa20b69970905aeef0ceb810fda75\">[49182]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Build fixes for the Fedoras.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-12 14:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/897cb10e6aac3f6c6c39ede76b3fe19fc7fb63ba\">[49170]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Don't build the annex daemon (or tool) until it's ready. Merge the other changes to get them a little more testing time.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-09 10:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b79f7c329e6bee5529755d1864027ee1483745a8\">[49166]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Verify that the <span class=\"wiki\"><a href=\"wiki?p=PutTargets\" title=\"Put Targets\">PutTargets</a></span> command succeeded.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-08 15:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/868cd9795dc07f7e7069048861399fff8fbb4a07\">[49150]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Properly escape strings in the JSON argument to PutRule(), as well.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-08 15:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6fd11215afacf915a8563e8face364dc6395d20b\">[49149]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Finish the plumbing -- the lease works now.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-08 13:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7af9b36fb3f34278662d27d271bef22069c83f61\">[49144]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Rename 'AddTarget' to 'PutTargets' (sigh) and implement it. Also delete the events GAHP. Update the setup tools (example?) so that any <span class=\"wiki\"><a href=\"wiki?p=CloudWatch\" title=\"Cloud Watch\">CloudWatch</a></span> Events trigger owned by the same account has permission to call the lease function. This saves an API call per lease.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-07 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4ce870f68d8d35fe02f6cbc66d530a59b55a65c1\">[49143]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) For now, also add the ARN of the rule (a component of the lease) to the command-line tool's output.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-07 15:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/706b965b96e423f66f0ca73bbc80af2c99e8c641\">[49133]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Some code to help configure an account for HTCondor Annex.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-07 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1d1919016373f2107f7567f42d8516b9fe1df1db\">[49132]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) First (empirical) pass at using the <span class=\"wiki\"><a href=\"wiki?p=CloudWatch\" title=\"Cloud Watch\">CloudWatch</a></span> Events API.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-06 20:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f3eeac86c2dc5a4ed61af5e3545ca66baadf2f36\">[49126]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Clean up the previous commit a little.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-06 20:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f9c4680471b87359de83cea55756a3de5cf5e10f\">[49125]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add signature v4 support. Currently enabled (although not necessary) for bulk requests as a testing measure.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-06 14:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e4674d41645124afc57b4f50464cb501c97f3753\">[49114]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add a way to sequence separate gahp commands before synchronously replying to a single client command. (For configuring the lease on the spot fleet request.) Partially implement the first of the lease commands. The service in question requires using Signature v4, which will hopefully be the next\u00a0[...]\n (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-30 16:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/535d2245a7a45e50fc859bd716ed9c00529281f6\">[49107]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -service-url option to the command-line tool.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-30 16:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5ed00d211b3ce392aef3209c4807b0aa988b656f\">[49106]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Extract the service URL and credentials from configuration. Both will have to eventually come from the command ad, but for the latter that poses a potential security problem...  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 17:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3b85c7e7c933465f544c8acb19286a79d4658e2a\">[49101]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -default-user-data[-file] options.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 17:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/70fa3768dc638bc509a6c4f74001624a75bb7f59\">[49100]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -user-data[-file] options which always overwrite the userdata specified in the file. Will add a nonoverwriting version shortly.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 15:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/11b8b08bac7dad2431980d4457be02a3aa4bd0e6\">[49099]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Require the user to specify a filename (or - for stdin) from which to read, so we don't just (mysteriously) block on stdin.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 14:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a05a7aa42963402a366c6718c21b223a57d3a542\">[49097]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Move the <span class=\"wiki\"><a href=\"wiki?p=BulkRequest\" title=\"Bulk Request\">BulkRequest</a></span> class to its own files. The daemon now replies with the bulk request ID.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 12:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e19bb3ea091bb36d893c759a9c10839984191ccc\">[49096]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Actually use the daemon name when querying DT_GENERIC daemons.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 12:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/94e168a5200888e5491ed56a8b6a1c2209bdf52b\">[49095]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add -debug, -pool, -name options to annex.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-29 10:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b46bb9063bd643f8df7534b5bb3ac346a3f6cd26\">[49094]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Minor fix-ups.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-26 20:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8aac32d94fbf6863b6e208e9c68b0363f171b502\">[49090]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) First pass at a client tool which uses the annexd's new to locate it. Communication is the stock ClassAd-based method. Client reads AWS-compatible JSON blob and standard in.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-25 14:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d12801f8176b134e5a3fb3245bc6760f0cad1baa\">[49088]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) The annex daemon now has an ad.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-25 11:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bcff58966a9b3ce8d7fc906090a3bb5f9b96ed50\">[49079]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Fix the \"annex GAHP\"'s logging problem. Also clean up a few small things in the area.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-24 17:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7bd2ac6eff3faeb371469a7c82e14ff5d536ea4c\">[49078]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Properly encode (and name) the user data for Spot Fleet launch configurations.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-10 14:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bf02c6a4abba6aaf4b3b89bfe107924ee96e4093\">[48985]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) The annex daemon now gets the Spot Fleet request ID back from the GAHP (and dumps it into its log).  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 23:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/60ed4b9f3ce28782ed56898661cd9f86f9c758b5\">[48976]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Several parameters in the Spot Fleet API are improperly implemented; \"correct\" the names.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 21:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/42d3ee297ade7a561916e6446cfbecbf1b08c0b2\">[48975]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Add a polymorphism of bulk_start() which can forward existing launch configuraton JSON blobs. This makes the config file marginally less painful.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 15:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/03e82551c4b06d76690ef18500b283692e0a7239\">[48974]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Support NULL-means-none client tokens; add support for AWS web console -style block device + EBS specifications.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-08 16:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5c28f06d3808a79a112e0c538e2178a5edc15690\">[48964]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Get a Spot Fleet request to work.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-04 17:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4b0dfc231c098a51842357b3c167375bf3de5bf3\">[48950]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Stub out EC2_BULK_START. Much remains to be done.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-03 11:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/79466165a07a9ec839435864ba7d7d4cf0a102c6\">[48949]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Eliminate pointless string copies.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-02 18:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/53269aad6ef6e98d241c480cdbb0c49867165e36\">[48930]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Rewrite EC2 GAHP to use callGahpFunction(). Add ability to specify EC2 security group IDs (for VPC) to spot instances.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-01 11:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1eaca62716118a4d48aa2df60e580b2077bfbb29\">[48914]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Move the EC2-specific GAHP bits into their own subclass in anticipation of (a) removing the proxymanager dependency and (b) further design clean-ups.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-01 10:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/03a5b0b7a92fdd09dca834e672f83c2a9f63b400\">[48913]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Split the EC2 GAHP client code into its own file.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-01 10:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/29ee0297473f90b2e711efe194282446f5ae0551\">[48912]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Remove stray debug messages.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-01 10:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/be073de6f6f661c4a067577568ef0b69706f99ea\">[48911]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Demonstrate ability to use GAHP without the gridmanager.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 15:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/450c17bbac8b3db7b1be831a883b3cd093150e13\">[48904]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) The annexd skeleton can now actually link to the gahp client.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 15:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d8cec25c741f4f896cef7f2cbfe1e645af39281e\">[48903]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Move escapeGahpString() declarations to header file.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/eda91f283c87f4964d4f48709b2169fccf63228a\">[48893]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Create skeleton of new daemon.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/48baf2c45f75866a4abc65fbeb9165f99e94c7ee\">[48892]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Insert a generic GAHP client class between Service and the current GAHP client class. Reimplement ec2_vm_stop() with a method from the generic class (demonstrating duplicate code reduction).  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 11:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dffc67fc3de290f75334aac0940767376415c5a4\">[48891]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5816\" onclick=\"get_ticket_and_populate_wrapper('5816'); return false;\" title=\"Create an annex daemon.\">#5816</a></span>) Rename <span class=\"wiki\"><a href=\"wiki?p=YourSensitiveString\" title=\"Your Sensitive String\">YourSensitiveString</a></span> to <span class=\"wiki\"><a href=\"wiki?p=YourString\" title=\"Your String\">YourString</a></span>. Rename the existing (Windows-only) <span class=\"wiki\"><a href=\"wiki?p=YourString\" title=\"Your String\">YourString</a></span> to <span class=\"wiki\"><a href=\"wiki?p=YourInsensitiveString\" title=\"Your Insensitive String\">YourInsensitiveString</a></span>.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jun-18 14:23", "status": "resolved", "created": "2016-Jul-29 11:27", "fixed_version": "2016-Jul-29 11:27", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "tlmiller", "derived_from": "#5691", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
{"id": 2812, "title": "Ticket #2812: ConcurrencyLimits in Accountant not free'd", "description": "<blockquote>\nThe Accountant, a part of the Negotiator (condor_negotiator) keeps track of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ConcurrencyLimits\" title=\"Concurrency Limits\">ConcurrencyLimits</a></span> that are actively used.\n\n<p>In fact it keeps track of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ConcurrencyLimits\" title=\"Concurrency Limits\">ConcurrencyLimits</a></span> that have ever been actively used during its current run -- a restart of condor_negotiator clears this up.\n\n</p><p>A long running Negotiator -\n</p><div class=\"verbatim\">\n<pre>$ condor_userprio -l | grep ^ConcurrencyLimit_ | grep \"= 0.0\" | wc -l\n4338\n$ condor_userprio -l | grep ^ConcurrencyLimit_ | wc -l\n4735\n</pre></div>\n\n\n<p>In the example above, there are 4338 extra entries in the Accountant's concurrencyLimits hash table. They could be pruned. It may be as simple as changing Accountant::ClearLimits() to recreate the table instead of assigning 0 to every entry.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2012-Dec-11 16:37:58 by johnkn:</em> <br/>\n\nBulk change of target version from v070902 to v070903 using ./ticket-target-mover.\n<hr/>\n<em>2013-Jan-22 10:54:51 by johnkn:</em> <br/>\n\nBulk change of target version from v070903 to v070904 using ./ticket-target-mover.\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-Apr-22 11:10", "status": "new", "created": "2012-Feb-08 08:12", "fixed_version": "2012-Feb-08 08:12", "broken_version": "v070000", "priority": "4", "subsystem": "Daemons", "assigned_to": "tstclair", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 5328, "title": "Ticket #5328: interaction of Daemon ClassAd hooks and partitionable slots", "description": "<blockquote>\nThe manual does not clearly document the behavior of Daemon <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> hooks and partitionable/dynamic slots. Empircally each slot can take on different values for a check that confirms ICC installation.\n\n<p></p><pre>  [pcdev2:~] date; condor_status execute0060 -autof ICC_OK Name\n  Wed Oct 21 11:59:03 CDT 2015\n  false slot1@execute0060.nemo.phys.uwm.edu\n  true slot1_4@execute0060.nemo.phys.uwm.edu\n  true slot2@execute0060.nemo.phys.uwm.edu\n  true slot2_1@execute0060.nemo.phys.uwm.edu\n  true slot2_4@execute0060.nemo.phys.uwm.edu\n  false slot2_5@execute0060.nemo.phys.uwm.edu\n  true slot2_6@execute0060.nemo.phys.uwm.edu\n  true slot3@execute0060.nemo.phys.uwm.edu\n</pre>\n\n<p>Relatedly (I believe) this has the impact that adding this to a START expression will fail a requirements test after matching to an execute node:\n\n</p><p></p><pre>  CROND_REQUIREMENTS = ( \\\n    ifThenElse(isUndefined(MY.INSTRUMENT_DATA_OK), False, MY.INSTRUMENT_DATA_OK) &amp;&amp; \\\n    ifThenElse(isUndefined(MY.ICC_OK), False, MY.ICC_OK))\n</pre>\n\n<p></p><pre>  10/21/15 11:59:27 Job no longer matches partitionable slot after MODIFY_REQUEST_EXPR_ edits, retrying w/o edits\n  10/21/15 11:59:27 slot1: Partitionable slot can't be split to allocate a dynamic slot large enough for the claim\n</pre>\n\n<p>Removing the \"MY.\" yields success.\n\n</p><p>Are these expected behaviors of CROND and partitionable/dynamic slots?\n\n</p><p>Also in the manual: \"or when the job outputs a specialized line containing a dash as the first character.\" Is the CROND executable killed at that point or will further output be captured?</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2015-Oct-21 12:07", "status": "defer", "created": "2015-Oct-21 12:05", "fixed_version": "2015-Oct-21 12:05", "broken_version": "v080210", "priority": "5", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "tpdownes", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": ""}
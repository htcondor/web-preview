{"id": 2083, "title": "Ticket #2083: Dynamically link libvirt in UW builds", "description": "<blockquote>\nIn order for the vm-gahp to work on most or all linux distros, we need to always use the version of libvirt installed on the executing machine. This means always dynamically linking. Fortunately, all versions of libvirt that we care about are library-compatible. So which version we dynamically link with doesn't matter.\n\n<p>This means when libvirt isn't available on the build machine, we build and link against the shared libvirt library in our externals.\n\n</p><p>This ticket used to be derived from <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1021\" onclick=\"get_ticket_and_populate_wrapper('1021'); return false;\" title=\"libvirt version mismatch from distro (x,y,z)\">#1021</a></span>.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Apr-25 16:49:14 by jfrey:</em> <br/>\n\nMy first patch didn't work on all platforms. Now working on revised patch.\n\n<p></p><hr/>\n<em>2011-May-05 16:28:31 by jfrey:</em> <br/>\n\nI have a patch that addresses the previous issues. It requires libxml2 development packages to be installed on our build machines. I'm waiting for them to be installed on the Debian 5.0 machines in NMI. [nmi-support #9036]</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-25 16:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21983\">[21983]</a></span>: Always dynamically link libvirt for vm gahp, take 2. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2083\" onclick=\"get_ticket_and_populate_wrapper('2083'); return false;\" title=\"Dynamically link libvirt in UW builds\">#2083</a></span> In order for the vm-gahp to work on most or all linux distros, we need to always use the version of libvirt installed on the executing machine. This means always dynamically linking. Fortunately, all versions of libvirt that we care about are\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-22 18:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21549\">[21549]</a></span>: Revert \"Always dynamically link libvirt for vm gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2083\" onclick=\"get_ticket_and_populate_wrapper('2083'); return false;\" title=\"Dynamically link libvirt in UW builds\">#2083</a></span>\" This reverts commit 060cd482368a36dc1dbe07d864a6088a43004f64. This commit broke building the libvirt externals on machines without libxml2.a installed.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-22 13:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21547\">[21547]</a></span>: Always dynamically link libvirt for vm gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2083\" onclick=\"get_ticket_and_populate_wrapper('2083'); return false;\" title=\"Dynamically link libvirt in UW builds\">#2083</a></span> In order for the vm-gahp to work on most or all linux distros, we need to always use the version of libvirt installed on the executing machine. This means always dynamically linking. Fortunately, all versions of libvirt that we care about are library-compatible.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-May-27 13:46", "status": "resolved", "created": "2011-Apr-22 10:26", "fixed_version": "2011-Apr-22 10:26", "broken_version": "v070500", "priority": "2", "subsystem": "", "assigned_to": "jfrey", "derived_from": "#1135", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20110427"}
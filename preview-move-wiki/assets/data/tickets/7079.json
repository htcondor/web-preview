{"id": 7079, "title": "Ticket #7079: Address code review: Add timeouts to curl plugin", "description": "<blockquote>\nAddress code review comments regarding adding timeouts to curl plugin</blockquote>", "remarks": "<blockquote>\n<em>2019-Dec-12 09:54:12 by bbockelm:</em> <br/>\n\nFirst round of fixes here: <a class=\"external\" href=\"https://github.com/htcondor/htcondor/pull/86\">https://github.com/htcondor/htcondor/pull/86</a>\n\n<p>There was one embedded question in the code review that did not result in a code change:\n\n</p><p></p><div class=\"blockquote\">\n<table width=\"95%\"><tbody><tr><td>\u00a0</td><td>\n  \nWhy does setRuntimeAds() have const std::string &amp; input parameters, instead of just basic std::string objects?\n</td></tr></tbody></table></div>\n\n\n<p>This avoids a copy of the <code>std::string</code> in order to call the function (as all the function is doing is making a copy of the string).  The result is one copy is made instead of two.\n\n</p><p></p><hr/>\n<em>2020-Jan-02 13:39:31 by tim:</em> <br/>\n\n<strong>CODE REVIEW</strong> Mark reviewed and approved the updates.\n\n<p></p><hr/>\n<em>2020-Jan-02 13:40:29 by tim:</em> <br/>\n\nInternal changes. No documentation needed.\n<hr/>\n<em>2020-Apr-10 07:46:13 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-12 09:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=58795\">[58795]</a></span>: Address code review for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6971\" onclick=\"get_ticket_and_populate_wrapper('6971'); return false;\" title=\"Add timeouts to curl plugin\">#6971</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7079\" onclick=\"get_ticket_and_populate_wrapper('7079'); return false;\" title=\"Address code review: Add timeouts to curl plugin\">#7079</a></span>. This does a few things: - Simplify the implementation of `ParseAds`. Objects live on the stack; we use smart pointers to manage lifetimes; safe_fopen variants are used. More commentary is added about the function's purpose in the header. - `ParseAds` is invoked next\u00a0[...]\n (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Apr-10 07:46", "status": "resolved", "created": "2019-May-29 13:27", "fixed_version": "2019-May-29 13:27", "broken_version": "v080902", "priority": "4", "subsystem": "FileTransfer", "assigned_to": "bbockelm", "derived_from": "#6971", "creator": "tim", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
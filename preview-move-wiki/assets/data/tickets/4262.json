{"id": 4262, "title": "Ticket #4262: Java Test Enhancements Revisit", "description": "<blockquote>\nTook a deep look at java and java tests on windows. None we very clear about what they were doing in their output. I finally deduced our issue on windows 8 was HTCondor runs 32 bits and could not easily access a 64 bit java.\n\n<p>Though there are no new tests, there is ne functionality.\n\n</p><p>We want to fail immediately if we do not find a java, we want to set a timed callback in case the job does not run and we want to scrape the starter log\nfor <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JavaDetect\" title=\"Java Detect\">JavaDetect</a></span> if we do timeout.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-17 18:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39652\">[39652]</a></span>: These tests all do the new test <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JavaInitialize\" title=\"Java Initialize\">JavaInitialize</a></span> and some got their output cleaned up some. None of the actual java or class files changed. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4262\" onclick=\"get_ticket_and_populate_wrapper('4262'); return false;\" title=\"Java Test Enhancements Revisit\">#4262</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-17 18:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39651\">[39651]</a></span>: Besides the removal of is_windows, We wanted to better handle java tests. There are two function and we only call one. <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JavaInitialize\" title=\"Java Initialize\">JavaInitialize</a></span> will look for java and return it. This alllows tests to fail immediately if java is missing and we'll know why we failed. The other thing it does is establish a timeout\u00a0[...]\n (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-17 18:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39650\">[39650]</a></span>: wanted a way to to search the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StarterLog\" title=\"Starter Log\">StarterLog</a></span> when a java test times out for all <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JavaDetect\" title=\"Java Detect\">JavaDetect</a></span> events. So now you can pass an optional third arg. If you set all to an array hash, the search will now fill it.#4262  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-17 18:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39649\">[39649]</a></span>: On windows, add cygwin and windows paths to PATH for the 64 bit app location so when we check for having java in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JavaInitialize\" title=\"Java Initialize\">JavaInitialize</a></span> we will seee it and not immediately bail <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4262\" onclick=\"get_ticket_and_populate_wrapper('4262'); return false;\" title=\"Java Test Enhancements Revisit\">#4262</a></span>  (By Bill Taylor )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Aug-06 11:22", "status": "resolved", "created": "2014-Mar-17 10:52", "fixed_version": "2014-Mar-17 10:52", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "bt", "derived_from": "#3594", "creator": "bt", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
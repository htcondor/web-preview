{"id": 4066, "title": "Ticket #4066: batch_test.pl: Repeated runs slow down tests", "description": "<blockquote>\nIf you run the the full set of tests repeatedly (say, because you're bisecting a bug, or just doing incremental development), the tests will eventually get unusably slow, going from taking a few hours to taking a day or more.  This should be fixed.\n\n<p>Hypothesis: the problem is that various log files continue to accumulate between runs, and the testing code is re-reading them from the start, probably repeatedly.  If this is the case, ideally each test should set LOG to a private directory; failing that when a test finishes, it should move the logs to a private directory to leave LOG ready for the next test.  This will probably increase the speed of all tests.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Nov-14 14:20:04 by adesmet:</em> <br/>\n\nbt believes --isolated will solve the problem; tests won't share a single set of log files.  Testing now.  Considering if this should be the default.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-14 11:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38727\">[38727]</a></span>: batch_test.pl now reports how long the tests took Part of <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4066\" onclick=\"get_ticket_and_populate_wrapper('4066'); return false;\" title=\"batch_test.pl: Repeated runs slow down tests\">#4066</a></span>, establishing baseline times.  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Nov-14 14:20", "status": "new", "created": "2013-Nov-14 10:59", "fixed_version": "2013-Nov-14 10:59", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
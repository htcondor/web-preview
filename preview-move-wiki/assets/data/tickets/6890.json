{"id": 6890, "title": "Ticket #6890: python bindings CMakeLists needs changes for wheel builds", "description": "<blockquote>\nAs was done with <code>libclassad</code> and <code>libcondor_utils</code> in <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6692\" onclick=\"get_ticket_and_populate_wrapper('6692'); return false;\" title=\"Improve wheel packaging of python bindings\">#6692</a></span>, <code>libpyclassad</code> should not be placed in the wheel libs directory automatically <em>unless</em> the build is being done on macOS. Also, if a build is being done on macOS, the <code>RPATH</code> should not be set (via <code>INSTALL_RPATH</code>) because this confuses the wheel fixing tool on macOS.</blockquote>", "remarks": "<blockquote>\n<em>2019-Feb-01 11:21:44 by jpatton:</em> <br/>\n\nFixed in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d78ba0308136a002e3b15f3515ea648dc83f7d6c\">[56105]</a></span>. Make sure when running <code>auditwheel</code> for Linux wheel builds that the directory containing <code>libpyclassad***_wheel.so</code> is in your <code>$LD_LIBRARY_PATH</code> so that it is added to the fixed up wheel.\n\n<p></p><hr/>\n<em>2019-Feb-01 14:19:28 by tim:</em> <br/>\n\nLooks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Feb-01 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b3a875d9b76481db364a3f5ba736821e0cfca540\">[56106]</a></span>: Untabify changes (thanks editor) <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6890\" onclick=\"get_ticket_and_populate_wrapper('6890'); return false;\" title=\"python bindings CMakeLists needs changes for wheel builds\">#6890</a></span>  (By Jason Patton )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Feb-01 11:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d78ba0308136a002e3b15f3515ea648dc83f7d6c\">[56105]</a></span>: Made small changes to python bindings wheel builds for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6890\" onclick=\"get_ticket_and_populate_wrapper('6890'); return false;\" title=\"python bindings CMakeLists needs changes for wheel builds\">#6890</a></span>  (By Jason Patton )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Feb-05 11:14", "status": "resolved", "created": "2019-Feb-01 11:15", "fixed_version": "2019-Feb-01 11:15", "broken_version": "v080706", "priority": "4", "subsystem": "PythonBinding", "assigned_to": "jpatton", "derived_from": "#6692", "creator": "jpatton", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2190, "title": "Ticket #2190: startd asserts with dynamic slots on if it rejects a job offer", "description": "<blockquote>\nIf dynamic slots are enabled:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">SLOT_TYPE_1=cpus=4\nNUM_SLOTS=1\nNUM_SLOTS_TYPE_1 = 1\nSLOT_TYPE_1_PARTITIONABLE=true\n</pre></div>\n\n\n<p>and a job is submitted which will match in the negotiator, but not in the startd, like so:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">requirements = DaemonStartTime &gt; 100\n</pre></div>\n\n\n<p>Then the startd asserts so:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">05/25/11 13:28:41 slot1: Claiming protocol failed\n05/25/11 13:28:41 slot1: Changing state: Owner -&gt; Delete\n05/25/11 13:28:41 ERROR \"IdDispenser::insert: 1 is already free\" at line 54 in file /scratch/gthain/CONDOR_SRC/src/condor_startd.V6/IdDispenser.cpp\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Jun-29 08:40:10 by matt:</em> <br/>\n\nIIRC, this was not reproducible on 7.6 or 7.7.\n\n<p></p><hr/>\n<em>2013-Feb-13 09:39:22 by gthain:</em> <br/>\n\nworks correctly in 7.9</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2013-Feb-13 09:39", "status": "abandoned", "created": "2011-May-25 13:31", "fixed_version": "2011-May-25 13:31", "broken_version": "v070700", "priority": "2", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 3683, "title": "Ticket #3683: Minimize calls to DescribeInstances().", "description": "<blockquote>\nWe make a call to DescribeInstances() for an individual job in two cases:\n\n<p>In GM_PROBE_JOB, we call ec2_vm_status(), which returns slightly different information about the individual job than ec2_vm_status_all() does about all jobs.  Extending the latter to make the former superfluous should be relatively straightforward.\n\n</p><p>In GM_SEEK_INSTANCE_ID, we're checking to see if a job which entered the removed state while the grid manager was down spawned an instance.  (This can happen if we were interrupted between the call to RunInstances() and recording the instance ID.)</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Aug-06 10:11:07 by jfrey:</em> <br/>\n\n<strong>Design Review</strong>\n\n<p>Looks good.\n\n</p><p><strong>Code Review</strong>\n\n</p><p>Stop polluting my nice tab-indented gridmanager code with spaces!</p></blockquote>", "derived_tickets": "", "attachments": "<blockquote>\n<ul>\n<li><a href=\"attach_get/752/GT-3683-DesignDoc-V1.docx\">GT-3683-DesignDoc-V1.docx</a>\n5933 bytes added by tlmiller on 2013-Jun-10 19:09:37 UTC.\n</li></ul>\n</blockquote>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Aug-09 11:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37143\">[37143]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3683\" onclick=\"get_ticket_and_populate_wrapper('3683'); return false;\" title=\"Minimize calls to DescribeInstances().\">#3683</a></span>) Document improved EC2 behavior, troll code reviewer.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jun-12 13:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36537\">[36537]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3683\" onclick=\"get_ticket_and_populate_wrapper('3683'); return false;\" title=\"Minimize calls to DescribeInstances().\">#3683</a></span>) Eliminate the superflous call to DescribeInstances() in GM_SEEK_INSTANCE_ID.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jun-12 11:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36536\">[36536]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3683\" onclick=\"get_ticket_and_populate_wrapper('3683'); return false;\" title=\"Minimize calls to DescribeInstances().\">#3683</a></span>) Eliminate the superflous call to DescribeInstances() after a state change.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Aug-09 11:33", "status": "resolved", "created": "2013-Jun-06 17:30", "fixed_version": "2013-Jun-06 17:30", "broken_version": "v070905", "priority": "1", "subsystem": "Grid", "assigned_to": "tlmiller", "derived_from": "#3681", "creator": "tlmiller", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "tiradani@fnal.gov", "due_date": "20130614"}
{"id": 998, "title": "Ticket #998: Removal of *_fix_*.h's and subsequent deps.", "description": "<blockquote>\nThe second half to the symbol poisoning removal, is to eliminate all references to *_fix_*.h and clean up all symbol collisions that occur with the standard libs as a result.</blockquote>", "remarks": "<blockquote>\n<em>2009-Nov-23 13:00:58 by tstclair:</em> <br/>\n\nThis is a pre-req to merging in some CMAKE changes as I have a hack in my branch to bypass and I would like to remove entirely.\n\n<p></p><hr/>\n<em>2009-Nov-23 14:34:53 by tstclair:</em> <br/>\n\nThe changes include the removal of condor_fix_fstream, condor_fix_io_manip, and condor_fix_io_stream.   The reason for many of the collisions are the explicit using clause which was placed in the header.  By changing the sites to either call using in the .cpp or update to std:: on call locs you can bypass many of the symbol collisions.\n\n<p></p><hr/>\n<em>2009-Nov-24 09:35:36 by gthain:</em> <br/>\n\n I see that #include of iostream is added to a bunch of header files.  Do we need the full iostream there, or can we get by with #include-ing iosfwd?  I removed a #include iostream from condor_common, and it halved the size of our binaries\n\n<p></p><hr/>\n<em>2009-Nov-25 08:43:01 by tstclair:</em> <br/>\n\nAfter looking through the headers and errors, many of the deps are on cout and endl, which require iostream.  They were originally including condor_fix_iostream which included iostream, so there should be no real change.  If we want to remove them we should probably create another ticket, as right now my primary goal is to eliminate symbol poisoning.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/125/998.patch\">998.patch</a>\n27345 bytes added by tstclair on 2009-Nov-23 23:19:03 UTC.\n<br/>\nremoval of afore mentioned headers and subsequent file changes.  <br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-30 15:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/23cdd806a8ad02ce66923d46968d6adc2a9072ae\">[16463]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=998\" onclick=\"get_ticket_and_populate_wrapper('998'); return false;\" title=\"Removal of *_fix_*.h's and subsequent deps.\">#998</a></span> - removal of symbol poisoning code for open calls. This includes cleanup of namespace std issues, and updates to include standard headers.  (By Timothy St. Clair )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-04 09:20", "status": "resolved", "created": "2009-Nov-23 12:58", "fixed_version": "2009-Nov-23 12:58", "broken_version": "v070500", "priority": "4", "subsystem": "Unknown", "assigned_to": "tstclair", "derived_from": "#916", "creator": "tstclair", "rust": "", "customer_group": "users", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
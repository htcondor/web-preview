{"id": 174, "title": "Ticket #174: condor_reconfig and friends should report security problems", "description": "<blockquote>\nFor many client tools (including condor_reconfig, and almost certainly on, off, and restart), they simply report \"Sent \"Reconfig\" command to daemon at &lt;128.105.185.14:52759&gt;\".  They don't report if the daemon accepted it.  Indeed, if the security layer rejects it with\n\n<p>01/30 14:00:22 PERMISSION DENIED to unauthenticated user from host 128.105.121.21 for command 60004 (DC_RECONFIG), access level WRITE: reason: WRITE authorization policy contains no matching ALLOW entry for this request; identifiers used for this host: 128.105.121.21,chopin.cs.wisc.edu\n\n</p><p>you'll have no idea.  This confounds users all the time.\n\n</p><p>A core problem is that the tools \"fire and forget\", this will require revising the protocol, potentially switching to TCP, and other work.\n\n</p><p>Of course, failing for this reason deserves a non-0 exit code. (<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=172\" onclick=\"get_ticket_and_populate_wrapper('172'); return false;\" title=\"condor_reconfig (and others) should return non-zero on failure\">#172</a></span>)</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Aug-13 16:49:04 by khahn:</em> <br/>\n\ncondor_status is annoying in a related way... perhaps our output could differentiate between connection timeout, no ads, and connection dropped.\n(e.g. can't connect, no response, authentication error respectively)\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-02 06:10", "status": "new", "created": "2009-Jan-30 14:02", "fixed_version": "2009-Jan-30 14:02", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
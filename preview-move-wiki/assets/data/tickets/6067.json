{"id": 6067, "title": "Ticket #6067: add a tool that can compare daemon stats and show top results", "description": "<blockquote>\nThere should be a tool that can take two daemon ads (generated by using <code>condor_status -direct -statistics ALL:2</code>) and calculate the amount of time and total number of calls to various commands that are tracked by the stats code.\n\n<p>The tool will be called condor_top. Here is the usage\n\n</p><p></p><div class=\"verbatim\">\n<pre>Usage: condor_top.pl [-nhs num] classad-file1 clasad-file2\n    Calculate runtime statistics from two classads and display the top\n    results. The two input classads should be from the same daemon at\n    different times.\n    -n:         Displays only notable items\n    -h: Display this usage statement\n    -c num:     Sort by column number 'num'\n</pre></div>\n\n\n<p>To use this tool, get two classads for the same daemon separated by some amount of time. Ideally the classads will the have verbose statistics you get from condor_status -statistics, for instance:\n\n</p><p></p><div class=\"term\">\n<pre class=\"term\">condor_status -direct -name &lt;schedd-name&gt; -schedd -statistics -long &gt; first.ad\nsleep 60\ncondor_status -direct -name &lt;schedd-name&gt; -schedd -statistics -long &gt; second.ad\ncondor_top.pl first.ad second.ad\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2016-Dec-21 15:26:47 by johnkn:</em> <br/>\n\nTool was written by Cameron West, it sat on a branch for a while and was commited by me (with a few minor tweaks).\n\n<p></p><hr/>\n<em>2017-Jan-24 16:04:45 by tim:</em> <br/>\n\nNot documenting this script for now.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6205\" onclick=\"get_ticket_and_populate_wrapper('6205'); return false;\" title=\"condor_top using python bindings (condor_top.py)\">#6205</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_top using python bindings (condor_top.py)</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-02 14:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0ca4ee1d79143247bfe49b7b8e3eb1c2b9c774eb\">[49893]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6067\" onclick=\"get_ticket_and_populate_wrapper('6067'); return false;\" title=\"add a tool that can compare daemon stats and show top results\">#6067</a></span>) Fix condor_top script (discovered by broken RPM requirements)  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-21 15:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/effe809a0a38fab548c8050f9e824c1cc0c218b5\">[49862]</a></span>: Add condor_top.pl. a tool display daemon profile information from 2 daemon ads. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6067\" onclick=\"get_ticket_and_populate_wrapper('6067'); return false;\" title=\"add a tool that can compare daemon stats and show top results\">#6067</a></span> Committer: John (TJ) Knoeller  (By Cameron West )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jan-24 16:04", "status": "resolved", "created": "2016-Dec-21 15:22", "fixed_version": "2016-Dec-21 15:22", "broken_version": "", "priority": "4", "subsystem": "Tools", "assigned_to": "wenger", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 725, "title": "Ticket #725: VARS values cannot contain spaces", "description": "<blockquote>\n(This is essentially a duplicate of Gnats PR 936).\n\n<p>There is no way to get a space into a VARS value to be passed to a node job.  (And I'll bet there's no way to get a double-quote into the string, either.)\n\n</p><p>This needs to be addressed on two levels (at least, potentially):\n- Parsing the VARS line in the DAG file.\n- Actually constructing the arguments to pass to the condor_submit command.\n\n</p><p>(It also looks like we don't have a test that explicitly looks at the VARS functionality -- we should add one.)</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Sep-11 09:57:52 by wenger:</em> <br/>\n\n2009-09-11: hmm -- just talked with Pete (psilord) about this, and we decided on a couple of things:  The allowable format for VARS values in the DAG file should just be like a C string (delimited by \", \\ to escape characters).  And while we're at it, it might make sense to allow general enclosing of tokens in double quotes, so that node names, directories, etc., can contain whitespace.  (wenger)\n\n<p>2009-Dec-21 15:07:51 by wenger:_ <br/>\n\nI did a bunch of testing on this, and I found that with the new-format args in your submit file, you <strong>can</strong> pass a space as part of a VARS value.  It turns out that the main problem was not in the parsing of the VARS value in the DAG file, but in correctly getting it inserted into the arguments in the submit file.  It's a bit complicated to get this to work, so I'm going to document it in the manual with a bunch of examples.  It <strong>does</strong> turn out, though, that there's no way to get a space in a PRE or POST script argument, so I'm going to create a new ticket for that...\n\n</p><p></p><hr/>\n<em>2010-Jan-08 15:02:16 by wenger:</em> <br/>\n\nI just set the fixed version of this to v070401, because the fix is really to document things, and I'm currently working on adding that to the 7.4.1 manual...\n\n<p></p><hr/>\n<em>2010-Jan-11 17:39:27 by wenger:</em> <br/>\n\nThe way to get spaces (and tabs and other special characters) into VARS values is now documented in the 7.4.1 version of the manual.\n\n<p></p><hr/>\n<em>2010-Jan-11 17:42:51 by wenger:</em> <br/>\n\nOh, yeah -- there <strong>is</strong> an explicit DAGMan VARS test now...</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-11 17:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3084e553acf7302a89a57e8d7d4129b22b1f073b\">[25223]</a></span>: Added information in the DAGMan section about how to include special characters in VARS values (gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=725\" onclick=\"get_ticket_and_populate_wrapper('725'); return false;\" title=\"VARS values cannot contain spaces\">#725</a></span>); made some warnings about prohibited characters in VARS values and SCRIPT values bold; added known bugs (gittrac <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=1081\" onclick=\"get_ticket_and_populate_wrapper('1081'); return false;\" title=\"DAGMan PRE and POST script arguments cannot contain spaces\">#1081</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1082\" onclick=\"get_ticket_and_populate_wrapper('1082'); return false;\" title=\"DAGMan VARS values cannot contain single quotes\">#1082</a></span>) to the version history.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-18 12:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2934f41e4b1143335abc5aa938ac2d236c7a9e9d\">[25174]</a></span>: Changed parsing to use the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyString\" title=\"My String\">MyString</a></span> tokenizing methods (with no change to functionality -- this is preparation for fixing the 'no spaces in vars values bug' -- see gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=725\" onclick=\"get_ticket_and_populate_wrapper('725'); return false;\" title=\"VARS values cannot contain spaces\">#725</a></span>); fixed up some constness of strings.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-18 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ef54999b88f60694dd69829caa991e22ba24b398\">[16725]</a></span>: Changed parsing to use the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyString\" title=\"My String\">MyString</a></span> tokenizing methods (with no change to functionality -- this is preparation for fixing the 'no spaces in vars values bug' -- see gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=725\" onclick=\"get_ticket_and_populate_wrapper('725'); return false;\" title=\"VARS values cannot contain spaces\">#725</a></span>); fixed up some constness of strings.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-13 16:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/529c821fa34423f45e85c6a920c874be5d927252\">[16675]</a></span>: Added DAGMan VARS test -- this should be updated once the \"no spaces in VARS\" bug (gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=725\" onclick=\"get_ticket_and_populate_wrapper('725'); return false;\" title=\"VARS values cannot contain spaces\">#725</a></span>) is fixed.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-11 17:44", "status": "defer", "created": "2009-Sep-10 11:54", "fixed_version": "2009-Sep-10 11:54", "broken_version": "v070302", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu, psilord.cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
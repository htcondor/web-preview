{"id": 872, "title": "Ticket #872: Xen Default kernel param shouldn't be required", "description": "<blockquote>\nSince a vm universe job can specify that the kernel for the VM to use is included in the VM image, it shouldn't be required that the startds that can run VMs have to have XEN_DEFAULT_KERNEL installed.  If all jobs include the kernel to use in the VM image, then the setting is useless.  It should only be required if jobs are going to run that won't be providing a kernel for the VM to use.</blockquote>", "remarks": "<blockquote>\n<em>2009-Oct-20 14:56:26 by jfrey:</em> <br/>\n\nCan we just get rid of the 'xen_kernel = any' option in the submit file? Then we could ditch XEN_DEFAULT_KERNEL and friends in the execute machine config file. Do we know of any users relying on this feature?\n\n<p></p><hr/>\n<em>2009-Oct-20 15:35:23 by matt:</em> <br/>\n\nI'm all for getting rid of an execute side provided kernel.\n\n<p></p><hr/>\n<em>2009-Oct-20 15:49:11 by rrati:</em> <br/>\n\nCount me in the 'get rid of the params' camp.\n\n<p></p><hr/>\n<em>2009-Oct-20 15:59:44 by tstclair:</em> <br/>\n\n3rd vote\n\n<p></p><hr/>\n<em>2009-Oct-26 14:58:17 by jfrey:</em> <br/>\n\nThe patch <code>vm_rm_xenkern_any.patch</code> looks good to me.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/117/vm_default_kern_optional.patch\">vm_default_kern_optional.patch</a>\n4999 bytes added by rrati on 2009-Oct-20 18:32:10 UTC.\n<br/>\nThis patch make XEN_DEFAULT_KERNEL an optional parameter.  If it is defined, then the startds will advertise HasVMDefaultKernel = True in their ads, which can be used in match making.  condor_submit will add a requirement 'HasVMDefaultKernel == True' for all VM jobs that are submitted with 'xen_kernel = any'.<br/>\n</li><li><a href=\"../files/121/vm_rm_xenkern_any.patch\">vm_rm_xenkern_any.patch</a>\n8182 bytes added by rrati on 2009-Oct-26 19:37:02 UTC.\n<br/>\nThis patch will remove the option 'xen_kernel = any' from job submissions.  xen_kernel can now either be \"included\" or a path to a kernel file.  The XEN_DEFAULT_* parameters are also removed, so vm jobs that do no specify \"included\" need to define, minimally, a path to a kernel and additionally path to a initrd image.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-26 15:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16165\">[16165]</a></span>: Removed XEN_DEFAULT_* parameters, which also caused removal of 'xen_kernel = any' from the submit files. (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=872\" onclick=\"get_ticket_and_populate_wrapper('872'); return false;\" title=\"Xen Default kernel param shouldn't be required\">#872</a></span>)  (By Robert Rati )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-08 08:10", "status": "resolved", "created": "2009-Oct-20 13:30", "fixed_version": "2009-Oct-20 13:30", "broken_version": "v070200", "priority": "2", "subsystem": "VM", "assigned_to": "rrati", "derived_from": "", "creator": "rrati", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com jfrey@cs.wisc.edu", "due_date": ""}
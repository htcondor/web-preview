{"id": 5731, "title": "Ticket #5731: Add tests for NumJobCompletions.", "description": "<blockquote>\nThe test should verify the following:\n\n<p></p><ol>\n<li>job attribute <code>NumJobCompletions</code> is set to 0 on job submission.\n</li></ol>\n\n<p>The test should verify the following for each of nine jobs:\n\n</p><p></p><ol>\n<li>That <code>NumJobCompletions</code> remains unchanged when:\n<ol>\n<li>the job is held.\n</li><li>condor_vacate is run while the job is running.\n</li><li>condor_vacate_job is run while the job is running.\n</li></ol>\n</li><li>That <code>NumJobCompletions</code> increases by 1 when the job exits.\n</li></ol>\n\n<p>Those nine jobs are:\n</p><ul>\n<li>a job that exits 0\n<ul>\n<li>... and whose submit file has should_transfer_files = false. (1)\n</li><li>... and whose submit file has should_transfer_files = true\n<ul>\n<li>... and whose submit file has when_to_transfer_files = ON_EXIT. (2)\n</li><li>... and whose submit file has when_to_transfer_files = ON_EXIT_OR_EVICT. (3)\n</li></ul>\n</li></ul>\n</li><li>a job that exits non-0\n<ul>\n<li>... and whose submit file has should_transfer_files = false. (4)\n</li><li>... and whose submit file has should_transfer_files = true\n<ul>\n<li>... and whose submit file has when_to_transfer_files = ON_EXIT. (5)\n</li><li>... and whose submit file has when_to_transfer_files = ON_EXIT_OR_EVICT. (6)\n</li></ul>\n</li></ul>\n</li><li>a job that exits on a signal\n<ul>\n<li>... and whose submit file has should_transfer_files = false. (7)\n</li><li>... and whose submit file has should_transfer_files = true\n<ul>\n<li>... and whose submit file has when_to_transfer_files = ON_EXIT. (8)\n</li><li>... and whose submit file has when_to_transfer_files = ON_EXIT_OR_EVICT. (9)\n</li></ul>\n</li></ul>\n</li></ul>\n\n<p>These jobs can all be checked simultaneously.\n\n</p><p>Additionally (this test is not required), verify that:\n\n</p><p></p><ol>\n<li><code>NumJobCompletions</code> remains unchanged if the job is interrupted by 'condor_off -fast startd'.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2016-Jun-15 14:35", "status": "new", "created": "2016-Jun-15 11:04", "fixed_version": "2016-Jun-15 11:04", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "shuyang", "derived_from": "#5705", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, johnkn@cs.wisc.edu", "due_date": ""}
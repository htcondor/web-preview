{"id": 4304, "title": "Ticket #4304: Collector should publish a statistic for the rate of updates handled.", "description": "<blockquote>\nCollector should publish a statistic showing the rate at which it is handling updates.</blockquote>", "remarks": "<blockquote>\n<em>2014-Apr-11 09:22:40 by bbockelm:</em> <br/>\n\nHi TJ,\n\n<p>Can you include a Ganglia metric too?\n\n</p><p>Brian\n\n</p><p></p><hr/>\n<em>2014-Jun-23 14:18:48 by johnkn:</em> <br/>\n\nCurrent code isn't ready for use by those who shower more than yearly.  The attribute names are weird, and none of the values are published by default.\n\n<p>if you configure\n\n</p><p></p><pre>   COLLECTOR.STATISTICS_TO_PUBLISH = DC:1\n</pre>\n\n<p>you get these, as well as about 20 more stats about the state of daemon core.\n\n</p><p></p><pre>   DCCollector_UpdatesReceived = 19\n   DCCollector_UpdatesReceivedPerSecond_4m = 0.01619333308915539\n   DCCommands = 75\n   DCCommandsPerSecond_4m = 0.05768514585630172\n</pre>\n\n<p>But these stats should be published without the DC prefix, and should be published by default in the collector ad.  Ideally, the freshest value should be written into the collector ad each time it is queried.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 00:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/eecdd63231fc18e3bfba76d95871097f343bfdcb\">[39903]</a></span>: Add counter and hz stats for DC Commands and Collector updates <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4304\" onclick=\"get_ticket_and_populate_wrapper('4304'); return false;\" title=\"Collector should publish a statistic for the rate of updates handled.\">#4304</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-09 17:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/234ff5286555d238e957b552af033a512208cca6\">[39891]</a></span>: add command handler timings to dc_stats <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4304\" onclick=\"get_ticket_and_populate_wrapper('4304'); return false;\" title=\"Collector should publish a statistic for the rate of updates handled.\">#4304</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Feb-16 14:59", "status": "resolved", "created": "2014-Apr-10 14:26", "fixed_version": "2014-Apr-10 14:26", "broken_version": "v080000", "priority": "4", "subsystem": "DaemonsCM", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
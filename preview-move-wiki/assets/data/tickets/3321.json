{"id": 3321, "title": "Ticket #3321: make KVM checkpointing user experience like universe=standard", "description": "<blockquote>\nThe goal is that all a user has to do to switch from standard universe to vanilla+KVM checkpointing is change \"universe=standard\" to \"universe=vanilla; enable_checkpoints = true\".\n\n<p>This should probably decompose into a number of other tickets, including:\n\n</p><p></p><ul>\n<li>implement periodic checkpoints for vanilla+KVM checkpointing\n</li><li>allow KVM checkpoints to be stored/retrieved to/from checkpoint server\n</li><li>etc.\n</li></ul>\n\n<p>Random things to keep in mind before this hits production:\n\n</p><p></p><ul>\n<li>If Condor will write KVM checkpoints to disk and then copy them to the checkpoint server (rather than stream them like it does for standard universe), then with local checkpoint servers on each execute node, the max_vacate_time needs to be at least as long as it takes to write all of RAM (plus some virtual memory for good measure) to disk <strong>twice</strong>.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2013-Jul-09 22:45:07 by bbockelm:</em> <br/>\n\nIs there any compression for DMTCP checkpoints?  In CMS, using crtools, we found that our checkpoints compress by about a factor-5.  It'd seem something like Google Snappy would help out here in terms of saving disk activity.\n\n<p>FWIW - you write out to disk twice in the worst case, but not the average case.  Page cache will probably save you (writes to disk only occur if a certain threshold percentage of RAM is dirty).</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2015-Sep-21 17:23", "status": "defer", "created": "2012-Nov-13 15:13", "fixed_version": "2012-Nov-13 15:13", "broken_version": "", "priority": "5", "subsystem": "Std", "assigned_to": "adesmet", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu, anderson@ligo.caltech.edu,pcouvare@caltech.edu", "due_date": ""}
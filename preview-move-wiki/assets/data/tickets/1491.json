{"id": 1491, "title": "Ticket #1491: config knob USE_NFS not up-to-date", "description": "<blockquote>\nFrom a 6-4-2010 condor-users post:\n<div class=\"verbatim\">\n<pre>On 06/03/2010 12:27 PM, Gabriele Foerstner wrote:\n&gt; &gt; We changed our condor version from 6.8.6 to 7.4.1 and now our condor\n&gt; &gt; jobs get very often the following error messages written in the log file:\n&gt; &gt;\n&gt; &gt; 007 (016.022.000) 06/03 16:05:17 Shadow exception!\n&gt; &gt;         Error from slot3@htc5409.esrf.fr: Assertion ERROR on (result)\n&gt; &gt;         0  -  Run Bytes Sent By Job\n&gt; &gt;\n&gt; &gt; The message may even show up several times for the same process.\n&gt; &gt;\n&gt; &gt; The ShadowLog shows the following Error:\n&gt; &gt; 06/03 16:26:17 (16.39) (18909): ERROR \"Error from slot4@htc5413.esrf.fr:\n&gt; &gt; Assertion ERROR on (result)\" at line 655 in file pseudo_ops.cpp\n&gt; &gt;\n&gt; &gt; The processes get rescheduled, as as they might get even rescheduled\n&gt; &gt; several times, the execution time of a job cluster is more than twice as\n&gt; &gt; long.\n&gt; &gt;\n&gt; &gt; Version 6.8.6 was running on RedhatE4 (64-bit AMD hosts), and 7.4.1 is\n&gt; &gt; running on RedhatE5 (64-bit AMD hosts).\n&gt; &gt; I tested as well version 7.4.2, but it didn't help.\n&gt; &gt;\n&gt; &gt; We run only vanilla jobs.\n&gt; &gt; As most of our jobs are very I/O intensive, so we use NFS to avoid\n&gt; &gt; network traffic (USE_NFS = True).\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Thanks for your help\n&gt; &gt;    Gabriele\n\nNot helpful wrt your error, just at note on USE_NFS because I see so many people referencing it -\n\n According to the manual, it is primarily for the Standard Universe,\n\n  http://www.cs.wisc.edu/condor/manual/v7.5/3_3Configuration.html#15625\n\nThat said, a quick spin through the code suggests that USE_NFS is used by chirp\n in the Vanilla Universe and probably Parallel Universe. The manual could\n probably use with some updating, and the param could use a more specific name.\n\nBest,\n\n\nmatt\n</pre></div>\n\n\n<p>Doing\n</p><div class=\"verbatim\">\n<pre>grep -r USE_NFS *\n</pre></div>\n\nturns up the suspect instances\n<div class=\"verbatim\">\n<pre>condor_examples/condor_config.generic:#USE_NFS          = False\ncondor_examples/condor_config.submit.generic:#USE_NFS           = False\ncondor_examples/hawkeye_config:#USE_NFS         = False\ncondor_scripts/condor_glidein:USE_NFS = False\ncondor_shadow.std/README:               USE_NFS                         Whether this machine uses NFS file system. If the\ncondor_shadow.std/shadow.cpp:   use_nfs = param( \"USE_NFS\" );\ncondor_shadow.V6.1/baseshadow.cpp:      tmp = param(\"USE_NFS\");\ncondor_shadow.V6.1/baseshadow.h:                        USE_AFS, USE_NFS, and CKPT_SERVER_HOST.\ncondor_shadow.V6.1/pseudo_ops.cpp:      if( !lookup_boolean_param(\"USE_NFS\") ) {\ncondor_tests/x_condor_config_template:#USE_NFS          = False\n</pre></div>\n\n\n<p>From this, Pete will place into this ticket info on what, if anything,\nneeds to change in the documentation of USE_NFS, and then reassign the\nticket to Karen.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-09 12:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a7bfaac2baafdeace970722c96f21d11461f5953\">[30877]</a></span>: Little edits to updated info in defn of USE_NFS ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1491\" onclick=\"get_ticket_and_populate_wrapper('1491'); return false;\" title=\"config knob USE_NFS not up-to-date\">#1491</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-09 09:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/db7079902361197d02175bdb343d6760d2fae4fe\">[30873]</a></span>: Touch up documentation of USE_NFS <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1491\" onclick=\"get_ticket_and_populate_wrapper('1491'); return false;\" title=\"config knob USE_NFS not up-to-date\">#1491</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2012-Mar-09 09:35", "status": "resolved", "created": "2010-Jul-08 10:38", "fixed_version": "2010-Jul-08 10:38", "broken_version": "v070400", "priority": "4", "subsystem": "Unknown", "assigned_to": "gthain", "derived_from": "", "creator": "smoler", "rust": "", "customer_group": "other", "visibility": "public", "notify": "smoler@cs.wisc.edu", "due_date": ""}
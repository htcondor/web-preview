{"id": 6784, "title": "Ticket #6784: there should be a knob to set the default for should_transfer_files", "description": "<blockquote>\nCurrently, <code>should_transfer_files</code> defaults to <code>IF_NEEDED</code>, which doesn't always work by default when the job runs on the same machine as the scheduler.  This is because the user's files may not be readable by nobody, but <code>IF_NEEDED</code> will assume that file transfer is unnecessary when submit and execute are the same machine.\n\n<p>On the other hand, some pools have a shared file system and always run jobs as the submitting user, in which case the preferred default for <code>should_transfer_files</code> is NO.\n\n</p><p>There should be a config knob that allows an admin to choose the default value for should_transfer_files when the submit file does not specify it.  This knob will be called SUBMIT_DEFAULT_SHOULD_TRANSFER_FILES and it will default to IF_NEEDED.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Oct-23 11:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a733d4c56f04ab2a20164069d826755cb18b8075\">[55609]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6581\" onclick=\"get_ticket_and_populate_wrapper('6581'); return false;\" title=\"condor_submit should not always read from stdin if no submit file\">#6581</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6752\" onclick=\"get_ticket_and_populate_wrapper('6752'); return false;\" title=\"ReadUserLog::readEvent() broken on Windows?\">#6752</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6784\" onclick=\"get_ticket_and_populate_wrapper('6784'); return false;\" title=\"there should be a knob to set the default for should_transfer_files\">#6784</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6698\" onclick=\"get_ticket_and_populate_wrapper('6698'); return false;\" title=\"Provide the ability to identify black hole slots\">#6698</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6737\" onclick=\"get_ticket_and_populate_wrapper('6737'); return false;\" title=\"Accounting and Defrag adtypes missing from python bindings\">#6737</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6723\" onclick=\"get_ticket_and_populate_wrapper('6723'); return false;\" title=\"Late Materialization jobs handle getenv=true incorrectly\">#6723</a></span>, and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6732\" onclick=\"get_ticket_and_populate_wrapper('6732'); return false;\" title=\"speed up the schedd check for a change in an autoclustered attribute\">#6732</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Oct-23 11:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5907d43812e4bb565329ba4f2f69722d8ff929c6\">[55610]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6581\" onclick=\"get_ticket_and_populate_wrapper('6581'); return false;\" title=\"condor_submit should not always read from stdin if no submit file\">#6581</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6752\" onclick=\"get_ticket_and_populate_wrapper('6752'); return false;\" title=\"ReadUserLog::readEvent() broken on Windows?\">#6752</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6784\" onclick=\"get_ticket_and_populate_wrapper('6784'); return false;\" title=\"there should be a knob to set the default for should_transfer_files\">#6784</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6698\" onclick=\"get_ticket_and_populate_wrapper('6698'); return false;\" title=\"Provide the ability to identify black hole slots\">#6698</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6737\" onclick=\"get_ticket_and_populate_wrapper('6737'); return false;\" title=\"Accounting and Defrag adtypes missing from python bindings\">#6737</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6723\" onclick=\"get_ticket_and_populate_wrapper('6723'); return false;\" title=\"Late Materialization jobs handle getenv=true incorrectly\">#6723</a></span>, and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6732\" onclick=\"get_ticket_and_populate_wrapper('6732'); return false;\" title=\"speed up the schedd check for a change in an autoclustered attribute\">#6732</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Sep-28 11:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7840d4cb45e38ed33849e2b44869ba2785c82a59\">[55488]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6784\" onclick=\"get_ticket_and_populate_wrapper('6784'); return false;\" title=\"there should be a knob to set the default for should_transfer_files\">#6784</a></span>, add the knob SUBMIT_DEFAULT_SHOULD_TRANSFER_FILES which will be used by condor_submit and the python submit to set a default value for should_transfer_files when the submit file doesn't specify one and the value isn't forced by some other statement in the submit such as the universe. ===VersionHistory:Pending===\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Oct-23 11:46", "status": "resolved", "created": "2018-Sep-27 11:05", "fixed_version": "2018-Sep-27 11:05", "broken_version": "", "priority": "4", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
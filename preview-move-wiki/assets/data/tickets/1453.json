{"id": 1453, "title": "Ticket #1453: Documentation required for new SCHEDD_CLUSTER_MAXIMUM_VALUE", "description": "<blockquote>\nNeed to update documentation to include description of new configuration parameter SCHEDD_CLUSTER_MAXIMUM_VALUE.  See also <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1315\" onclick=\"get_ticket_and_populate_wrapper('1315'); return false;\" title=\"RFE: Provide a maximum cluster id value, useful in controlled envs\">#1315</a></span></blockquote>", "remarks": "<blockquote>\n<em>2010-Jun-14 13:56:48 by eje:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>======================================</pre></div>\n\nSCHEDD_CLUSTER_MAXIMUM_VALUE is an upper bound on the job cluster id.\nIf this parameter is set to a value (M), the maximum job cluster id\nassigned to any job will be (M-1).  When the maximum id is reached, job\nids will wrap around back to SCHEDD_CLUSTER_INITIAL_VALUE. The default\nvalue is zero, in which case behavior is no maximum cluster id (backward\ncompatible).\n\n<p>Caveat: If you set this parameter to a value (M), you are responsible\nfor ensuring that you have fewer than (M) jobs in your que at any time.\nOtherwise, in the event that many new jobs are queued up simultaneously,\nit is possible for jobs to be erroneously assigned duplicate cluster\nids, which will result in a corrupted job queue.\n\n</p><p>See also:  SCHEDD_CLUSTER_INITIAL_VALUE, SCHEDD_CLUSTER_INCREMENT_VALUE\n</p><div class=\"verbatim\">\n<pre>=====================================</pre></div>\n\n\n<p>Actually, the true caveat is a bit stronger than that: user is\nresponsible for making sure that old jobs complete before new job ids\nwrap around.  In other words, if you have a really long-running job with\nid (x.0), and cluster id wraps back around to (x), you'll have a\nproblem, even if cluster (x+1, x+2, ...) are free.\n\n</p><p>Here is some content for initial-val and increment-val:\n\n</p><p></p><div class=\"verbatim\">\n<pre>================================</pre></div>\n\nSCHEDD_CLUSTER_INITIAL_VALUE specifies the first cluster id number that will be\nassigned.  This parameter defaults to 1.  If the job cluster id reaches the\nvalue set by SCHEDD_CLUSTER_MAXIMUM_VALUE and wraps, it will be re-set to\nSCHEDD_CLUSTER_INITIAL_VALUE.\n\n<p>Note that the most recently used cluster id is saved, and persists across\nshutdown and restart.  If the \"job_queue.log\" file is removed, then after\nsystem restart cluster ids will be assigned starting from\nSCHEDD_CLUSTER_INITIAL_VALUE.\n\n</p><p>See also: SCHEDD_CLUSTER_INCREMENT_VALUE, SCHEDD_CLUSTER_MAXIMUM_VALUE\n</p><div class=\"verbatim\">\n<pre>================================</pre></div>\n\n<div class=\"verbatim\">\n<pre>================================</pre></div>\n\nSCHEDD_CLUSTER_INCREMENT_VALUE specifies the increment used to assign new\ncluster id numbers.  Its default value is 1.\n\n<p>For example, if SCHEDD_CLUSTER_INITIAL_VALUE is set to 2, and\nSCHEDD_CLUSTER_INCREMENT_VALUE is set to 2, then cluster id numbers will be {2,\n4, 6, ...}\n\n</p><p>See also: SCHEDD_CLUSTER_INITIAL_VALUE, SCHEDD_CLUSTER_MAXIMUM_VALUE\n</p><div class=\"verbatim\">\n<pre>================================</pre></div>\n\n<hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:08:44 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2011-Jun-29 11:36:04 by smoler:</em> <br/>\n\nThis ticket was mostly finished long ago.  A last detail was added to the 7.6.1 manual.  So, setting the Fixed Version to 7.6.1, even though most of the ticket was fulfilled in earlier manuals.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 11:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3feb4ddfa5ed31f086db0c448bec2d98a6277db1\">[26054]</a></span>: last details completed on old ticket. ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1453\" onclick=\"get_ticket_and_populate_wrapper('1453'); return false;\" title=\"Documentation required for new SCHEDD_CLUSTER_MAXIMUM_VALUE\">#1453</a></span>  (By Karen Miller )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2011-Jun-29 11:36", "status": "resolved", "created": "2010-Jun-14 13:53", "fixed_version": "2010-Jun-14 13:53", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "smoler", "derived_from": "#1315", "creator": "eje", "rust": "", "customer_group": "other", "visibility": "public", "notify": "eje@cs.wisc.edu, matt@cs.wisc.edu", "due_date": ""}
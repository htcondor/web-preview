{"id": 7066, "title": "Ticket #7066: condor_q -current is wrong when schedd restarts and reconnects", "description": "<blockquote>\ncurrently condor_q -current calculates the current runtime by subtracting the shadow birthdate from the current time, and -run takes that value and adds <code>RemoteWallClockTime</code> to get the total runtime.\n\n<p>When the Schedd restarts and reconnects to a running job, a new shadow is created and <code>ShadowBDay</code> is updated, and then <code>RemoteWallClockTime</code> is updated so that the runtime before the reconnect becomes 'historical' runtime.  This means that after a reconnect <code>condor_q -run</code> is still correct.   but <code>condor_q -current</code> only shows how long the current shadow has been alive rather than the actual current runtime of the job from the perspective of the job (and of the stater).\n\n</p><p>We should change condor_q so that the calculation of current runtime uses <code>JobCurrentStartDate</code>, which does not get changed when a reconnect happens.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:42:27 by tim:</em> <br/>\n\nBulk change of target version from v080808 to v080809 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2020-Oct-12 10:02", "status": "new", "created": "2019-May-22 14:46", "fixed_version": "2019-May-22 14:46", "broken_version": "v080000", "priority": "4", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
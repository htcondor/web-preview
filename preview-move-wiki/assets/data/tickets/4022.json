{"id": 4022, "title": "Ticket #4022: Use pre-built libraries for Windows builds", "description": "<blockquote>\nOn Windows, there is very little reason to want or need to build third party libraries from source by default. It is considerably more convenient to just build once or use supplied prebuilt binaries of third party libraries. Doing so will not only decrease the build times for Windows, but also remove one of the biggest impediments to creating a native 64bit version of HTCondor, namely the need to rig the building of externals through some haphazard CMake macro magic.\n\n<p>This would also be a good opportunity to actually update some of the externals we use considering how old some of them are.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4023\" onclick=\"get_ticket_and_populate_wrapper('4023'); return false;\" title=\"64bit port of HTCondor on Windows\">#4023</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\n64bit port of HTCondor on Windows</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4072\" onclick=\"get_ticket_and_populate_wrapper('4072'); return false;\" title=\"Build python bindings on Windows\">#4072</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nBuild python bindings on Windows</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-20 10:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39074\">[39074]</a></span>: Copy yet more files into condor_tests to accommodate unit tests. All except consumption should now pass. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-18 17:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39072\">[39072]</a></span>: Add other unit tests to the standard test run. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-18 13:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39071\">[39071]</a></span>: Add collector unit test to Windows test run. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-17 15:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39069\">[39069]</a></span>: Tweak placement of classad external to acommodate a few external dependencies. Do not use ctest on Windows. Copy the unit tests to the condor_tests folder. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-09 12:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39068\">[39068]</a></span>: Move classad external upward to accomodate Linux builds. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-09 12:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39067\">[39067]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=38083\">[38083]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=38105\">[38105]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=38113\">[38113]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=38134\">[38134]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=38735\">[38735]</a></span>, Fix merge conflict with VS2012 branch. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-15 13:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38735\">[38735]</a></span>: Attempting to properly pull in boost as an external was an interesting experience. In the process, I discovered that the cp in msconfig is broken and that the gsoap external somehow depended on the broken behavior of the cp in msconfig. Now however an updated version of boost (not the latest because\u00a0[...]\n (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-08 11:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38134\">[38134]</a></span>: Fix install step for krb5 to add more missing DLLs. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span> Ticket  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-06 16:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38113\">[38113]</a></span>: Fix krb5 externals to make sure the DLLs are actually copied. Also set to use Visual Studio 2012 by default. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-06 14:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38105\">[38105]</a></span>: Remove several externals that are more or less Linux specific from Windows build. Deferred fixing DRMAA for now due to the sticky build setup. Deferred fixing boost until the way it's getting shoved in can be cleaned up and a list of needed boost libraries is figured out. Made a couple of code fixes\u00a0[...]\n (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38083\">[38083]</a></span>: Add updated CMake file for kerberos for Visual Studio 2012 and slightly tweak CMake files for OpenSSL and PCRE to standardize package naming. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 15:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38081\">[38081]</a></span>: Add updated PCRE CMake file for Visual Studio 2012. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 14:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38080\">[38080]</a></span>: Add CMake file for updated OpenSSL on Windows for Visual Studio 2012. Ticket <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4022\" onclick=\"get_ticket_and_populate_wrapper('4022'); return false;\" title=\"Use pre-built libraries for Windows builds\">#4022</a></span>  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "todo", "last_change": "2014-Aug-07 12:38", "status": "new", "created": "2013-Oct-30 16:39", "fixed_version": "2013-Oct-30 16:39", "broken_version": "v080000", "priority": "4", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "ziliang", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
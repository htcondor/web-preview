{"id": 1537, "title": "Ticket #1537: Improper escaping of error messages in nordugrid gahp", "description": "<blockquote>\nWhen passing error messages from the gridftp library back to the gridmanager, the nordugrid gahp converts newlines to spaces. It does this because the error messages often end up in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReason\" title=\"Hold Reason\">HoldReason</a></span> attribute of the job ad, and the schedd can't handle newlines in attribute values. But the gahp doesn't escape these spaces, which makes the gridmanager unable to parse the gahp's response, causing the gridmanager to EXCEPT.\n\n<p>The escape_err_msg() function in the nordugrid gahp needs to be fixed to properly escape any spaces generated because of newlines.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Jul-28 13:56:47 by jfrey:</em> <br/>\n\nPushed a fix to master for 7.5.4.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-28 13:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18641\">[18641]</a></span>: Fix escaping of error messages in nordugrid gahp <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1537\" onclick=\"get_ticket_and_populate_wrapper('1537'); return false;\" title=\"Improper escaping of error messages in nordugrid gahp\">#1537</a></span> When passing error messages from the gridftp library back to the gridmanager, the nordugrid gahp converts newlines to spaces. It does this because the error messages often end up in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReason\" title=\"Hold Reason\">HoldReason</a></span> attribute of the job ad, and the schedd can't handle\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jul-28 13:56", "status": "resolved", "created": "2010-Jul-26 15:18", "fixed_version": "2010-Jul-26 15:18", "broken_version": "v070503", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
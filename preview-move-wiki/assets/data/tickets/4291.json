{"id": 4291, "title": "Ticket #4291: Overlayed I/O with dedicated transfer slots", "description": "<blockquote>\nUser-visible information available on the wiki here: <span class=\"wiki\"><a href=\"wiki?p=ExperimentalOverlayedFileTransfer\" title=\"Experimental Overlayed File Transfer\">ExperimentalOverlayedFileTransfer</a></span>\n\n<p>The latest approach for overlaying execution of jobs with the transferring of the output sandbox.  Full details in <a class=\"external\" href=\"https://docs.google.com/document/d/1KS_nwWg_U_JQYTiylDsnpO5gsVVij5BIl2tYk8rzhm0/edit#heading=h.4jtvztsa70ce\">Design Doc</a>\n\n</p><p>Have the following in your condor_config:\n</p><div class=\"code\">\n<pre class=\"code\">$EXPERIMENTAL : ASYNC_STAGEOUT\n</pre></div>\n\nwhich is equivalent to\n<div class=\"code\">\n<pre class=\"code\"># append cluster ID to StarterLog, may be: Cluster, JobId, false or true. true gives 8.0 compatible behavior.\nALLOW_SLOT_PAIRING=true\nSTARTER_LOG_NAME_APPEND=false\n# create a type2 xfer slot for every type1 slot\nNUM_SLOTS_TYPE_1 = $(NUM_CPUS)\nNUM_SLOTS_TYPE_2 = $(NUM_SLOTS_TYPE_1)\nSLOT_TYPE_2 = minimal cpus=0.1 memory=100 disk=auto\nSLOT_TYPE_2_NAME_PREFIX = xfer\nSLOT_TYPE_2_PAIRED_WITH = SLOT_TYPE_1\nSLOT_TYPE_2_HIDDEN = true\nSLOT_TYPE_2_START = TARGET.JobTransferringOutput  &amp;&amp; splitslotname(TARGET.RemoteHost)[1] == splitslotname(MY.Name)[1]\nSTARTD_SLOT_ATTRS = $(STARTD_SLOT_ATTRS) State Activity EnteredCurrentActivity JobId GlobalJobId\n</pre></div>\n\nFor testing I modified this slightly, and changed a few things to make HTCondor more \"interactive\":\n<div class=\"code\">\n<pre class=\"code\">NUM_SLOTS_TYPE_1 = 1\nSLOT_TYPE_2_HIDDEN = false\nSCHEDD_INTERVAL = 5\nUPDATE_INTERVAL = 5\n</pre></div>\n\n\n<p>Here's the submit file I'm using for testing async.sub:\n</p><div class=\"code\">\n<pre class=\"code\">universe = vanilla\nexecutable = async.sh\n\nshould_transfer_files = ALWAYS\nwhen_to_transfer_output = ON_EXIT_OR_EVICT\n\n+wantioproxy = True\n\noutput = a.$(Cluster).$(Process).out\nerror = a.$(Cluster).$(Process).err\n\nlog = a.log\n\nnotification = never\nrequirements = (CPUS &gt;= 1)\n\nqueue 4\n</pre></div>\n\n\n<p>You can use streaming out and error if you want, but be warned that reconnect won't work:</p><div class=\"code\">\n<pre class=\"code\">stream_output = True\nstream_error = True\n</pre></div>\n\nAnd here is the script async.sh:\n<div class=\"code\">\n<pre class=\"code\">#!/bin/sh\n\necho \"I AM:\"\nwhoami\nhostname\nuname -a\n\necho \"ENV:\"\nenv\n\necho \"executing for 120 seconds...\"\ntouch executing\nsleep 120\n\necho /scratch.1/zmiller/build/release_dir//libexec/condor_chirp phase output\n/scratch.1/zmiller/build/release_dir//libexec/condor_chirp phase output\n\necho \"transferring for 120 seconds...\"\ntouch transferring\nsleep 120\n\nrm executing transferring\n\necho THAT IS ALL!\n\nexit 0\n</pre></div>\n\n\n<p>Here is a template you can use to run \"condor_status -pr pairs.pr\":\n</p><div class=\"code\">\n<pre class=\"code\"># condor_status query for slot pairs, use with condor_status -direct to see hidden pairs.\nSELECT\n   # Machine WIDTH AUTO\n   splitslotname(Name)[0] AS SlotName WIDTH -8\n   IfThenElse(SlotPairName isnt undefined,splitslotname(SlotPairName)[0],\"-\") AS Paired\n   Strcat(Arch,\"_\",IfThenElse(OpSys==\"WINDOWS\",OpSysShortName,OpSysAndVer)) AS Platform\n   Cpus AS Cpus PRINTF \"%.3f\"\n   # IfThenElse(GPUs isnt undefined,GPUs,0) AS GPUs PRINTF \"%4d\"\n   Memory WIDTH 6\n   Disk       WIDTH 8\n   EnteredCurrentActivity AS \"  StatusTime\"  PRINTAS ACTIVITY_TIME NOPREFIX\n   Strcat(State,\"/\",Activity) AS Status WIDTH -14 TRUNCATE\n   ifthenelse(JobId isnt undefined, JobId, \"\") AS JobID\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2014-Apr-09 17:49:42 by bbockelm:</em> <br/>\n\nHi -\n\n<p>When I try the suggested config, I get:\n\n</p><p></p><div class=\"verbatim\">\n<pre>04/09/14 17:45:42 ERROR: Can't allocate 1st slot of type 2\n        Requesting: slot type 2: Cpus: 0.100000, Memory: 100, Swap: 0.78%, Disk: auto, BANDWIDTH: 0\n        Available:  Slot #2: Cpus: 0, Memory: 0, Swap: 0.00%, Disk: 0.00%, BANDWIDTH: 0\n04/09/14 17:45:42 ERROR \"Ran out of system resources\" at line 122 in file /home/cse496/bbockelm/projects/condor/src/condor_startd.V6/slot_builder.cpp\n</pre></div>\n\n\n<p>Suggestions?\n\n</p><p></p><hr/>\n<em>2014-Apr-11 12:08:24 by zmiller:</em> <br/>\n\nYou had partitionable slots enabled, which currently isn't compatible with Async IO.  HTCondor now prints a more friendly error message in that case.\n\n<p></p><hr/>\n<em>2015-Mar-18 16:15:13 by smoler:</em> <br/>\n\nWiki page completed.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"docpending\" href=\"/tickets?ticket=4280\" onclick=\"get_ticket_and_populate_wrapper('4280'); return false;\" title=\"Slot config needs new features to support async stageout\">#4280</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nSlot config needs new features to support async stageout</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/tickets?ticket=4302\" onclick=\"get_ticket_and_populate_wrapper('4302'); return false;\" title=\"Paired slots should cross-advertise some of each others attributes\">#4302</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nPaired slots should cross-advertise some of each others attributes</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-22 15:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/36d4e034b4e82c33631c54715fba6e34a6ba8757\">[40218]</a></span>: add 8.1.6 version history item about experimental overlap of stage out with new job execution <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-14 14:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b0abdac63b811e1f80f311c4df27ac33dc65df27\">[39920]</a></span>: Squashed commit of the following: V8_1-async_transfer, which adds overly execute and output transfer. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>\u00a0[...]\n (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 11:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9ae833da5da8f16ccf3c00c181155be759102687\">[39906]</a></span>: Use the more scalable job updater class for the chirp \"phase\" attributes <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 11:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/580ae66154d89d3c373133c436a698c8074f8125\">[39905]</a></span>: Abort startd with reasonable error message when PAIRED_WITH and PARTITIONABLE are use together <span class=\"ticket\"><a class=\"docpending\" href=\"/tickets?ticket=4280\" onclick=\"get_ticket_and_populate_wrapper('4280'); return false;\" title=\"Slot config needs new features to support async stageout\">#4280</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-09 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fb338ec65402ac1f6159ffc9aa1a02b7151f23cf\">[39889]</a></span>: rename config ALLOW_SLOT_CLAIM_SWAP to ALLOW_SLOT_PAIRING <span class=\"ticket\"><a class=\"docpending\" href=\"/tickets?ticket=4280\" onclick=\"get_ticket_and_populate_wrapper('4280'); return false;\" title=\"Slot config needs new features to support async stageout\">#4280</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> This change also updates the $EXPERIMENTAL:ASYNC_STAGING knob and fixes a typo in the implemtation of SLOT_TYPE_n_START, etc. ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-09 11:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/241c186b86c357904033a770ac5ec9cefc634998\">[39887]</a></span>: Add SLOT_TYPE_n_* overrides for START, PREEMPT, etc <span class=\"ticket\"><a class=\"docpending\" href=\"/tickets?ticket=4280\" onclick=\"get_ticket_and_populate_wrapper('4280'); return false;\" title=\"Slot config needs new features to support async stageout\">#4280</a></span> child of <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-07 16:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8f204f27433975b4a3f30eba0873375e11df0030\">[39872]</a></span>: Update <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RemoteHost\" title=\"Remote Host\">RemoteHost</a></span> and RemoteSlotID in job ad after swapping claims. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-07 14:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/573dd3f75ac56328cec875f34cfc2f00861289a5\">[39871]</a></span>: Improve paired-claim reuse on shadow exit. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-07 12:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ed6e967f2e5faae1444ed1fdf930ca77f01d985c\">[39869]</a></span>: Log phase transition as generic event <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-04 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/844f3c0b13926fe3f6dcabbfa19ea2f651919851\">[39863]</a></span>: After swapping claims, immediately look for a new job to run. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-03 14:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e9e53d649876d04bff41c782cd74640816c3fd46\">[39859]</a></span>: Don't crash if AddMrec() fails for paired slot. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-03 14:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d081c924e9e8f9609fe69ba99d5799d2e0c30cf9\">[39858]</a></span>: better logging of buddy claims in startd <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-03 13:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e3fc0e3425f9430b538ed8dc0ef797dff18a10d7\">[39851]</a></span>: Add chirp \"phase\" command. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-03 11:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3bf21e5f2f56301e2bfebae959770646143ab2d2\">[39850]</a></span>: Move setting of ATTR_JOB_TRANSFERRING_OUTPUT_TIME to the shadow. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-02 17:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e91b5ed254fdc9e8b0754f20ac429c4e37e8b983\">[39848]</a></span>: remove \\r from end of ASYNC_STAGEOUT metaknob <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-02 17:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/028cfc82dddab89f51d463a4228fca84483f05ff\">[39847]</a></span>: claim paired slot when claiming a slot, and return paired claim id and slot ad <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> When a pairing has been established between two slots, both of them always go into claimed state together. When a SCHEDD passes _condor_SEND_PAIRED_SLOT=true in the claim request, then the claimid and slot ad of the\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 17:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d2c8beeb932edb9ed21ea178b2eb88b594f33f85\">[39834]</a></span>: Swap claim to paired slot when job enters output stage. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> In the schedd, claim the partner of a paired slot. When a job indicates that it is in output phase (by setting <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobTransferringOutput\" title=\"Job Transferring Output\">JobTransferringOutput</a></span> to True in the job ad), the schedd will attempt to swap the claim with the paired claim, allowing a new job\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 17:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/89af156232264d1f604cabfb948524679ae00045\">[39833]</a></span>: Make slot name easily accessible in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SwapClaimsMsg\" title=\"Swap Claims Msg\">SwapClaimsMsg</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 17:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/46024b9bfe8658c32564299de4bf0252037047d9\">[39831]</a></span>: cleanup logging for swap claims <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 13:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5b84659434a52701007b5093911b8f31a1e5445d\">[39823]</a></span>: add SWAP_CLAIM_AND_ACTIVATION command to dc_startd <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 11:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/491641ca865de7af34163602eb11267d76e6b64a\">[39818]</a></span>: Add option of claiming paired slots to REQUEST_CLAIM. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> The schedd can add special attribute _condor_SEND_PAIRED_SLOT to the request ad to indicate it wants to claim a paired slot's partner. In this case, the startd can respond with a new reply code, followed by the partner's ad and claim id. Claiming\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 11:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d1259476725f38331d1d1bc9e64db2663d4b63cb\">[39817]</a></span>: Fix names of reply codes for REQUEST_CLAIM. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span> Comments had the values of OK and NOT_OK reversed. Added macro for reply indicating that leftovers are being sent.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-13 16:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9a5c4cd2c885076aeb53ee19bede7504cc63c268\">[39618]</a></span>: add basic SWAP_CLAIM_AND_ACTIVATION command to the startd. a step toward async transfer <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4291\" onclick=\"get_ticket_and_populate_wrapper('4291'); return false;\" title=\"Overlayed I/O with dedicated transfer slots\">#4291</a></span>  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "experimental", "last_change": "2015-Mar-18 16:31", "status": "resolved", "created": "2014-Apr-01 11:38", "fixed_version": "2014-Apr-01 11:38", "broken_version": "v080000", "priority": "2", "subsystem": "FileTransfer", "assigned_to": "zmiller", "derived_from": "#3931", "creator": "zmiller", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "jfrey@cs.wisc.edu,johnkn@cs.wisc.edu", "due_date": "20140414"}
{"id": 4305, "title": "Ticket #4305: Dedicated scheduler crash on reconnect if startds also have crashed", "description": "<blockquote>\nIf a parallel universe job is running more than one parallel job, and the schedd crashes or shuts down, and while the schedd is down, two or more startds that were running the parallel jobs also shut down, and the schedd then restarts before the startds do, the schedd will except with:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">ERROR \"spawnJobs(): allocation node has no matches!\" at line 1819 in file /scratch/gthain/two/CONDOR_SRC/src/condor_schedd.V6/dedicated_scheduler.cpp\n</pre></div>\n\n\n<p>If the startd is still down when the master restarts the schedd, it will ERROR again, until the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobLeaseDuration\" title=\"Job Lease Duration\">JobLeaseDuration</a></span> has expired.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-02 13:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40294\">[40294]</a></span>: Minor 8.0.7 version history item edit. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4305\" onclick=\"get_ticket_and_populate_wrapper('4305'); return false;\" title=\"Dedicated scheduler crash on reconnect if startds also have crashed\">#4305</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-10 19:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39902\">[39902]</a></span>: Fix bug in dedicated scheduler reconnect for parallel jobs <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4305\" onclick=\"get_ticket_and_populate_wrapper('4305'); return false;\" title=\"Dedicated scheduler crash on reconnect if startds also have crashed\">#4305</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-10 19:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39901\">[39901]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4305\" onclick=\"get_ticket_and_populate_wrapper('4305'); return false;\" title=\"Dedicated scheduler crash on reconnect if startds also have crashed\">#4305</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-10 17:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39900\">[39900]</a></span>: Fix bug in dedicated scheduler reconnect for parallel jobs <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4305\" onclick=\"get_ticket_and_populate_wrapper('4305'); return false;\" title=\"Dedicated scheduler crash on reconnect if startds also have crashed\">#4305</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-May-28 15:13", "status": "resolved", "created": "2014-Apr-10 16:56", "fixed_version": "2014-Apr-10 16:56", "broken_version": "v080000", "priority": "1", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20140411"}
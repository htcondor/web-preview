{"id": 3639, "title": "Ticket #3639: add Fedora-specific condor rpm features to unified rpm", "description": "<blockquote>\nUsing the OSG condor spec as a baseline, add any features from the Fedora rpm into the unified spec</blockquote>", "remarks": "<blockquote>\nAttaching a summary of what's different between the OSG and Fedora versions of condor.spec, not counting differences that are encapsulated in conditional %define blocks.  See also the config file location differences attached in <span class=\"ticket\"><a class=\"review\" href=\"/tickets?ticket=3644\" onclick=\"get_ticket_and_populate_wrapper('3644'); return false;\" title=\"find correct location for files differing between condor rpm versions\">#3644</a></span>.\n\n<p></p><hr/>\n<em>2013-Jun-12 09:55:11 by edquist:</em> <br/>\n\nFor reference, the working copy of the unified condor rpm (which was based off of the OSG condor 7.9.6 version from \"upcoming\") is currently living here:\n\n<p></p><pre>  https://vdt.cs.wisc.edu/svn/native/redhat/upcoming/condor-unified/\n</pre>\n\n<p>I have merged in any items from the Fedora rpm spec that were missing from OSG's into the unified one, as well as rearrange a lot of things that were common to both to reduce the size of the diff between Fedora's version and the unified one.  Additionally I made a few small changes based on differences from Brian B's HCC version.\n\n</p><p>A few questions I ran into doing this:\n\n</p><p>- There are a handful of patches specific to Fedora's version, not sure whether they should be incorporated into the unified one:\n\n</p><p></p><pre>  hcc_config.patch\n  condor_pid_namespaces_v7.patch\n  0001-Apply-the-user-s-condor_config-last-rather-than-firs.patch\n  condor_oom_v3.patch\n</pre>\n\n<p>- For upgrades, the Fedora version does not restart the condor service, relying on condor to notice the binaries have changed and restart based on its configuration; the OSG version does a condrestart.  Not sure which of these behaviors is newer / preferable.  This can also be dealt with in the upgrade issues.\n\n</p><p>- There are some things specific to the OSG rpm like %qmf, which it looks like was in Fedora's at some point and got removed.  OSG does not enable it either; are people likely to ever want to enable/use it?</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/744/spec-diffs-fedora-osg.txt\">spec-diffs-fedora-osg.txt</a>\n2826 bytes added by edquist on 2013-Jun-05 00:57:34 UTC.\n<br/>\ndifferences between osg/fedora versions of condor.spec, minus sections encapsulated in %define blocks<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Jun-12 09:55", "status": "review", "created": "2013-May-20 20:14", "fixed_version": "2013-May-20 20:14", "broken_version": "", "priority": "4", "subsystem": "Packaging", "assigned_to": "edquist", "derived_from": "#3638", "creator": "edquist", "rust": "", "customer_group": "other", "visibility": "public", "notify": "edquist@cs.wisc.edu", "due_date": ""}
{"id": 1967, "title": "Ticket #1967: Per-slot prepare and exit hooks don't work", "description": "<blockquote>\nI've run in to an issues with job hooks. It seems that per-slot prepare and exit hooks cannot be used in the 7.4.4 release.\n\n<p>The following <strong>does</strong> work:\n\n</p><p></p><pre>  STARTER_JOB_HOOK_KEYWORD = TEST1\n  TEST1_HOOK_DIR = $(LOCAL_DIR)/bin\n  TEST1_HOOK_PREPARE_JOB = $(TEST1_HOOK_DIR)/prepare_job\n</pre>\n\n<p>But changing this to:\n\n</p><p></p><pre>  SLOT1_JOB_HOOK_KEYWORD = TEST1\n  TEST1_HOOK_DIR = $(LOCAL_DIR)/bin\n  TEST1_HOOK_PREPARE_JOB = $(TEST1_HOOK_DIR)/prepare_job\n</pre>\n\n<p>Fails to run the prepare job script for <strong>just</strong> jobs landing on slot 1. It's a similar situation for the job exit hooks.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Mar-14 11:46:25 by ichesal:</em> <br/>\n\nThe prepare_job hook I'm using to test this is:\n\n<p></p><pre>  #!/bin/sh\n  echo '------' &gt;&gt; /tmp/prepare_job.out\n  cat &gt;&gt; /tmp/prepare_job.out\n  echo 'PreparedJob = True'</pre>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "incident", "last_change": "2015-Feb-18 16:58", "status": "new", "created": "2011-Mar-14 11:43", "fixed_version": "2011-Mar-14 11:43", "broken_version": "v070404", "priority": "4", "subsystem": "DaemonsExecNode", "assigned_to": "", "derived_from": "", "creator": "ichesal", "rust": "", "customer_group": "other", "visibility": "public", "notify": "ichesal@cyclecomputing.com", "due_date": ""}
{"id": 6443, "title": "Ticket #6443: Allow custom names to refer to the two ads in a MatchClassAd", "description": "<blockquote>\nWhen matching two ads with a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>, expressions can reference attributes in their own ad using a <code>MY</code> or <code>SELF</code> scope prefix and attributes in the other ad using a <code>TARGET</code> or <code>OTHER</code> scope prefix. In some situations in Condor, we want to evaluate an expression in the context of both ads, and neither ad is the natural home for the expression. So we pick one ad as the local context of the expression. Users have to remember this arbitrary choice to use the correct attribute scope names, and can easily get it wrong. One example of this is the negotiator's preemption expressions.\n\n<p>It would be very useful if descriptive names were available to refer to the two ads in a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>. In the negotiator, these could be <code>Job</code> and <code>Slot</code>. Then, the expression writer doesn't have to worry about which ad the expression is evaluated in. They can just prefix all of the attribute names with correct descriptive ad name.\n\n</p><p>Note: We can't use <code>Machine</code> as the ad name for the machine ad, as the ad contains an attribute called <code>Machine</code>.</p></blockquote>", "remarks": "<blockquote>\nThis is a purely internal change. No version history required.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-17 15:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52597\">[52597]</a></span>: Fix reversed conditional when setting alias names in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6443\" onclick=\"get_ticket_and_populate_wrapper('6443'); return false;\" title=\"Allow custom names to refer to the two ads in a MatchClassAd\">#6443</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-17 14:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52594\">[52594]</a></span>: Allow getTheMatchAd() to set custom ad aliases in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6443\" onclick=\"get_ticket_and_populate_wrapper('6443'); return false;\" title=\"Allow custom names to refer to the two ads in a MatchClassAd\">#6443</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-11 16:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52554\">[52554]</a></span>: Allow custom names to refer to the two ads in a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6443\" onclick=\"get_ticket_and_populate_wrapper('6443'); return false;\" title=\"Allow custom names to refer to the two ads in a MatchClassAd\">#6443</a></span> The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span> now allows custom names to be defined to refer to the left and right ads being matched. These names can be used in expressions in either ad.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Dec-01 14:40", "status": "resolved", "created": "2017-Oct-11 16:29", "fixed_version": "2017-Oct-11 16:29", "broken_version": "", "priority": "3", "subsystem": "ClassAd", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
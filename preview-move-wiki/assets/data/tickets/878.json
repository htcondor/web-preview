{"id": 878, "title": "Ticket #878: Accountantnew.log locations, locating", "description": "<blockquote>\n<div class=\"verbatim\">\n<pre>Accountant.cpp:\n Accountant's log: $(SPOOL)/Accountantnew.log\nAbstractReplicatorStateMachine.cpp:\n Account log version file: $(SPOOL) + \"/\" VERSION_FILE_NAME (aka Version)\n Accountant's log: $(STATE_FILE) or $(NEGOTIATOR_STATE_FILE) or  $(SPOOL)/Accountantnew.log\n</pre></div>\n\n\n<p>What's wrong with this:\n</p><ul>\n<li>Accountant assumes SPOOL is the best place to stuff state - SPOOL is not always local, it requires updating PREEN's whitelist\n</li><li>HAD has 3 notions of where to find the Accountant's log - two of which the accountant doesn't use\n</li><li>STATE_FILE is too general a param name\n</li></ul>\n\n<p>A better approach would be to have the Accountant and HAD share code that identifies the location of the Accountant's state. That code should use NEGOTIATOR_STATE_FILE, which should default to $(SPOOL)/Accountantnew.log for backwards compatibility. The Version file should be constructed from the state file's name, e.g. Accountantnew.log.version.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 14:52", "status": "new", "created": "2009-Oct-22 13:55", "fixed_version": "2009-Oct-22 13:55", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "matt", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
{"id": 1628, "title": "Ticket #1628: Update Condor's Chirp to match Notre Dame's implementation", "description": "<blockquote>\nCondor's implementation of the Chirp protocol is lagging behind the implementation at Notre Dame. Many new commands need to be added to Condor's Chirp to match Notre Dame's updated Chirp protocol described here: <a class=\"external\" href=\"http://www.cse.nd.edu/~ccl/software/manuals/chirp_protocol.html\">http://www.cse.nd.edu/~ccl/software/manuals/chirp_protocol.html</a>.\n\n<p><span class=\"section\"></span></p><h2>Current commands in Condor's Chirp:</h2>\n<ul>\n<li>close  &lt;decimal:fd&gt;\n</li><li>constrain &lt;string:expr&gt;\n</li><li>cookie &lt;string:cookie&gt;\n</li><li>fsync  &lt;decimal:fd&gt;\n</li><li>get_job_attr &lt;string:name&gt;\n</li><li>login  &lt;string:name&gt; &lt;string:password&gt;\n</li><li>lseek  &lt;decimal:fd&gt; &lt;decimal:offset&gt; &lt;decimal:whence&gt;\n</li><li>lookup &lt;string:name&gt;\n</li><li>mkdir  &lt;string:name&gt; &lt;decimal:mode&gt;\n</li><li>open   &lt;string:name&gt; &lt;string:flags&gt; &lt;decimal:mode&gt;\n</li><li>read   &lt;decimal:fd&gt; &lt;decimal:length&gt;\n</li><li>rename &lt;string:oldpath&gt; &lt;string:newpath&gt;\n</li><li>rmdir  &lt;string:name&gt;\n</li><li>set_job_attr &lt;string:name&gt; &lt;string:expr&gt;\n</li><li>unlink &lt;string:path&gt;\n</li><li>version\n</li><li>write  &lt;decimal:fd&gt; &lt;decimal:length&gt;\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Commands that I did not implement:</h2>\n<ul>\n<li>getacl &lt;string:path&gt;\n</li><li>setacl &lt;string:path&gt; &lt;string:subject&gt; &lt;string:rights&gt;\n</li><li>md5 &lt;string:path&gt;\n</li><li>thirdput &lt;string:path&gt; &lt;string:remotehost&gt; &lt;string:remotepath&gt;\n</li><li>mkalloc &lt;string:path&gt; &lt;decimal:size&gt; &lt;decimal:mode&gt;\n</li><li>lsalloc &lt;string:path&gt;\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Commands that I have implemented:</h2>\n<ul>\n<li>pread &lt;decimal:fd&gt; &lt;decimal:length&gt; &lt;decimal:offset&gt;\n</li><li>pwrite &lt;decimal:fd&gt; &lt;decimal:length&gt; &lt;decimal:offset&gt;\n</li><li>swrite &lt;decimal:fd&gt; &lt;decimal:length&gt; &lt;decimal:offset&gt; &lt;decimal:stride_length&gt; &lt;decimal:stride_skip&gt;\n</li><li>rmall &lt;string:path&gt;\n</li><li>fstat &lt;decimal:fd&gt;\n</li><li>fstatfs &lt;string:path&gt;\n</li><li>ftruncate &lt;decimal:fd&gt; &lt;decimal:length&gt;\n</li><li>stat &lt;string:path&gt;\n</li><li>lstat &lt;string:path&gt;\n</li><li>statfs &lt;string:path&gt;\n</li><li>truncate &lt;string:path&gt; &lt;decimal:length&gt;\n</li><li>link &lt;string:oldpath&gt; &lt;string:newpath&gt;\n</li><li>symlink &lt;string:oldpath&gt; &lt;string:newpath&gt;\n</li><li>readlink &lt;string:path&gt;\n</li><li>access &lt;string:path&gt; &lt;decimal:mode&gt;\n</li><li>utime &lt;string:path&gt; &lt;decimal:actime&gt; &lt;decimal:mtime&gt;\n</li><li>getfile &lt;string:path&gt;\n</li><li>putfile &lt;string:path&gt; &lt;decimal:mode&gt; &lt;decimal:length&gt;\n</li><li>getlongdir &lt;string:path&gt;\n</li><li>getdir &lt;string:path&gt;\n</li><li>whoami (implemented, but doesn't do anything useful)\n</li><li>whoareyou &lt;string:rhost&gt; (implemented, but doesn't do anything useful)\n</li><li>fchown &lt;decimal:fd&gt; &lt;decimal:uid&gt; &lt;decimal:gid&gt;\n</li><li>fchmod &lt;decimal:fd&gt; &lt;decimal:mode&gt;\n</li><li>chmod &lt;string:path&gt; &lt;decimal:mode&gt;\n</li><li>chown &lt;string:path&gt; &lt;decimal:uid&gt; &lt;decimal:gid&gt;\n</li><li>lchown &lt;string:path&gt; &lt;decimal:uid&gt; &lt;decimal:gid&gt;\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Additional Error Codes:</h2>\n<div class=\"verbatim\">\n<pre>-12  BAD_FD:           The file descriptor requested is invalid.\n-13  IS_DIR            A file-only operation was attempted on a directory.\n-14  NOT_DIR           A directory operation was attempted on a file.\n-15  NOT_EMPTY         A directory cannot be removed because it is not empty.\n-16  CROSS_DEVICE_LINK A hard link was attempted across devices.\n-17  OFFLINE           The requested resource is temporarily not available.\n-127 UNKNOWN           An unknown error occurred.\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\nAfter writing pread, pwrite, and swrite I have a good idea of the time required to add a command. The majority of the commands should take no longer than a few hours at most to add. However, there are a few commands that may take a bit longer though due to my lack of knowledge about what the commands do or deciding what the commands should do in the context of Condor.\n\n<p>Commands that may require more time to add:\n</p><ul>\n<li>getacl\n</li><li>setacl\n</li><li>whoami\n</li><li>whoareyou\n</li><li>md5\n</li><li>thirdput\n</li><li>mkalloc\n</li><li>lsalloc\n</li></ul>\n\n<p>I will complete all the other commands first and then spend my time on these.\n</p><hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2010-Oct-22 16:23:02 by slauson:</em> <br/>\n\nUsing the cctools chirp client, I've got the following commands working with condor:\n<ul>\n<li>open &lt;host&gt;\n</li><li>close\n</li><li>whoami\n</li><li>whoareyou &lt;hostname&gt;\n</li><li>cat &lt;file&gt; [file2] [file3] ...\n</li><li>cd &lt;remotedir&gt;\n</li><li>lcd &lt;localdir&gt;\n</li><li>pwd\n</li><li>lpwd\n</li><li>get &lt;remotefile&gt; [localfile]\n</li><li>put &lt;localfile&gt; [remotefile]\n</li><li>ls [-la] [remotepath]\n</li><li>mv &lt;oldname&gt; &lt;newname&gt;\n</li><li>rm &lt;file&gt;\n</li><li>mkdir [-p] &lt;dir&gt;\n</li><li>rmdir &lt;dir&gt;\n</li><li>stat &lt;file&gt;\n</li><li>df [-k|-m|-g|-t]\n</li><li>chmod &lt;mode&gt; &lt;path&gt;\n</li></ul>\n\n<p></p><hr/>\n<em>2010-Nov-03 17:22:31 by slauson:</em> <br/>\n\nUsing parrot with condor, I've got several simple commands to work:\n<ul>\n<li>ls\n</li><li>stat\n</li><li>mv\n</li><li>rm\n</li><li>mkdir\n</li><li>cd\n</li><li>pwd\n</li></ul>\n\n<p>More useful commands such as cp, less, cat, vi still have some issues with a socket being closed and then condor_write() failing. I'm currently looking into the cause of this problem.\n\n</p><p></p><hr/>\n<em>2010-Nov-12 17:37:59 by slauson:</em> <br/>\n\nAfter a few more fixes, I got parrot and condor working together. Every command that I tried that works within parrot itself works within parrot/condor.\n\n<p>I implemented all of the updated Chirp protocol commands within condor's chirp, except the following:\n</p><ul>\n<li>getacl, setacl\n<ul>\n<li>These have to do access control lists, which cctools' Chirp uses instead of chmod and chown. From my understanding, using chmod/chown instead of getacl/setacl shouldn't cause any problems.\n</li></ul>\n</li><li>md5, thirdput, mkalloc, lsalloc\n<ul>\n<li>These all provide extra functionality within the updated cctools chirp client. I haven't found that any of these are necessary for running any commands within parrot, although I could be wrong here.\n</li></ul>\n</li></ul>\n\n<p>After I clean up my code a little bit, I think that this is ready for a review.\n\n</p><p></p><hr/>\n<em>2010-Nov-29 18:37:39 by slauson:</em> <br/>\n\nHere's what I actually did for this ticket:\n<ul>\n<li>Implemented the additional chirp commands listed above in Condor's starter/shadow.\n</li><li>Updated Condor's C++ Chirp Client to use the new commands.\n</li><li>Updated condor_chirp.cpp to use the new commands.\n</li><li>Tested the cctools Chirp Client with Condor. It can connect to Condor via a cookie and perform various commands.\n<ul>\n<li>chirp_tool\n<ul>\n<li>open CONDOR\n</li><li>close\n</li><li>whoami\n</li><li>whoareyou &lt;hostname&gt;\n</li><li>cat &lt;file&gt; [file2] [file3] ...\n</li><li>cd &lt;remotedir&gt;\n</li><li>lcd &lt;localdir&gt;\n</li><li>pwd\n</li><li>lpwd\n</li><li>get &lt;remotefile&gt; [localfile]\n</li><li>put &lt;localfile&gt; [remotefile]\n</li><li>ls [-la] [remotepath]\n</li><li>mv &lt;oldname&gt; &lt;newname&gt;\n</li><li>rm &lt;file&gt;\n</li><li>mkdir [-p] &lt;dir&gt;\n</li><li>rmdir &lt;dir&gt;\n</li><li>stat &lt;file&gt;\n</li><li>df [-k|-m|-g|-t]\n</li><li>chmod &lt;mode&gt; &lt;path&gt;\n</li></ul>\n</li><li>chirp_get\n</li></ul>\n</li><li>Tested Parrot with Condor.\n<ul>\n<li>parrot can be used with the chirp protocol to access remote files within a job's submit directory.\n<br/>\n\nparrot tcsh /chirp/CONDOR will connect to Condor via a cookie and treat a  job's submit directory as if it is the local current working directory.\n</li><li>parrot_cp can be used to copy whole files across a network.\n</li></ul>\n</li></ul>\n\n<p></p><hr/>\n<em>2010-Dec-09 10:21:30 by tstclair:</em> <br/>\n\nwho reviewed this before it went in?  change broke solaris and windows.\n\n<p></p><hr/>\n<em>2010-Dec-09 11:14:37 by slauson:</em> <br/>\n\nGreg reviewed it for me. I'll talk with him today about the failed builds.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:19:13 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1630\" onclick=\"get_ticket_and_populate_wrapper('1630'); return false;\" title=\"condor_chirp put segfaults when passed only 1 file name\">#1630</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_chirp put segfaults when passed only 1 file name</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1870\" onclick=\"get_ticket_and_populate_wrapper('1870'); return false;\" title=\"Make the starter able to spawn jobs under parrot\">#1870</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nMake the starter able to spawn jobs under parrot</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"active\" href=\"/tickets?ticket=1883\" onclick=\"get_ticket_and_populate_wrapper('1883'); return false;\" title=\"Improve the process of running jobs within parrot\">#1883</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove the process of running jobs within parrot</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-02 11:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20216\">[20216]</a></span>: Made some more chirp updates/fixes. Added missing sread command, cleaned up condor_chirp command of duplicate code and excessive options, and fixed some inconsistencies with rename command. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 17:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20099\">[20099]</a></span>: Fixed the incompatibility of chirp's open command between different versions of the starter and shadow. In the io_proxy_handler open is now broken down into separate open and stat calls. All other open references in the starter and shadow were changed back to the previous format. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 16:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20098\">[20098]</a></span>: Made some fixes after resolving conflicts from the reverts. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 16:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20096\">[20096]</a></span>: Revert \"Revert \"Fix new chirip calls on solaris. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" This reverts commit 3fa44a8b963155ca6738081e219b594d9851f8cc.  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 16:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20095\">[20095]</a></span>: Revert \"Revert \"Fix new chirp code on AIX. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" This reverts commit 26fa1dfcba6a6e7443840f879d64bced76dbd236.  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20094\">[20094]</a></span>: Revert \"Revert \"fix windows build of condor_chirp. for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>, fixes paper over\"\" This reverts commit 64d8b9b6ca867c672a306cfa8c3b59432ae6e2c2. Conflicts: src/condor_chirp/chirp_client.h src/condor_shadow.V6.1/NTreceivers.cpp src/condor_starter.V6.1/io_proxy_handler.cpp  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 16:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20093\">[20093]</a></span>: Revert \"Revert \"Updated Condor's Chirp Protocol. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" This reverts commit 876644c40711e709d037a16bf213bcd5d142cf09.\u00a0[...]\n (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 15:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20092\">[20092]</a></span>: Revert \"Revert \"More chirp fixes. Updated readlink to use a length parameter. For the condor_chirp command, fixed put when using stdin, made swrite/pwrite more useful, added chirp_client_disconnect calls to methods that were missing it. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" \u00a0[...]\n (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 15:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20091\">[20091]</a></span>: Revert \"Revert \"Fixed some more chirp stuff. Removed an unnecessary include and changed some types to ints in the chirp client. Fixed condor_chirp put to use the mode argument again. Added a missing case in shadow_syscall_name(). <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" \u00a0[...]\n (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-21 15:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20090\">[20090]</a></span>: Revert \"Revert \"Made several simple fixes to some issues with the new chirp calls. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\"\" This reverts commit f0a37ad3492cc5ce9ec52007f8bcc4e5831e8092.\u00a0[...]\n (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-13 10:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19937\">[19937]</a></span>: Revert \"Made several simple fixes to some issues with the new chirp calls. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit 0d80b740d250063052a5568f0c387cc63afcf5fe.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-13 10:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19936\">[19936]</a></span>: Revert \"Fixed some more chirp stuff. Removed an unnecessary include and changed some types to ints in the chirp client. Fixed condor_chirp put to use the mode argument again. Added a missing case in shadow_syscall_name(). <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit 8fe30d376e3e427a2dac459339977a236ecbfb9a.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-13 10:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19935\">[19935]</a></span>: Revert \"More chirp fixes. Updated readlink to use a length parameter. For the condor_chirp command, fixed put when using stdin, made swrite/pwrite more useful, added chirp_client_disconnect calls to methods that were missing it. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit ccf305fc1cdf757afa9797b4b4110d43f4d27484.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-11 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19923\">[19923]</a></span>: Revert \"Updated Condor's Chirp Protocol. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit 1ae89ce64dbe115dcb7ba44213bc6ea1ff58db4d.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-11 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19922\">[19922]</a></span>: Revert \"fix windows build of condor_chirp. for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>, fixes paper over\" This reverts commit 199142e3394af6cd3fe58733d62239771ecd957b.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-11 12:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19921\">[19921]</a></span>: Revert \"Fix new chirp code on AIX. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit 324c364c102f278dd7aea1c0edcff0b2b05f23fa.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jan-11 12:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19920\">[19920]</a></span>: Revert \"Fix new chirip calls on solaris. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>\" This reverts commit a0a174b3ca852145177638f49b840d41d9085a2e.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-21 19:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19772\">[19772]</a></span>: More chirp fixes. Updated readlink to use a length parameter. For the condor_chirp command, fixed put when using stdin, made swrite/pwrite more useful, added chirp_client_disconnect calls to methods that were missing it. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-17 15:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19698\">[19698]</a></span>: Fixed some more chirp stuff. Removed an unnecessary include and changed some types to ints in the chirp client. Fixed condor_chirp put to use the mode argument again. Added a missing case in shadow_syscall_name(). <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-13 18:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19646\">[19646]</a></span>: Made several simple fixes to some issues with the new chirp calls. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-10 08:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19623\">[19623]</a></span>: Fix new chirip calls on solaris. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span> On solaris, we need to call statvfs() and fstatvfs().  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-09 22:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19622\">[19622]</a></span>: Fix new chirp code on AIX. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span> ENOTEMPTY is equal to EEXIST under AIX.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-09 12:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19618\">[19618]</a></span>: fix windows build of condor_chirp. for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>, fixes paper over compile problems in windows, but leave the code un-implemented in most cases.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-08 16:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=19608\">[19608]</a></span>: Updated Condor's Chirp Protocol. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1628\" onclick=\"get_ticket_and_populate_wrapper('1628'); return false;\" title=\"Update Condor's Chirp to match Notre Dame's implementation\">#1628</a></span>  (By Josh Slauson )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Apr-18 10:26", "status": "resolved", "created": "2010-Aug-30 12:51", "fixed_version": "2010-Aug-30 12:51", "broken_version": "v070500", "priority": "4", "subsystem": "Tools", "assigned_to": "slauson", "derived_from": "", "creator": "slauson", "rust": "", "customer_group": "other", "visibility": "public", "notify": "slauson@cs.wisc.edu tannenba@cs.wisc.edu", "due_date": ""}
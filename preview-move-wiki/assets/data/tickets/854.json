{"id": 854, "title": "Ticket #854: VMUniverseMgr::docheckVMUniverse takes a long time to fail", "description": "<blockquote>\nAfter upgrading to the 7.4.0 pre-release, there has been one case where the startd was killed by the master because it was unresponsive (c143.chtc.wisc.edu).  It was inside VMUniverseMgr::docheckVMUniverse() for about 40 minutes.  Looking through logs, I see that on some machines (including c143) the periodic VMUniverse check commonly takes up to 2.5 minutes.  This is a fairly large fraction of the 10 minutes between checks, so this is a little worrisome.\n\n<p>I'm assuming something is broken with the VMware setup on these machines, but if this is a common case, Condor should probably protect itself better.\n\n</p><p>When I manually run the check, it takes a while and then fails like this:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">$ /usr/sbin/condor_vm_vmware.pl check\nError: The system returned an error. Communication with the virtual machine may have been interrupted.\nError: The system returned an error. Communication with the virtual machine may have been interrupted\n(ERROR) Can't execute vmrun\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Aug-23 17:42:37 by adesmet:</em> <br/>\n\nBulk change of target version from v070403 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2010-Oct-27 16:39", "status": "new", "created": "2009-Oct-14 14:41", "fixed_version": "2009-Oct-14 14:41", "broken_version": "v070400", "priority": "4", "subsystem": "VM", "assigned_to": "", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.wisc.edu,jfrey@cs.wisc.edu,khahn@cs.wisc.edu", "due_date": ""}
{"id": 6229, "title": "Ticket #6229: Gather statistics from the http file transfer plugin", "description": "<blockquote>\nOur existing curl_plugin tool returns only the most basic information (success or failure) following an http file transfer. We should expand this to gather more comprehensive statistics about bytes transferred, time elapsed, cache access, reasons for failures and other useful data.</blockquote>", "remarks": "<blockquote>\n<em>2017-Aug-16 11:45:52 by tim:</em> <br/>\n\nDOC REVIEW: Do we need more that just a version history here?\n\n<p></p><hr/>\n<em>2017-Aug-16 13:54:41 by coatsworth:</em> <br/>\n\nThis functionality only exists for internal CHTC usage at the moment. So I didn't see any point mentioning it in the user manual.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nExtend transfer_history logging to regular CEDAR transfers</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-11 09:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52551\">[52551]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=52533\">[52533]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=52537\">[52537]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=52538\">[52538]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=52545\">[52545]</a></span>, Merging curl_plugin stats refactor (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-10 14:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52548\">[52548]</a></span>: Refactored curl_plugin with a proper statistics class (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-10 09:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52530\">[52530]</a></span>: Fixed spacing in file transfer stats code (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-04 13:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52480\">[52480]</a></span>: Fixed SSL update that got reverted in git merge conflict (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-02 16:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52466\">[52466]</a></span>: Fixed git conflict (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-02 15:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52464\">[52464]</a></span>: Fixed Coverity issue with curl_plugin (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Sep-14 11:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52352\">[52352]</a></span>: Fixed permission issue for file output (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Sep-06 14:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52267\">[52267]</a></span>: Added debug message for file open failure (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-14 10:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52088\">[52088]</a></span>: Fixup version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-09 15:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52044\">[52044]</a></span>: Return proper return code on failure. Pretty sure this was an accidental commit. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-09 15:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52054\">[52054]</a></span>: Updated version history. Removed upload write callback. (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-09 12:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52052\">[52052]</a></span>: Added error checks, small code refactor (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-14 11:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52023\">[52023]</a></span>: Added local machine name to stats (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-05 12:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51817\">[51817]</a></span>: Hopefully fixed Windows compile problems (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-21 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51816\">[51816]</a></span>: Debugging header conflicts on Windows builds (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-21 14:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51787\">[51787]</a></span>: Added knobs, .old file, code refactor (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-14 17:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51786\">[51786]</a></span>: Added Unix timestamps for start + end times (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-14 13:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51785\">[51785]</a></span>: Modified output file format (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-12 17:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51701\">[51701]</a></span>: Fixed string allocation bug under RHEL 7 (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-05 16:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51694\">[51694]</a></span>: Refactored stats output. Buggy, jobs do not run correctly now. (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-02 16:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51693\">[51693]</a></span>: Added stats output to disk, needs cleanup and testing (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-01 17:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51692\">[51692]</a></span>: Added additional statistics, FTP upload support (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-May-26 11:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51690\">[51690]</a></span>: Added more stats, especially for uploads (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-May-26 10:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51689\">[51689]</a></span>: Changed curl_plugin to C++, added lots of stats (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>)  (By Mark Coatsworth )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Oct-17 12:28", "status": "resolved", "created": "2017-Apr-19 16:09", "fixed_version": "2017-Apr-19 16:09", "broken_version": "v080600", "priority": "4", "subsystem": "FileTransfer", "assigned_to": "coatsworth", "derived_from": "", "creator": "coatsworth", "rust": "", "customer_group": "other", "visibility": "public", "notify": "coatsworth@cs.wisc.edu, zmiller@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
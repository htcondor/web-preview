{"id": 5803, "title": "Ticket #5803: startd crashes when procd gets stuck in D", "description": "<blockquote>\nThe startd crashes after the procd gets stuck in the D state. I've noticed this happening at the scale of once or twice a month for a pool of 250 hosts. The final lines of a couple logs are offered below.\n\n<p></p><div class=\"verbatim\">\n<pre>MasterLog:\n07/23/16 00:08:08 ERROR: Child pid 5497 appears hung! Killing it hard.\n07/23/16 00:08:08 DefaultReaper unexpectedly called on pid 5497, status 9.\n07/23/16 00:08:08 The STARTD (pid 5497) was killed because it was no longer responding\n</pre></div>\n\n\n<p></p><div class=\"verbatim\">\n<pre>ProcLog:\n07/22/16 23:12:26 : taking a snapshot...\n07/22/16 23:12:26 : ProcAPI: new boottime = 1467129766; old_boottime = 1467129766; /proc/stat boottime = 1467129766; /proc/uptime boottime = 1467129766\n</pre></div>\n\n\n<p></p><div class=\"verbatim\">\n<pre>root        5377  0.2  0.0  26280  9472 ?        D    Jun28 106:03 condor_procd -A /run/condor/procd_pipe -L /var/log/condor/ProcLog -R 1000000 -S 60 -C 101\n</pre></div>\n\n\n<p>Nothing interesting in the kernel or syslog at the time. Logging level is fairly low but I'm deliberately leaving the system up if there is anything I can do to poke the procd. strace just gets stuck, of course.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Jul-27 11:13:53 by wenger:</em> <br/>\n\nTom, could you attach the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartLog\" title=\"Start Log\">StartLog</a></span>, or at least add the part before it gets stuck?  Also, what version is this?\n\n<p></p><hr/>\n<em>2016-Jul-27 11:50:09 by tpdownes:</em> <br/>\n\nThe ticket version # is accurate 8.5.5. Debian 7 build. I'm assembling the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StarterLogs\" title=\"Starter Logs\">StarterLogs</a></span> near the time of the crash. The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartLog\" title=\"Start Log\">StartLog</a></span> is below.\n\n<p></p><div class=\"verbatim\">\n<pre>StartLog\n07/22/16 22:55:04 CREDMON: ERROR: got mark_creds_for_sweeping but SEC_CREDENTIAL_DIRECTORY not defined!\n07/22/16 23:00:21 slot1_3: Called deactivate_claim_forcibly()\n07/22/16 23:00:21 slot1_3: Changing state and activity: Claimed/Busy -&gt; Preempting/Vacating\n07/22/16 23:00:21 Starter pid 727553 exited with status 0\n07/22/16 23:00:21 slot1_3: State change: starter exited\n07/22/16 23:00:21 slot1_3: State change: No preempting claim, returning to owner\n07/22/16 23:00:21 slot1_3: Changing state and activity: Preempting/Vacating -&gt; Owner/Idle\n07/22/16 23:00:21 slot1_3: State change: IS_OWNER is false\n07/22/16 23:00:21 slot1_3: Changing state: Owner -&gt; Unclaimed\n07/22/16 23:00:21 slot1_3: Changing state: Unclaimed -&gt; Delete\n07/22/16 23:00:21 slot1_3: Resource no longer needed, deleting\n07/22/16 23:01:00 slot1_3: New machine resource of type -1 allocated\n07/22/16 23:01:00 Setting up slot pairings\n07/22/16 23:01:00 slot1_3: Request accepted.\n07/22/16 23:01:00 slot1_3: Remote owner is pankow@nemo.phys.uwm.edu\n07/22/16 23:01:00 slot1_3: State change: claiming protocol successful\n07/22/16 23:01:00 slot1_3: Changing state: Owner -&gt; Claimed\n07/22/16 23:01:00 slot1_3: Got activate_claim request from shadow (192.168.5.3)\n07/22/16 23:01:00 slot1_3: Remote job ID is 4995288.0\n07/22/16 23:01:00 slot1_3: Got universe \"VANILLA\" (5) from request classad\n07/22/16 23:01:00 slot1_3: State change: claim-activation protocol successful\n07/22/16 23:01:00 slot1_3: Changing activity: Idle -&gt; Busy\n07/22/16 23:01:45 slot1_2: Called deactivate_claim_forcibly()\n07/22/16 23:01:45 slot1_2: Changing state and activity: Claimed/Busy -&gt; Preempting/Vacating\n07/22/16 23:01:45 Starter pid 727550 exited with status 0\n07/22/16 23:01:45 slot1_2: State change: starter exited\n07/22/16 23:01:45 slot1_2: State change: No preempting claim, returning to owner\n07/22/16 23:01:45 slot1_2: Changing state and activity: Preempting/Vacating -&gt; Owner/Idle\n07/22/16 23:01:45 slot1_2: State change: IS_OWNER is false\n07/22/16 23:01:45 slot1_2: Changing state: Owner -&gt; Unclaimed\n07/22/16 23:01:45 slot1_2: Changing state: Unclaimed -&gt; Delete\n07/22/16 23:01:45 slot1_2: Resource no longer needed, deleting\n07/22/16 23:02:00 slot1_2: New machine resource of type -1 allocated\n07/22/16 23:02:00 Setting up slot pairings\n07/22/16 23:02:00 slot1_2: Request accepted.\n07/22/16 23:02:00 slot1_2: Remote owner is pankow@nemo.phys.uwm.edu\n07/22/16 23:02:00 slot1_2: State change: claiming protocol successful\n07/22/16 23:02:00 slot1_2: Changing state: Owner -&gt; Claimed\n07/22/16 23:02:00 slot1_2: Got activate_claim request from shadow (192.168.5.3)\n07/22/16 23:02:00 slot1_2: Remote job ID is 4995294.0\n07/22/16 23:02:00 slot1_2: Got universe \"VANILLA\" (5) from request classad\n07/22/16 23:02:00 slot1_2: State change: claim-activation protocol successful\n07/22/16 23:02:00 slot1_2: Changing activity: Idle -&gt; Busy\n</pre></div>\n\n\n<p></p><hr/>\n<em>2016-Jul-27 11:51:02 by tpdownes:</em> <br/>\n\nI should clarify that those are the final <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartLog\" title=\"Start Log\">StartLog</a></span> entries.\n\n<p></p><hr/>\n<em>2016-Jul-27 11:52:18 by tpdownes:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>/var/log/condor/StarterLog.slot1_2:07/22/16 23:01:45 (pid:727550) Process exited, pid=727554, status=0\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:01:45 (pid:727550) Got SIGQUIT.  Performing fast shutdown.\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:01:45 (pid:727550) ShutdownFast all jobs.\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:01:45 (pid:727550) **** condor_starter (condor_STARTER) pid 727550 EXITING WITH STATUS 0\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ******************************************************\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** condor_starter (CONDOR_STARTER) STARTING UP\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** /usr/sbin/condor_starter\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** SubsystemInfo: name=STARTER type=STARTER(8) class=DAEMON(1)\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** Configuration: subsystem:STARTER local:&lt;NONE&gt; class:DAEMON\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** $CondorVersion: 8.5.5 Jun 03 2016 BuildID: 369308 $\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** $CondorPlatform: x86_64_Debian7 $\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** PID = 818830\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ** Log last touched 7/22 23:01:45\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) ******************************************************\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Using config source: /etc/condor/condor_config\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Using local config sources:\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/00role\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/01daemon\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/02checkpoint\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/03preemption\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/25classadhooks\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/49startd_attrs\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/50machine_classad\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/51jobrank\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/60job_memory\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/config.d/99backfill\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830)    /etc/condor/condor_config.local\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) config Macros = 125, Sorted = 124, StringBytes = 4251, TablesBytes = 4620\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) CLASSAD_CACHING is OFF\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Daemon Log is logging: D_ALWAYS D_ERROR\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) SharedPortEndpoint: waiting for connections to named socket 5497_e239_58826\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) DaemonCore: command socket at &lt;192.168.4.12:9618?addrs=192.168.4.12-9618&amp;noUDP&amp;sock=5497_e239_58826&gt;\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) DaemonCore: private command socket at &lt;192.168.4.12:9618?addrs=192.168.4.12-9618&amp;noUDP&amp;sock=5497_e239_58826&gt;\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Communicating with shadow &lt;192.168.5.3:9618?addrs=192.168.5.3-9618&amp;noUDP&amp;sock=4890_3280_235615&gt;\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Submitting machine is \"pcdev3.nemo.phys.uwm.edu\"\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) setting the orig job name in starter\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) setting the orig job iwd in starter\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Chirp config summary: IO false, Updates false, Delayed updates true.\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Initialized IO Proxy.\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Done setting resource limits\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Job 4995294.0 set to execute immediately\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Starting a VANILLA universe job with ID: 4995294.0\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) IWD: /home/pankow/2016_NSBH_MDC/full_2016_run1\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Output file: /home/pankow/2016_NSBH_MDC/full_2016_run1/logs/gstlal_inspiral_inj_4937-4995294-0.out\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Error file: /home/pankow/2016_NSBH_MDC/full_2016_run1/logs/gstlal_inspiral_inj_4937-4995294-0.err\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Renice expr \"0\" evaluated to 0\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) About to exec /home/gstlalcbc/modules/O1-icc/opt/bin/gstlal_inspiral --singles-threshold 6.0 --control-peak-time 0 --ht-gate-threshold 50.0 --tmp-space _CONDOR_SCRATCH_DIR --data-source frames --track-psd --frame-cache frame.cache --psd-fft-length 32 --svd-bank-cache gstlal_inspiral_inj/svd_bank_18743.cache --injections nsbh_injections.xml --frame-segments-name datasegments --gps-start-time 970925282 --local-frame-caching --likelihood-file-cache gstlal_inspiral_inj/likelihood_file_18743.cache --gps-end-time 970938036 --output-cache gstlal_inspiral_inj/output_18743.cache --fir-stride 1 --reference-psd gstlal_reference_psd/H1L1V1-REFERENCE_PSD-970925282-12754.xml.gz --coincidence-threshold 0.005 --frame-segments-file segments.xml.gz --channel-name V1=GAUSSIAN --channel-name=H1=GAUSSIAN --channel-name=L1=GAUSSIAN\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Running job as user pankow\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Create_Process succeeded, pid=818833\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Limiting (soft) memory usage to 16106127360 bytes\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Limiting (hard) memory usage to 70656917504 bytes\n/var/log/condor/StarterLog.slot1_2:07/22/16 23:02:00 (pid:818830) Limiting memsw usage to 70656921600 bytes\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:00:21 (pid:727553) Process exited, pid=727555, status=0\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:00:21 (pid:727553) Got SIGQUIT.  Performing fast shutdown.\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:00:21 (pid:727553) ShutdownFast all jobs.\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:00:21 (pid:727553) **** condor_starter (condor_STARTER) pid 727553 EXITING WITH STATUS 0\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ******************************************************\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** condor_starter (CONDOR_STARTER) STARTING UP\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** /usr/sbin/condor_starter\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** SubsystemInfo: name=STARTER type=STARTER(8) class=DAEMON(1)\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** Configuration: subsystem:STARTER local:&lt;NONE&gt; class:DAEMON\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** $CondorVersion: 8.5.5 Jun 03 2016 BuildID: 369308 $\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** $CondorPlatform: x86_64_Debian7 $\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** PID = 818278\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ** Log last touched 7/22 23:00:21\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) ******************************************************\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Using config source: /etc/condor/condor_config\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Using local config sources:\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/00role\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/01daemon\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/02checkpoint\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/03preemption\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/25classadhooks\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/49startd_attrs\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/50machine_classad\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/51jobrank\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/60job_memory\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/config.d/99backfill\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278)    /etc/condor/condor_config.local\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) config Macros = 125, Sorted = 124, StringBytes = 4251, TablesBytes = 4620\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) CLASSAD_CACHING is OFF\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Daemon Log is logging: D_ALWAYS D_ERROR\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) SharedPortEndpoint: waiting for connections to named socket 5497_e239_58824\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) DaemonCore: command socket at &lt;192.168.4.12:9618?addrs=192.168.4.12-9618&amp;noUDP&amp;sock=5497_e239_58824&gt;\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) DaemonCore: private command socket at &lt;192.168.4.12:9618?addrs=192.168.4.12-9618&amp;noUDP&amp;sock=5497_e239_58824&gt;\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Communicating with shadow &lt;192.168.5.3:9618?addrs=192.168.5.3-9618&amp;noUDP&amp;sock=4890_3280_235608&gt;\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Submitting machine is \"pcdev3.nemo.phys.uwm.edu\"\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) setting the orig job name in starter\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) setting the orig job iwd in starter\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Chirp config summary: IO false, Updates false, Delayed updates true.\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Initialized IO Proxy.\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Done setting resource limits\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Job 4995288.0 set to execute immediately\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Starting a VANILLA universe job with ID: 4995288.0\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) IWD: /home/pankow/2016_NSBH_MDC/full_2016_run1\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Output file: /home/pankow/2016_NSBH_MDC/full_2016_run1/logs/gstlal_inspiral_inj_49CD-4995288-0.out\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Error file: /home/pankow/2016_NSBH_MDC/full_2016_run1/logs/gstlal_inspiral_inj_49CD-4995288-0.err\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Renice expr \"0\" evaluated to 0\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) About to exec /home/gstlalcbc/modules/O1-icc/opt/bin/gstlal_inspiral --singles-threshold 6.0 --control-peak-time 0 --ht-gate-threshold 50.0 --tmp-space _CONDOR_SCRATCH_DIR --data-source frames --track-psd --frame-cache frame.cache --psd-fft-length 32 --svd-bank-cache gstlal_inspiral_inj/svd_bank_18893.cache --injections nsbh_injections.xml --frame-segments-name datasegments --gps-start-time 970961714 --local-frame-caching --likelihood-file-cache gstlal_inspiral_inj/likelihood_file_18893.cache --gps-end-time 970974468 --output-cache gstlal_inspiral_inj/output_18893.cache --fir-stride 1 --reference-psd gstlal_reference_psd/H1L1V1-REFERENCE_PSD-970961714-12754.xml.gz --coincidence-threshold 0.005 --frame-segments-file segments.xml.gz --channel-name V1=GAUSSIAN --channel-name=H1=GAUSSIAN --channel-name=L1=GAUSSIAN\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Running job as user pankow\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Create_Process succeeded, pid=818281\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Limiting (soft) memory usage to 16106127360 bytes\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Limiting (hard) memory usage to 70656917504 bytes\n/var/log/condor/StarterLog.slot1_3:07/22/16 23:01:00 (pid:818278) Limiting memsw usage to 70656921600 bytes\n</pre></div>\n\n\n<p></p><hr/>\n<em>2016-Jul-27 11:55:28 by tpdownes:</em> <br/>\n\nI should add that I am using ZFS on linux for the sandbox filesystems. Sometimes I see kernel panic with that (it's roughly an advanced beta) that seem somehow releted to the process table and those have a downward impact on condor.  But there is always clear evidence in the kernel messages. Nothing like that here.\n\n<p></p><hr/>\n<em>2016-Aug-01 11:34:30 by tpdownes:</em> <br/>\n\nJust observed this problem again. Except.... this time the procd came back to life.\n\n<p></p><div class=\"verbatim\">\n<pre>08/01/16 10:55:46 : taking a snapshot...\n08/01/16 11:25:57 : ...snapshot complete\n</pre></div>\n\n\n<p>During this period a Puppet run began at 10:58 and didn't complete until the same timestamp as the snapshot completed. So something pretty heavy is happening that is effectively seizing the machine.\n\n</p><p>I was alerted to this by a bunch of nagios monitor going off that check whether process are running. The monitors were timing out (because the proc table is borked).\n\n</p><p>Frankly, I suspect whatever is doing the snapshoting rather than somethign on my system interfering with the snapshotting. Same problem, different machine, same time:\n\n</p><p></p><div class=\"verbatim\">\n<pre>08/01/16 10:55:47 : taking a snapshot...\n08/01/16 11:25:58 : ProcAPI: new boottime = 1469814004; old_boottime = 1469814004; /proc/stat boottime = 1469814004; /proc/uptime boottime = 1469814005\n08/01/16 11:25:58 : GroupTracker (pid = 1442829): fopen error: Failed to open file '/proc/1442829/cgroup'. Error No such file or directory (2)\n08/01/16 11:25:58 : no methods have determined process 1442829 to be in a monitored family\n08/01/16 11:25:58 : ...snapshot complete\n</pre></div>\n\n\n<p>A couple other machines also affected at 10:55 that have not yet recovered.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2016-Aug-01 11:34", "status": "defer", "created": "2016-Jul-25 12:52", "fixed_version": "2016-Jul-25 12:52", "broken_version": "v080505", "priority": "5", "subsystem": "", "assigned_to": "wenger", "derived_from": "", "creator": "tpdownes", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu, gthain@cs.wisc.edu, downes@uwm.edu, tlmiller@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
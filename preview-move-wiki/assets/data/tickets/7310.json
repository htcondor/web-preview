{"id": 7310, "title": "Ticket #7310: Compile-time option to allow docker containers to as root", "description": "<blockquote>\nAs SWAMP is moving from VMs to containers, they'd like the ability to run containers as root to install software locally.  We don't generally want to support this, so we will add a compile time #define, off by default, ALLOW_DOCKER_RUN_AS_ROOT.  If condor is built with this on, a new param knob will be available, DOCKER_RUN_AS_ROOT.  If this knob is true (not evaluate in the context of the job or machine), then the container will be started as root.</blockquote>", "remarks": "<blockquote>\n<em>2019-Oct-28 13:58:49 by tim:</em> <br/>\n\nSWAMP Special. Not documenting.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Oct-21 15:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1c0960bfd03e457983247edc3ba6e9c390eb5da7\">[58219]</a></span>: Fix typo in ifdef name <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7310\" onclick=\"get_ticket_and_populate_wrapper('7310'); return false;\" title=\"Compile-time option to allow docker containers to as root\">#7310</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Oct-10 16:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2b87e2b2a5147809423be2b0885c7fcc712ca9c2\">[58077]</a></span>: Make DOCKER_ALLOW_RUN_AS_ROOT a cmake option <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7310\" onclick=\"get_ticket_and_populate_wrapper('7310'); return false;\" title=\"Compile-time option to allow docker containers to as root\">#7310</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Oct-08 19:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5fabd1097f32716cf86c54013f838ee93f3a53ab\">[58059]</a></span>: Add undocumented knob DOCKER_RUN_AS_ROOT if compiled in <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7310\" onclick=\"get_ticket_and_populate_wrapper('7310'); return false;\" title=\"Compile-time option to allow docker containers to as root\">#7310</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Dec-02 12:59", "status": "resolved", "created": "2019-Oct-08 19:48", "fixed_version": "2019-Oct-08 19:48", "broken_version": "v080900", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
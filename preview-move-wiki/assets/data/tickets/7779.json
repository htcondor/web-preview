{"id": 7779, "title": "Ticket #7779: Address code review comments for condor_nsenter", "description": "<blockquote>\nAddress code review comments for \"Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7666\" onclick=\"get_ticket_and_populate_wrapper('7666'); return false;\" title=\"condor_ssh_to_job should fully work with singularity\">#7666</a></span>: condor_ssh_to_job should fully work with singularity\"\n\n<p><em>2020-Jul-27 22:59:18 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n</p><p></p><ul>\n<li>Eliminate duplicate call to findChildProc() in os_proc.cpp.\n\n<p></p></li><li>Eliminate redundant calls to getenv().\n\n<p></p></li><li>Can't we end up with two DISPLAY environment variables in <code>envp</code>? Can we trust that the first one in the list will win?\n\n<p></p></li><li>Shouldn't we not call ioctl(TIOCSWINSZ) if ioctl(TIOCGWINSZ) fails?\n\n<p></p></li><li>Blindly trusting that the grandchild pid will have all of the correct environment variables and other properties seems error prone when it can be a child of the original job process.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2020-Oct-12 10:08", "status": "new", "created": "2020-Aug-04 06:30", "fixed_version": "2020-Aug-04 06:30", "broken_version": "v080810", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "#7666", "creator": "tim", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
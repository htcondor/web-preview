{"id": 819, "title": "Ticket #819: Parse() too forgiving in what it accepts", "description": "<blockquote>\nParse() is too lax in what it considers valid expressions. It will parse both assignment and non-assignment expressions. It will also allow an arbitrary non-assignment expression on the left-hand side of an assignment.\n\n<p>Here are some expressions it will accept:\n</p><div class=\"code\">\n<pre class=\"code\">3 = a\n2 + 2 = 5\n2 + 3\n</pre></div>\n\n\n<p>The first two forms should cause Parse() to return failure.\n\n</p><p>Any caller to Parse() is expecting only a non-assignment expression or only an assignment expression. Callers expecting a non-assignment expression should call ParseClassAdRvalExpr() instead. Callers expecting an assignment expression need a function that fails on non-assignment expressions. Parse() can be turned into that function, or a new function created and Parse() deprecated.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Oct-07 11:02:49 by jfrey:</em> <br/>\n\nPushed fix to master (for 7.5.0).</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-11 00:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15998\">[15998]</a></span>: Parse() now only accepts valid assignment expressions. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=819\" onclick=\"get_ticket_and_populate_wrapper('819'); return false;\" title=\"Parse() too forgiving in what it accepts\">#819</a></span> Missed a couple calls in the previous round of changes.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-07 10:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15930\">[15930]</a></span>: Parse() now only accepts valid assignment expressions. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=819\" onclick=\"get_ticket_and_populate_wrapper('819'); return false;\" title=\"Parse() too forgiving in what it accepts\">#819</a></span> Contrary to its sparse documentation, Parse() would accept both assignment and non-assignment expressions. Callers only want one or the other, so allowing both can hide errors. Now, Parse() only accepts assignment expressions. Callers that want\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 14:02", "status": "resolved", "created": "2009-Oct-05 15:35", "fixed_version": "2009-Oct-05 15:35", "broken_version": "", "priority": "4", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
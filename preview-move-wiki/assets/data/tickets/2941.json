{"id": 2941, "title": "Ticket #2941: condor_status should have -autoformat like condor_q does", "description": "<blockquote>\ncondor_q has a -autoformat option (added as part of <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2656\" onclick=\"get_ticket_and_populate_wrapper('2656'); return false;\" title=\"Add condor_q -grid\">#2656</a></span>) that is easier to use than -format.  it would be nice if condor_status had this feature as well.\n\n<p>the -autoformat option behaves like a series of -format commands with an implied first parameter of \"%V\" with a space between each field and a \"\\n\" at the end of each record.\n\n</p><p>It is assumed that everything on the command line up to the next '-' part of the -autoformat command.  Thus:\n</p><div class=\"code\">\n<pre class=\"code\">condor_status -autoformat Name OpSys Arch -pool ....</pre></div>\n\nresults in the same output as:\n<div class=\"code\">\n<pre class=\"code\">condor_status -format \"%v\" Name -format \" %v\" OpSys -format \" %v\\n\" Arch -pool ....</pre></div>\n\n\n<p>-autoformat can be abbreviated -af, and can be followed by a : and optional formatting qualifiers.\n\n</p><p></p><ul>\n<li><code>t</code>  add a tab character before each field (instead of the default space)\n</li><li><code>n</code>  add a newline character after each field\n</li><li><code>,</code>  add a comma after each field\n</li><li><code>l</code>  label each field\n</li><li><code>V</code>  use <code>%V</code> rather than <code>%v</code> for formatting\n</li><li><code>h</code>  print headings before the first line output\n</li></ul>\n\n<p>the 'n' and ',' options are mutually exclusive.\n\n</p><p>-autoformat can be mixed with -format on the same command line, and -autoformat can be specified multiple times with different formatting qualifiers.  The last specification of -autoformat will control the prefix (t), and suffix (n,) for the entire command.  Thus\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">condor_status -af:, Name -format \"%.3f\" LoadAvg -format \"%.3f\" TotalLoadAvg</pre></div>\n will result\nin output like\n<div class=\"verbatim\">\n<pre>slot1@crane.cs.wisc.edu, 0.000, 0.250\nslot2@crane.cs.wisc.edu, 0.000, 0.250\nslot3@crane.cs.wisc.edu, 0.250, 0.250\nslot4@crane.cs.wisc.edu, 0.000, 0.250\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2012-Aug-13 17:43:58 by sfiligoi:</em> <br/>\n\nJust saw this.\n\n<p>Why do we need -autoformat?\n\n</p><p>Doesn't\n</p><div class=\"code\">\n<pre class=\"code\">-attributes\n</pre></div>\n\ndo exactly the same thing, conceptually?\n\n<p></p><hr/>\n<em>2012-Aug-14 16:00:47 by johnkn:</em> <br/>\n\nsfiligoi: -attributes does not print out the values of the attributes, it merely controls which attributes are returned from a query.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3198\" onclick=\"get_ticket_and_populate_wrapper('3198'); return false;\" title=\"condor_q and condor_history usage don't mention -autoformat\">#3198</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q and condor_history usage don't mention -autoformat</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-27 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32486\">[32486]</a></span>: documented 7.9.0 feature: -autoformat option in condor_q and condor_status ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2941\" onclick=\"get_ticket_and_populate_wrapper('2941'); return false;\" title=\"condor_status should have -autoformat like condor_q does\">#2941</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2656\" onclick=\"get_ticket_and_populate_wrapper('2656'); return false;\" title=\"Add condor_q -grid\">#2656</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-May-30 16:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32155\">[32155]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2941\" onclick=\"get_ticket_and_populate_wrapper('2941'); return false;\" title=\"condor_status should have -autoformat like condor_q does\">#2941</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-17 14:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=31692\">[31692]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3345\" onclick=\"get_ticket_and_populate_wrapper('3345'); return false;\" title=\"SCHEDD_COLLECT_STATS_BY_xxx\">#3345</a></span> SCHEDD_COLLECT_STATS_BY_XXX and SCHEDD_EXPIRE_STATS_BY_XXX and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2941\" onclick=\"get_ticket_and_populate_wrapper('2941'); return false;\" title=\"condor_status should have -autoformat like condor_q does\">#2941</a></span> -autoformat for condor_status ===VersionHistory:Complete===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-12 13:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=31647\">[31647]</a></span>: fix printf argument mismatch for condor_status -autoformat diagnostic code. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2941\" onclick=\"get_ticket_and_populate_wrapper('2941'); return false;\" title=\"condor_status should have -autoformat like condor_q does\">#2941</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-12 11:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=31645\">[31645]</a></span>: Add -autoformat option to condor_status. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2941\" onclick=\"get_ticket_and_populate_wrapper('2941'); return false;\" title=\"condor_status should have -autoformat like condor_q does\">#2941</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Aug-14 16:00", "status": "resolved", "created": "2012-Apr-12 11:40", "fixed_version": "2012-Apr-12 11:40", "broken_version": "v070706", "priority": "3", "subsystem": "", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
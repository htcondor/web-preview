{"id": 1936, "title": "Ticket #1936: Improve handling of network errors for Cream jobs", "description": "<blockquote>\nAdd \"EOF detected during communication.\" to list of Cream errors that should trigger a retry of the Cream command. In testing, these errors occurred frequently and the commands usually succeeded if retried.</blockquote>", "remarks": "<blockquote>\n<em>2011-Feb-28 18:12:01 by jfrey:</em> <br/>\n\nPushed commit to V7_5_6-branch for 7.5.6.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Mar-30 16:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0e0166ce69f858c7770fabf25cec17dbf726fa6b\">[21203]</a></span>: Retry CREAM REGISTER commands that fail due to network. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1931\" onclick=\"get_ticket_and_populate_wrapper('1931'); return false;\" title=\"Improve cream_gahp command batching\">#1931</a></span> This should have been part of <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=955\" onclick=\"get_ticket_and_populate_wrapper('955'); return false;\" title=\"Improve handling of timeout errors for cream jobs\">#955</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1936\" onclick=\"get_ticket_and_populate_wrapper('1936'); return false;\" title=\"Improve handling of network errors for Cream jobs\">#1936</a></span>, but the limit on submit attempts foiled the retries. Batching REGISTER commands makes this failure case frequently enough that we noticed it.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-28 18:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6aa33dac956a43d0fdbc2a2b2a319e9cd922fafa\">[20796]</a></span>: Retry Cream commands when server closes connection prematurely. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1936\" onclick=\"get_ticket_and_populate_wrapper('1936'); return false;\" title=\"Improve handling of network errors for Cream jobs\">#1936</a></span> Cream error \"EOF detected during communication.\" occurred frequently in large-scale testing, and the commands usually succeeded if retried.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Feb-28 18:12", "status": "resolved", "created": "2011-Feb-28 18:07", "fixed_version": "2011-Feb-28 18:07", "broken_version": "v070500", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#955", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 15, "title": "Ticket #15: pidfile cannot be dropped in /var/run", "description": "<blockquote>\nAll daemons support -pidfile , but they also drop root privs before writing out the pidfile. As a result, Condor daemons cannot write a pidfile to locations such as /var/run.\n\n<p>I&amp;#8217;m not sure if simply writing the pidfile before dropping root privs is a sufficient fix, because on reconfig and clean_files a daemon will try to manipulate the pidfile. I doubt we want to regain root privs just to deal with the pidfile.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Jan-14 10:51:03 by gquinn:</em> <br/>\n\nAlso, the using-root-priv solution is out for <span class=\"wiki\"><a href=\"wiki?p=PrivSep\" title=\"Priv Sep\">PrivSep</a></span>.\n\n<p>Are there other services that use pidfiles that don't run as root? Where do they drop the file?\n\n</p><p></p><hr/>\n<em>2009-Jan-21 16:47:32 by matt:</em> <br/>\n\nYeah, this should be considered a non-issue. Just drop the pidfile in /var/run/condor, which is what the Red Hat RPMs will do from now on.\n\n<p><a class=\"external\" href=\"https://bugzilla.redhat.com/show_bug.cgi?id=471906\">https://bugzilla.redhat.com/show_bug.cgi?id=471906</a></p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2010-Jan-31 16:15", "status": "abandoned", "created": "2009-Jan-13 20:09", "fixed_version": "2009-Jan-13 20:09", "broken_version": "v070200", "priority": "5", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 20, "title": "Ticket #20: Random failures of the eventlog tests on AIX", "description": "<blockquote>\nThe eventlog regressions tests fail seemingly randomly, and only on AIX.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 10:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13458\">[13458]</a></span>: Removed some debug code from the eventlog rotation tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 10:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13450\">[13450]</a></span>: Removed some debug code from the eventlog rotation tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13457\">[13457]</a></span>: Replaced some commented out code with a \"do nothing\" comment <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13456\">[13456]</a></span>: A simple script that I use to run the eventlog tests -- this should never be used in any automated tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13455\">[13455]</a></span>: Finished the rework required to get the eventlog rotation tests using the actual file sizes and rotations rather than some bogus number of events as it was previously. Conflicts: src/condor_c++_util/user_log.cpp <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13454\">[13454]</a></span>: Added --max-{rotations,sequence,global,user} parameters, and use a derived version of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> to track rotation events <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13453\">[13453]</a></span>: Made the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> class derivable, and added some empty methods that the tests will use to track rotation events. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13452\">[13452]</a></span>: Added the ability to handle long options <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13451\">[13451]</a></span>: Fixed some bad intention (tab/space) <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13448\">[13448]</a></span>: Replaced some commented out code with a \"do nothing\" comment <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13446\">[13446]</a></span>: A simple script that I use to run the eventlog tests -- this should never be used in any automated tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13445\">[13445]</a></span>: Finished the rework required to get the eventlog rotation tests using the actual file sizes and rotations rather than some bogus number of events as it was previously. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13444\">[13444]</a></span>: Added --max-{rotations,sequence,global,user} parameters, and use a derived version of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> to track rotation events <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13443\">[13443]</a></span>: Made the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> class derivable, and added some empty methods that the tests will use to track rotation events. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13442\">[13442]</a></span>: Added the ability to handle long options <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=13441\">[13441]</a></span>: Fixed some bad intention (tab/space) <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 13:15", "status": "resolved", "created": "2009-Jan-15 11:11", "fixed_version": "2009-Jan-15 11:11", "broken_version": "", "priority": "3", "subsystem": "Tests", "assigned_to": "nleroy", "derived_from": "", "creator": "nleroy", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
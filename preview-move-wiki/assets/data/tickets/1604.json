{"id": 1604, "title": "Ticket #1604: Named schedd syntax doesn't support HISTORY", "description": "<blockquote>\nI'd like to be able to set up multiple schedulers on a single machine and have history collection for each scheduler to go that scheduler's unique spool directory.\n\n<p>So for schedd1: $(SPOOL)/1/history\nAnd for schedd2: $(SPOOL)/2/history\n\n</p><p>Except history doesn't seem to work with the new named scheduler syntax. If I defined a scheduler with:\n\n</p><p></p><pre>   SCHEDD1 = $(SCHEDD)\n   SCHEDD1_ARGS = -f -local-name Q1\n   SCHEDD1_LOG = $(LOG)/ScheddLog.1\n   SCHEDD.Q1.SCHEDD_NAME = Q1@$(HOSTNAME)\n   SCHEDD.Q1.SPOOL = $(LOCAL_DIR)/spool/1\n   SCHEDD.Q1.SCHEDD_LOG = $(SCHEDD1_LOG)\n   SCHEDD.Q1.HISTORY = $(LOCAL_DIR)/spool/1/history\n   SCHEDD.Q1.HISTORY_LOG = $(LOCAL_DIR)/spool/1/history\n</pre>\n\n<p></p><pre>   DAEMON_LIST = $(DAEMON_LIST), SCHEDD1\n</pre>\n\n<p>I'd expect the SCHEDD.Q1.HISTORY = $(LOCAL_DIR)/spool/1/history setting to take care of putting the history information for jobs on the queue in to the scheduler-specific directory.\n\n</p><p>Unfortunately no history files are created when I approach the setup this way.\n\n</p><p>If I do:\n\n</p><p>HISTORY = $(SPOOL)/history\n\n</p><p>I do get history. But it's a combined history for all schedulers. They all write to the same file. I'd like one history file per scheduler.\n\n</p><p>I labeled this a defect because this can actually be achieved if you use the pre-named config methods for setting up multiple schedulers.\n\n</p><p>For the configs I'm using see: <a class=\"external\" href=\"http://bit.ly/d4l03O\">http://bit.ly/d4l03O</a></p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2010-Aug-24 12:02", "status": "new", "created": "2010-Aug-24 12:00", "fixed_version": "2010-Aug-24 12:00", "broken_version": "v070402", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "ichesal", "rust": "", "customer_group": "other", "visibility": "public", "notify": "ichesal@cyclecomputing.com ialderman@cyclecomputing.com", "due_date": ""}
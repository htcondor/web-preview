{"id": 356, "title": "Ticket #356: Obtain job status from LDAP for nordugrid ARC grid-type", "description": "<blockquote>\nFor nordugrid ARC jobs in the grid universe, Condor currently determines the remote job's status by reading a 'status' file via ARC's gridftp interface. This doesn't scale well (each job has a separate file) and the status file doesn't give enough information (whether the job is running). Nordugrid ARC includes an LDAP server that provides job status info. Querying the LDAP server solves both of these problems.\n\n<p>In nordugrid ARC's gridftp interface, each job has a /proc-like directory that contains files with information about that job, including the job's status. While the job is in the back-end batch system, the only status provided is 'IN_LRMS'. There's no indication as to whether the job is running.\n\n</p><p>Since each job has a separate information directory, querying the status of N jobs requires N gridftp read operations. This doesn't scale very well.\n\n</p><p>ARC's LDAP service provides a more detailed job status, which includes whether the job is currently running. It will also return information about all jobs from a single query.\n\n</p><p>Implementation:\n\n</p><p>Is every ARC server guaranteed to have an LDAP service running on a well-known port? If not, is there a way to determine the appropriate LDAP service?\n\n</p><p>What happens if Condor can't contact the LDAP service? It can fall back on the current method of determining job status.\n\n</p><p>Tomas Linden can arrange access to an ARC server for testing.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Jun-23 14:31:17 by jfrey:</em> <br/>\n\nMerged code into master:\n<span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8b5faf2d91db08bdffe75735214096ce2651337f\">[14948]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a77ecdf837ebc25194ebb8a6deb14318fd1cb554\">[14949]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d968a37b0c3e47aa47c93a4f68df20ccb60a82e4\">[14950]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/edecf936caba44aae48e315868eb2adba9de4c64\">[14951]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4896f19e29c45b1ea4d95f4360e34c2b58cda664\">[14952]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/083c3e9e7102c6574b5ceecc8baf2c770aa70ce4\">[14953]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f9123c2b3af4806d1735ec70746ba0df7e2e7d81\">[14954]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5fafbf8e152d1390330c1522deefeff4a7e0dd97\">[14955]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f56025360487dedcf2fc3fbdce64cf6eec3f549c\">[14956]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b21be9d00cc13fba537d216387b683f30a34c86c\">[14957]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2708cbdb85eea522e1e8b4d93700f127b306dafc\">[14958]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/24d682e9d35922fc51fee46f67df83f46dbccda9\">[14959]</a></span>\n\n<p></p><hr/>\n<em>2009-Sep-28 16:08:46 by jfrey:</em> <br/>\n\nThese changes have been released in the Condor 7.3 series.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jun-23 13:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d60e9865ad57a9c7cf86defa5313fcf2d5dc23fc\">[14960]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8b5faf2d91db08bdffe75735214096ce2651337f\">[14948]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a77ecdf837ebc25194ebb8a6deb14318fd1cb554\">[14949]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d968a37b0c3e47aa47c93a4f68df20ccb60a82e4\">[14950]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/edecf936caba44aae48e315868eb2adba9de4c64\">[14951]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4896f19e29c45b1ea4d95f4360e34c2b58cda664\">[14952]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/083c3e9e7102c6574b5ceecc8baf2c770aa70ce4\">[14953]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f9123c2b3af4806d1735ec70746ba0df7e2e7d81\">[14954]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5fafbf8e152d1390330c1522deefeff4a7e0dd97\">[14955]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f56025360487dedcf2fc3fbdce64cf6eec3f549c\">[14956]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b21be9d00cc13fba537d216387b683f30a34c86c\">[14957]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2708cbdb85eea522e1e8b4d93700f127b306dafc\">[14958]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/24d682e9d35922fc51fee46f67df83f46dbccda9\">[14959]</a></span>, Merge branch 'V7_3-nordugrid_ldap'  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-31 13:16", "status": "resolved", "created": "2009-Mar-31 12:33", "fixed_version": "2009-Mar-31 12:33", "broken_version": "", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 6865, "title": "Ticket #6865: scitokens: Improve CREDD TOKENS mode and name", "description": "<blockquote>\nCurrently, the CREDD has a separate <code>TOKENS</code> mode to differentiate from the traditional KRB5-mode.\n\n<p>That's good and fine, but the knob to enable/disable this mode is literally named <code>TOKENS</code>, which is set to a boolean.  This is ambiguous and doesn't match the naming scheme of any of the other CREDD-related variables.  Suggestion: remove the (undocumented) <code>TOKENS</code> param and replace it with <code>CREDD_OAUTH_MODE=[true|false]</code>.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Feb-06 13:54:31 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Changes look good.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jan-24 13:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3267b74e29b98f90d71dcb745437527a00743cc2\">[56072]</a></span>: fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6863\" onclick=\"get_ticket_and_populate_wrapper('6863'); return false;\" title=\"scitokens: can't do secure file read/write with non-root WSGI apps\">#6863</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6865\" onclick=\"get_ticket_and_populate_wrapper('6865'); return false;\" title=\"scitokens: Improve CREDD TOKENS mode and name\">#6865</a></span>, change TOKENS param knob to CREDD_OAUTH_MODE, and add TRUST_CREDENTIAL_DIRECTORY knob The OAUTH command that condor_submit uses now writes key files owned by condor and with 0640 permissions so that they can be read by a webserver  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Feb-11 13:15", "status": "resolved", "created": "2019-Jan-16 20:42", "fixed_version": "2019-Jan-16 20:42", "broken_version": "", "priority": "2", "subsystem": "DaemonsSubmitNode", "assigned_to": "johnkn", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "scitokens", "visibility": "public", "notify": "", "due_date": ""}
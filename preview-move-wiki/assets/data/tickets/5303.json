{"id": 5303, "title": "Ticket #5303: condor_userprio prints success even upon failure", "description": "<blockquote>\nFrom a submit node one can run, eg.\n\n<p></p><pre>  condor_userprio -setfactor matthew.brinson@nemo.phys.uwm.edu 10.00\n</pre>\n\n<p>as a regular user and it will print\n\n</p><p></p><pre>  The priority factor of matthew.brinson@nemo.phys.uwm.edu was set to 10.000000\n</pre>\n\n<p>and return 0 even if it failed. The node is not listed in ALLOW_ADMINISTRATOR as reported by condor_config_val.\n\n</p><p>Tom</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-19 17:17:15 by tannenba:</em> <br/>\n\nYes, in versions of HTCondor previous to the code introduced in v8.3.6 with <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4751\" onclick=\"get_ticket_and_populate_wrapper('4751'); return false;\" title=\"Detect authorization denied errors\">#4751</a></span>, various tools (condor_userprio, condor_on, condor_reconfig, condor_off, ...)  could not detect a failure due to authorization.  The changed for the better as a result of <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4751\" onclick=\"get_ticket_and_populate_wrapper('4751'); return false;\" title=\"Detect authorization denied errors\">#4751</a></span>, thus I am resolving this ticket.\n\n<p>So doing the above with HTCondor v8.4.x+ I get the following:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">[tannenba@submit-3 ~]$ condor_userprio -setprio tannenba@chtc.wisc.edu 5\nfailed to send SET_PRIORITY command to negotiator\n[tannenba@submit-3 ~]$ echo $?\n1\n</pre></div>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "incident", "last_change": "2019-Aug-16 11:49", "status": "resolved", "created": "2015-Oct-12 14:38", "fixed_version": "2015-Oct-12 14:38", "broken_version": "v080208", "priority": "5", "subsystem": "", "assigned_to": "tannenba", "derived_from": "", "creator": "tpdownes", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": ""}
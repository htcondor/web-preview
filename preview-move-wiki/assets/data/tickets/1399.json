{"id": 1399, "title": "Ticket #1399: Make a 'max log files open' throttle in DAGMan", "description": "<blockquote>\nBe able to limit the maximum number of log files DAGMan has open at a given time.  (I think this is especially important in recovery mode, because maxjobs, maxidle, etc., won't limit the number of open log files at a given time.)\n\n<p>Anyhow, my idea is that we'd have a config parameter for this, and in \"normal\" mode, if you hit the limit, DAGMan would stop submitting new node jobs until some log files are closed.  In recovery mode it might be a bit trickier -- it would have to not monitor some log files that are \"ready\", and if you had a really wide and deep DAG, you might have to temporarily unmonitor some log files, monitor new ones, and then unmonitor them and monitor the old ones again.\n\n</p><p>(This is all prompted by the fact that LIGO hit the max fds limit with a DAGMan in recovery mode today.)</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Oct-14 11:25:55 by wenger:</em> <br/>\n\nI'm going to resolve this ticket because it's a duplicate of 659.\n\n<p></p><hr/>\n<em>2010-Oct-19 12:10:31 by matt:</em> <br/>\n\nSee <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=659\" onclick=\"get_ticket_and_populate_wrapper('659'); return false;\" title=\"Add a log reader file descriptor throttle to DAGMan\">#659</a></span>\n\n<p></p><hr/>\n<em>2012-Jan-23 14:45:00 by pfc:</em> <br/>\n\nchanging status from <em>Abandoned</em> to <em>Resolved</em> since this in fact appears to be resolved -- and so the ticket stops showing up in my list of unresolved LIGO tickets.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2012-May-03 10:50", "status": "defer", "created": "2010-May-11 14:42", "fixed_version": "2010-May-11 14:42", "broken_version": "v070502", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
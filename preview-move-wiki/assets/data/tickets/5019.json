{"id": 5019, "title": "Ticket #5019: condor_chirp set_job_attr_delayed buffer limits", "description": "<blockquote>\nCurrently, condor_chirp set_job_attr_delayed appears to limit the attribute's value to 1024 characters.\n\n<p>There's no need for such a stringent limit (as this command eventually piggybacks on a CEDAR-based classad update) because we aren't limited by the chirp protocol.\n\n</p><p>In OSG, we are chirp'ing back filenames that may be &gt;1024 characters&amp;#65533;and condor_chirp crashes.  Can we fix this?</p></blockquote>", "remarks": "<blockquote>\n<em>2015-May-06 15:13:27 by bbockelm:</em> <br/>\n\nAssigning to ToddT for triage; per OSG/HTCondor call, we're not sure who the best person on FW is to assign this directly.\n\n<p></p><hr/>\n<em>2015-Jun-24 11:52:17 by johnkn:</em> <br/>\n\nthe whole chirp client and server are filled with buffers with a size of CHIRP_LINE_MAX which is currently set to 1024.  It looks like it would be easy to just up this buffer to some reasonable size - say 4096?  8192?  But the chirp client <em>and the starter</em> would both have to be rebuilt with the new limit to make this work.\n\n<p>The alternative appears to be rewriting the whole chirp protocol implementation to use some sort of dynamically allocated buffer everywhere.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jun-24 18:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/75871f3bf49434db37ab39b6a1b8ec632b9b741a\">[45154]</a></span>: minor edit and spelling correction on 8.3.7 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5019\" onclick=\"get_ticket_and_populate_wrapper('5019'); return false;\" title=\"condor_chirp set_job_attr_delayed buffer limits\">#5019</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jun-24 16:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6037f5cdddff16525b6975c164fe7c260331cd0b\">[45150]</a></span>: Increase the size of CHIRP_LINE_MAX from 1024 to 5120 in order to allow for longer chirp commands <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5019\" onclick=\"get_ticket_and_populate_wrapper('5019'); return false;\" title=\"condor_chirp set_job_attr_delayed buffer limits\">#5019</a></span> ===VersionHistory:Complete===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Jun-24 16:42", "status": "resolved", "created": "2015-Apr-23 15:39", "fixed_version": "2015-Apr-23 15:39", "broken_version": "", "priority": "2", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "#4882", "creator": "bbockelm", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
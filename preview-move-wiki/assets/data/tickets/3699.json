{"id": 3699, "title": "Ticket #3699: only the first CCB server is used when multiple are configured", "description": "<blockquote>\nCCB_ADDRESS supports a list of CCB servers, but a bug is causing only the first one to be activated.  Even if the first server is dead, the others are not used.\n\n<p>The expected behavior is for all listed CCB servers to be registered and advertised in the daemon address.  Clients will then go down the list from beginning to end in case of failure.\n\n</p><p>The bug is caused by accidental nested use of the <code>Rewind()</code> and <code>Next()</code> functions of the condor <code>SimpleList</code> template object.  The fix is to use iterators that support nested iteration (and switching to an STL list).\n\n</p><p>I have not dug back to see exactly when this bug was introduced.  It is likely earlier than the version we know for sure it affects: 7.8.8.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jun-25 13:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2e715877369686a37fba25e032c20a177e5f5e3b\">[36677]</a></span>: minor edit to 8.0.1 version history item ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3699\" onclick=\"get_ticket_and_populate_wrapper('3699'); return false;\" title=\"only the first CCB server is used when multiple are configured\">#3699</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jun-12 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/befc3af99d8b75969d79700e222922bfc7e32492\">[36539]</a></span>: Fixed bug handling a list of CCB servers in CCB_ADDRESS. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3699\" onclick=\"get_ticket_and_populate_wrapper('3699'); return false;\" title=\"only the first CCB server is used when multiple are configured\">#3699</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Jul-28 13:03", "status": "resolved", "created": "2013-Jun-12 15:27", "fixed_version": "2013-Jun-12 15:27", "broken_version": "v080001", "priority": "2", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "isfiligoi@ucsd.edu,dan@hep.wisc.edu", "due_date": ""}
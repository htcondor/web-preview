{"id": 5941, "title": "Ticket #5941: Suppressing job log files in DAGMan produces a log file named ''", "description": "<blockquote>\nSetting DAGMAN_SUPPRESS_JOB_LOGS to false in your DAGMan configuration causes a log file named '' (two single quotes) to be created; this file contains the full workflow log.\n\n<p>Note:  I'm not sure what the <strong>first</strong> version is where this problem showed up -- I was able to reproduce it in 8.5.8.  AS far as I know, nothing related has changed on the DAGMan end of things, so I wonder if something changed in the schedd...</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Oct-02 21:45:36 by wenger:</em> <br/>\n\nHmm -- this does happen in 8.4.10 -- I wonder if it was happening all along and we never noticed it?\n\n<p></p><hr/>\n<em>2016-Oct-02 22:17:18 by wenger:</em> <br/>\n\nHmm -- this does <strong>not</strong> happen in 8.2.11.\n\n<p></p><hr/>\n<em>2016-Oct-03 12:52:48 by tpdownes:</em> <br/>\n\nIt is very reasonable to suppose that this has been happening for a while. I went from 8.2 to 8.5 and have only recently been able to tackle integrating these knobs into my config.\n\n<p>I intend to track the development series going forward so my feedback cycle will be much shortened.\n\n</p><p>Tom\n\n</p><p></p><hr/>\n<em>2016-Oct-04 11:45:09 by wenger:</em> <br/>\n\nCreated V8_4-gittrac_5941-branch for this.\n\n<p></p><hr/>\n<em>2016-Oct-05 10:34:08 by wenger:</em> <br/>\n\nOkay, I think I have a fix for this.  One DAGMan test failed on Win10, need to make sure that's just a random Windows test failure.\n\n<p>Probably assign to TJ for review, because this involved a change in condor_submit.\n\n</p><p></p><hr/>\n<em>2016-Oct-05 15:33:35 by wenger:</em> <br/>\n\nTJ says condor_submit changes need to be replicated in submit_utils.\n\n<p></p><hr/>\n<em>2016-Oct-06 14:19:49 by wenger:</em> <br/>\n\nNote:  submit_utils is in 8.5, not in 8.4.\n\n<p></p><hr/>\n<em>2016-Oct-06 14:54:22 by johnkn:</em> <br/>\n\n<strong>CODE_REVIEW</strong>: looks good for stable. part of the fix will need to be applied to submit_utils also when the change is merged to the devel branch.\n\n<p></p><hr/>\n<em>2016-Oct-07 10:57:46 by wenger:</em> <br/>\n\nHmm -- now I'm thinking I should make another branch off of 8.5, merge this feature branch to that branch, and fix up the submit utils stuff there...\n\n<p></p><hr/>\n<em>2016-Oct-07 15:42:07 by wenger:</em> <br/>\n\nOkay, created V8_5-gittrac_5941-branch to do the 8.5 stuff...\n\n<p></p><hr/>\n<em>2016-Oct-07 16:35:14 by wenger:</em> <br/>\n\nI'm going to assign this to TJ again for re-review so he can check the 8.5 submit_utils changes.\n\n<p></p><hr/>\n<em>2016-Oct-10 16:46:34 by wenger:</em> <br/>\n\nThis is all merged to both 8.4 and 8.5.  I'm going to assign it to TJ for review so he can retroactively look at the 8.5 submit_utils fixes.\n\n<p></p><hr/>\n<em>2016-Oct-12 12:14:11 by wenger:</em> <br/>\n\nI'm just going to resolve this...</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-12 12:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49410\">[49410]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5941\" onclick=\"get_ticket_and_populate_wrapper('5941'); return false;\" title=\"Suppressing job log files in DAGMan produces a log file named ''\">#5941</a></span>: Removed some leftover junk code from the job_dagman_suppress_log test.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-07 16:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49383\">[49383]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5941\" onclick=\"get_ticket_and_populate_wrapper('5941'); return false;\" title=\"Suppressing job log files in DAGMan produces a log file named ''\">#5941</a></span>: Added version history entry; also fixed an unrelated typo.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-07 16:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49382\">[49382]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=49379\">[49379]</a></span>, Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5941\" onclick=\"get_ticket_and_populate_wrapper('5941'); return false;\" title=\"Suppressing job log files in DAGMan produces a log file named ''\">#5941</a></span>: Merged fixes to 8.5 and fixed submit utils to match.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-06 14:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49372\">[49372]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5941\" onclick=\"get_ticket_and_populate_wrapper('5941'); return false;\" title=\"Suppressing job log files in DAGMan produces a log file named ''\">#5941</a></span>: Changed \"log = \" to \"log=\" because TJ says spaces will cause problems on Windows; added comments clarifying -a passed to condor_submit.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-04 12:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49368\">[49368]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5941\" onclick=\"get_ticket_and_populate_wrapper('5941'); return false;\" title=\"Suppressing job log files in DAGMan produces a log file named ''\">#5941</a></span>: Fixed the problem -- need to run all tests and make sure this didn't break anything else...  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Oct-12 12:14", "status": "defer", "created": "2016-Oct-02 21:09", "fixed_version": "2016-Oct-02 21:09", "broken_version": "v080507", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu, downes@uwm.edu, johnkn@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 5378, "title": "Ticket #5378: Add regression test for required files in S3.", "description": "<blockquote>\nThe condor_annex tool depends on a few files in S3 (because it can't upload everything inline).  While we could upload a copy of each of those files as it was distributed to the same bucket where we upload the pool password, it seems like it might be less troublesome to version those files (and/or buckets) instead.  In particular, we should add a --bucket option which identifies the bucket which holds the files (presently the template and two functions), and default it to some bucket name that includes the version (e.g., htcondor-annex-8.5.3).  If the tool fails to find the bucket (or the files it needs in the bucket), it should error out with a message saying that you could try to use the --bucket option.\n\n<p>To help ensure that the user never sees that message, add a regression test which checks for appropriately named bucket (subtest 1), that it contains the necessary files (subtest 2), that it can download the required files without any credentials (subtest 3), and that the downloaded files match the files in the source tree (subtest 4).</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Feb-11 14:01:15 by tlmiller:</em> <br/>\n\nThe primitive versioning will make it harder for me to screw things up for our alpha testers.\n\n<p></p><hr/>\n<em>2016-Aug-25 11:24:37 by tlmiller:</em> <br/>\n\nAbandoning as specific to the prototype.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-09 15:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47595\">[47595]</a></span>: (<span class=\"ticket\"><a class=\"abandoned\" href=\"/tickets?ticket=5378\" onclick=\"get_ticket_and_populate_wrapper('5378'); return false;\" title=\"Add regression test for required files in S3.\">#5378</a></span>) Add primitive versioning to the S3 resources.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "experimental", "last_change": "2016-Aug-25 11:24", "status": "abandoned", "created": "2015-Nov-09 16:12", "fixed_version": "2015-Nov-09 16:12", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "tlmiller", "derived_from": "#5324", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
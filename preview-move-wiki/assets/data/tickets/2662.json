{"id": 2662, "title": "Ticket #2662: Gridftp server in Condor broken", "description": "<blockquote>\nThe gridftp server that we build and distribute with Condor fails at startup. It prints the following error and exits -1:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Error: Failed to initialize:\nan unknown error occurred\n</pre></div>\n\n\n<p>The failure occurs when <code>globus_l_gsc_activate()</code> calls <code>globus_xio_driver_load()</code> to load the \"pipe\" xio driver. Xio drivers \"gssapi_ftp\", \"telnet\", and \"tcp\" were loaded successfully immediately beforehand.\n\n</p><p>The problem started in Condor 7.5.1, when we switched from Globus 4.2.1 to 5.0.0. Globus's xio module supports drivers that can be dlopen'ed. Since we statically link all Globus libraries in Condor 7.6 and before, we patch our Globus build to turn the xio drivers we need into builtin ones (statically linked, no dlopen). Globus 5.0.0 introduced an additional driver, \"pipe\", that the gridftp server uses.\n\n</p><p>The gridftp server is only used for file transfer for GRAM4 grid jobs.\n\n</p><p>Possible solutions:\n</p><ul>\n<li>7.6: Turn xio driver \"pipe\" into a builtin driver\n</li><li>7.7: Stop turning xio drivers into builtin drivers, now that we dynamically link with the Globus libraries\n</li><li>Ignore this problem and drop support for GRAM4</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2013-Jan-30 14:03:16 by jfrey:</em> <br/>\n\nAbandoning, since we no longer distribute a gridftp server with Condor.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-Jan-30 14:03", "status": "abandoned", "created": "2011-Nov-23 17:01", "fixed_version": "2011-Nov-23 17:01", "broken_version": "v070501", "priority": "4", "subsystem": "Grid", "assigned_to": "", "derived_from": "", "creator": "jfrey", "rust": "a22770", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": ""}
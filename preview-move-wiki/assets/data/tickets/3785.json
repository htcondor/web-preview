{"id": 3785, "title": "Ticket #3785: schedd tries to send UPDATE_JOBAD to scheduler universe jobs", "description": "<blockquote>\nWhen a job ad attribute is updated in the schedd, it sends the UPDATE_JOBAD signal to the shadow to tell it to refetch the newly-dirty job ad attributes.  This code is not conditionalized on universe.  So, when dagman updates attributes in it's own job ad, it results in a ton of error messages in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SchedLog\" title=\"Sched Log\">SchedLog</a></span>, wherein it tries to send signal number 71005 (!) to the dagman process itself.</blockquote>", "remarks": "<blockquote>\n<em>2013-Aug-20 09:06:41 by jfrey:</em> <br/>\n\nThis fix should be back-ported to 8.0.x. The bug may have contributed to overloading the schedd on submit-2.batlab.org this week.\n\n<p></p><hr/>\n<em>2013-Aug-20 09:47:41 by jfrey:</em> <br/>\n\nThis fix is already in 8.0.2. I've updated the ticket accordingly.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-13 17:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37607\">[37607]</a></span>: Also avoid sending UPDATE_JOB_AD to standard universe jobs <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3785\" onclick=\"get_ticket_and_populate_wrapper('3785'); return false;\" title=\"schedd tries to send UPDATE_JOBAD to scheduler universe jobs\">#3785</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-16 17:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36928\">[36928]</a></span>: Don't send UPDATE_JOBAD to dagman <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3785\" onclick=\"get_ticket_and_populate_wrapper('3785'); return false;\" title=\"schedd tries to send UPDATE_JOBAD to scheduler universe jobs\">#3785</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Sep-11 16:42", "status": "resolved", "created": "2013-Jul-16 14:40", "fixed_version": "2013-Jul-16 14:40", "broken_version": "v070905", "priority": "2", "subsystem": "", "assigned_to": "gthain", "derived_from": "#3864", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
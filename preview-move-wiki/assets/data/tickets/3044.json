{"id": 3044, "title": "Ticket #3044: condor_history is broken", "description": "<blockquote>\nFirst problem, -f doesn't work any more:\n\n<p></p><pre>  -bash-3.2# condor_config_val history\n  /mnt/condor_data/spool/history\n  -bash-3.2# condor_history\n     ID      OWNER            SUBMITTED     RUN_TIME ST   COMPLETED CMD\n     2.0   ian.test        6/6  16:27   0+00:07:42 C   6/6  16:37 /bin/sleep\n     1.0   ian.test        6/6  15:18   0+00:05:02 C   6/6  15:23 /bin/sleep\n  -bash-3.2# condor_history -f `condor_config_val history`\n   ID      OWNER            SUBMITTED     RUN_TIME ST   COMPLETED CMD\n</pre>\n\n<p>And it complains if you use -constraint and -f together that the options are illegal:\n\n</p><p></p><pre>  -bash-3.2# condor_history -constraint \"EnteredCurrentStatus &gt;= 0\"\n   ID      OWNER            SUBMITTED     RUN_TIME ST   COMPLETED CMD\n     3.0   ian.test        6/6  16:45   0+00:05:02 C   6/6  16:50 /bin/sleep\n     2.0   ian.test        6/6  16:27   0+00:07:42 C   6/6  16:37 /bin/sleep\n     1.0   ian.test        6/6  15:18   0+00:05:02 C   6/6  15:23 /bin/sleep\n  -bash-3.2# condor_history -f `condor_config_val history` -constraint \"EnteredCurrentStatus &gt;= 0\"\n  Usage: condor_history [options]\n  \twhere [options] are\n  \t\t-help\t\t\tThis screen\n  \t\t-f &lt;file&gt;\t\tRead history data from specified file\n  \t\t-backwards\t\tList jobs in reverse chronological order\n  \t\t-forwards\t\tList jobs in chronological order\n  \t\t-match &lt;number&gt;\t\tLimit the number of jobs displayed\n  \t\t-format &lt;fmt&gt; &lt;attr&gt;\tPrint attribute attr using format fmt\n  \t\t-l\t\t\tVerbose output (entire classads)\n  \t\t-constraint &lt;expr&gt;\tAdd constraint on classads\n  \t\trestriction list\n  \twhere each restriction may be one of\n  \t\t&lt;cluster&gt;\t\tGet information about specific cluster\n  \t\t&lt;cluster&gt;.&lt;proc&gt;\tGet information about specific job\n  \t\t&lt;owner&gt;\t\t\tInformation about jobs owned by &lt;owner&gt;</pre>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2012-Aug-23 14:10:22 by zmiller:</em> <br/>\n\nBulk change of target version from v070802 to v070803 using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3133\" onclick=\"get_ticket_and_populate_wrapper('3133'); return false;\" title=\"Blahp depends on condor_history -f\">#3133</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nBlahp depends on condor_history -f</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-20 10:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32425\">[32425]</a></span>: formatting of 7.8.2 version history item, and place needed info into condor_history man page ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3044\" onclick=\"get_ticket_and_populate_wrapper('3044'); return false;\" title=\"condor_history is broken\">#3044</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-13 15:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32314\">[32314]</a></span>: fix command line parsing for condor_history so -f is no longer hidden <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3044\" onclick=\"get_ticket_and_populate_wrapper('3044'); return false;\" title=\"condor_history is broken\">#3044</a></span> new option -forward was intercepting -f and preventing it from meaning -file. changed all commands to have an explicit minimum number of matching characters -forw[ard] to avoid conflict with -f[ile] and -fo[rmat]. ===VersionHistory:Complete===\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Aug-23 14:10", "status": "resolved", "created": "2012-Jun-06 15:52", "fixed_version": "2012-Jun-06 15:52", "broken_version": "v070706", "priority": "2", "subsystem": "Tools", "assigned_to": "gthain", "derived_from": "", "creator": "ichesal", "rust": "", "customer_group": "other", "visibility": "public", "notify": "ichesal@cyclecomputing.com, tstclair@redhat.com", "due_date": ""}
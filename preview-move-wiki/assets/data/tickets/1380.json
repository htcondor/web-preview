{"id": 1380, "title": "Ticket #1380: Connections to negotiator fail if NEGOTIATOR_HOST is specified", "description": "<blockquote>\nAfter upgrading the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BatLab\" title=\"Bat Lab\">BatLab</a></span> pool from v7.0.1 to v7.4.1 the Condor accounting scripts stopped working.  A recent condor-users thread explains the problem.  Search for subject \"COLLECTOR address or hostname not specified in config file\" in the condor-users archive (click <a class=\"external\" href=\"https://lists.cs.wisc.edu/archive/condor-users/2010-April/msg00056.shtml\">here</a>)</blockquote>", "remarks": "<blockquote>\n<em>2010-May-05 11:38:34 by danb:</em> <br/>\n\nI believe this problem is caused by <span class=\"chng\"><a href=\"chngview?cn=15569\">[15569]</a></span>, which also breaks COLLECTOR_HOST as used by startd hibernation.  That commit appears to cause &lt;SUBSYS&gt;_HOST to be mishandled if none of the entries listed in the value of &lt;SUBSYS&gt;_HOST match the local hostname.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/181/subsys_host_fix.patch\">subsys_host_fix.patch</a>\n25027 bytes added by rrati on 2010-May-25 15:13:16 UTC.\n<br/>\nCorrects handling of possible multiple entries of COLLECTOR_HOST by pushing the intelligence for the \"correct\" entry our to the tools.  This patch also changes the way condor_restart/reconfig will work.  If the user issues condor_restart -subsystem collector, it will send a restart to ALL collectors in COLLECTOR_HOST<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jun-02 14:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18295\">[18295]</a></span>: Fixed handling of multiple entires in COLLECTOR_HOST. The previous logic attempted to be smart in determining which entry to use if more than one entry existed for COLLECTOR_HOST. This logic was flawed, and caused issues with things like NEGOTIATOR_HOST as well. Now the intelligence of which daemon to\u00a0[...]\n (By Robert Rati )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jun-02 14:06", "status": "resolved", "created": "2010-Apr-27 12:05", "fixed_version": "2010-Apr-27 12:05", "broken_version": "v070400", "priority": "2", "subsystem": "Unknown", "assigned_to": "rrati", "derived_from": "", "creator": "bgietzel", "rust": "a20537", "customer_group": "batlab", "visibility": "public", "notify": "dan@hep.wisc.edu,rrati@redhat.com,tannenba@cs.wisc.edu", "due_date": ""}
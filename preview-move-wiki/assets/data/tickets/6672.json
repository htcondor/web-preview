{"id": 6672, "title": "Ticket #6672: Treat blank mapfile lines as warnings instead of errors", "description": "<blockquote>\nWith the CHTC version of HTCondor-CE, we are shipping the following default condor_mapfile with a few blank lines:\n\n<p><a class=\"external\" href=\"https://github.com/opensciencegrid/htcondor-ce/blob/master/config/condor_mapfile\">https://github.com/opensciencegrid/htcondor-ce/blob/master/config/condor_mapfile</a>\n\n</p><p>This results in the following errors in each daemon's logs:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">05/08/18 11:57:44 ERROR: Error parsing line 7 of /etc/condor-ce/condor_mapfile.  (Method=) (Principal=) (Canon=) Skipping to next line.\n05/08/18 11:57:44 ERROR: Error parsing line 13 of /etc/condor-ce/condor_mapfile.  (Method=) (Principal=) (Canon=) Skipping to next line.\n05/08/18 11:57:44 ERROR: Error parsing line 20 of /etc/condor-ce/condor_mapfile.  (Method=) (Principal=) (Canon=) Skipping to next line.\n05/08/18 11:57:44 ERROR: Error parsing line 24 of /etc/condor-ce/condor_mapfile.  (Method=) (Principal=) (Canon=) Skipping to next line.\n05/08/18 11:57:44 ERROR: Error parsing line 30 of /etc/condor-ce/condor_mapfile.  (Method=) (Principal=) (Canon=) Skipping to next line.\n</pre></div>\n\n\n<p>Can we downgrade these to just warnings and maybe throw them in D_FULLDEBUG instead of the default log level? They don't seem to have a negative effect on the actual mappings.</p></blockquote>", "remarks": "<blockquote>\n<em>2018-Jun-15 10:25:52 by jfrey:</em> <br/>\n\nI plan to have the code silently ignore blank lines. I don't see a reason for it to care at all.\n\n<p></p><hr/>\n<em>2018-Jun-15 10:42:33 by jfrey:</em> <br/>\n\nYou are correct. The blank lines have no effect other than the scary messages in the daemon log.\n\n<p></p><hr/>\n<em>2018-Jun-15 10:59:57 by zmiller:</em> <br/>\n\n<strong>CODE REVIEW</strong>: Looks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-15 10:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5350a085aa74d2b248fc25028c80c9d15c25ea07\">[55067]</a></span>: Ignore blank lines in the security and user map files. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6672\" onclick=\"get_ticket_and_populate_wrapper('6672'); return false;\" title=\"Treat blank mapfile lines as warnings instead of errors\">#6672</a></span> No change in behavior, other than removing a scary looking ERROR line in the dameon log.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Jun-15 11:01", "status": "resolved", "created": "2018-May-08 12:11", "fixed_version": "2018-May-08 12:11", "broken_version": "", "priority": "3", "subsystem": "Security", "assigned_to": "jfrey", "derived_from": "#4882", "creator": "blin", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "blin@cs.wisc.edu, zmiller@cs.wisc.edu", "due_date": ""}
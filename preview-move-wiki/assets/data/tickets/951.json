{"id": 951, "title": "Ticket #951: DaemonCore signal handlers should return void not int", "description": "<blockquote>\nDaemonCore's Signal code makes callbacks into function pointers or member function pointers. These functions return int. However, the Signal code doesn't care and ignores the return value. See <a class=\"file\" href=\"rlog?f=src/condor_daemon_core.V6/daemon_core.cpp\">/src/condor_daemon_core.V6/daemon_core.cpp</a> roughly line 2940 in DaemonCore::Driver(). This is confusing, as a developer might think the return value has some significance.\n\n<p>Fix:\n</p><ul>\n<li>the typedefs <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SignalHandler\" title=\"Signal Handler\">SignalHandler</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SignalHandlercpp\" title=\"Signal Handlercpp\">SignalHandlercpp</a></span> (condor_daemon_core.h) should return void, not int.\n</li><li>functions passed into DaemonCore::Register_Signal should return void, not int.\n</li><li>function pointers passed into DaemonCore::Register_Signal should not be cast; either they match and are correct, or don't match.\n</li></ul>\n\n<p>This change should not be user visible in any way, and thus does not need a version history entry.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 14:52", "status": "new", "created": "2009-Nov-15 08:14", "fixed_version": "2009-Nov-15 08:14", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "#946", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
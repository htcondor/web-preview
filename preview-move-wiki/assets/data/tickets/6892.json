{"id": 6892, "title": "Ticket #6892: credmon(s) should run under the credd", "description": "<blockquote>\nIf <code>SEC_CREDENTIAL_MONITOR</code> and <code>SEC_CREDENTIAL_DIR</code> are set, and if the process with pid <code>${SEC_CREDENTIAL_DIR}/pid</code> is not already running (should log a warning if so), then the credd should exec <code>$SEC_CREDENTIAL_MONITOR</code> so that the credmon is running with the same real uid as the credd. This helps to ensure that the credmon is running whenever the credd is running and also that files written and read by both the credd and credmon are owned by the same user.</blockquote>", "remarks": "<blockquote>\n<em>2019-Feb-01 16:06:08 by jpatton:</em> <br/>\n\nAlso, we should support multiple credmons such that those written before the new oauth tokens code can work side-by-side with a credmon that monitors oauth tokens.\n\n<p></p><hr/>\n<em>2019-Mar-05 16:38:50 by jpatton:</em> <br/>\n\nThis can be worked around (or should this be the correct behavior?) by setting:\n\n<p></p><div class=\"verbatim\">\n<pre>SEC_CREDENTIAL_MONITOR = /path/to/credmon\nDAEMON_LIST = $(DAEMON_LIST) SEC_CREDENTIAL_MONITOR\n</pre></div>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2020-Oct-12 10:01", "status": "new", "created": "2019-Feb-01 14:29", "fixed_version": "2019-Feb-01 14:29", "broken_version": "v080800", "priority": "4", "subsystem": "DaemonsSubmitNode", "assigned_to": "zmiller", "derived_from": "#6513", "creator": "jpatton", "rust": "", "customer_group": "scitokens", "visibility": "public", "notify": "jpatton@cs.wisc.edu,tannenba@cs.wisc.edu,bbockelman@morgridge.org", "due_date": ""}
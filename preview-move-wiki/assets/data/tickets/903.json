{"id": 903, "title": "Ticket #903: Remove authorization levels from SETTABLE_ATTRS", "description": "<blockquote>\nSETTABLE_ATTRS is an overly flexible set of parameters. It can work with any authorization level, e.g SETTABLE_ATTRS_OWNER checks for OWNER authorization while SETTABLE_ATTRS_CONFIG checks for CONFIG authorization. This flexibility allows for SETTABLE_ATTRS_OWNER=A,B,C and SETTABLE_ATTRS_CONFIG=X,Y,Z to be configured at the same time. However, what's the practical utility of being able to do this.\n\n<p>I propose a simplification, updating and making the configuration more clear.\n\n</p><p>The _&lt;Authorization Level&gt; should be removed and all SETTABLE_ATTRS should always require the CONFIG level.\n\n</p><p>An added pain is confusing log messages from configurations such as:\n\n</p><p></p><div class=\"verbatim\">\n<pre>ALLOW_OWNER = *\nSETTABLE_ATTRS_OWNER = A\nALLOW_ADMINISTRATOR = *\nSETTABLE_ATTRS_ADMINISTRATOR =\tB\nALLOW_WRITE = *\nSETTABLE_ATTRS_WRITE =\tC\n</pre></div>\n\n\n<p></p><div class=\"verbatim\">\n<pre>$ condor_config_val -neg -rset D=1\nAttempt to set configuration \"D=1\" on negotiator robin.local &lt;127.0.0.1:37239&gt; failed.\n</pre></div>\n\n\n<p><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NegotiatorLog\" title=\"Negotiator Log\">NegotiatorLog</a></span>:\n</p><div class=\"verbatim\">\n<pre>11/03 21:18:34 DC_AUTHENTICATE: received DC_AUTHENTICATE from &lt;127.0.0.1:43709&gt;\n11/03 21:18:34 DC_AUTHENTICATE: added incoming session id robin:24353:1257311914\n:0 to cache for 80 seconds (return address is unknown).\n11/03 21:18:34 DC_AUTHENTICATE: Success.\n11/03 21:18:34 PERMISSION GRANTED to unauthenticated user from host 127.0.0.1 fo\nr command 60003 (DC_CONFIG_RUNTIME), access level ALLOW: reason:\n11/03 21:18:34 PERMISSION GRANTED to unauthenticated user from host 127.0.0.1 fo\nr remote config D, access level WRITE: reason: WRITE authorization policy allows\n access by anyone\n11/03 21:18:34 PERMISSION GRANTED to unauthenticated user from host 127.0.0.1 fo\nr remote config D, access level ADMINISTRATOR: reason: ADMINISTRATOR authorizati\non policy allows access by anyone\n11/03 21:18:34 PERMISSION GRANTED to unauthenticated user from host 127.0.0.1 fo\nr remote config D, access level OWNER: reason: OWNER authorization policy allows\n access by anyone\n11/03 21:18:34 WARNING: Someone at 127.0.0.1 is trying to modify \"D\"\n11/03 21:18:34 WARNING: Potential security problem, request refused\n</pre></div>\n\n\n<p>Reading the above log suggest that the rset should have succeeded in three different ways. This is overly complex to debug.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2012-Oct-17 06:17", "status": "new", "created": "2009-Nov-03 23:23", "fixed_version": "2009-Nov-03 23:23", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "", "derived_from": "#899", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.cs.wisc.edu psilord@cs.wisc.edu", "due_date": ""}
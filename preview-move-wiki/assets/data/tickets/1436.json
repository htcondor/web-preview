{"id": 1436, "title": "Ticket #1436: condor_status -format no longer evaluated expressions", "description": "<blockquote>\nOn a machine running 7.4.2 with at least two slots, add the following to the configuration and restart it:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">IS_UNLIMITED_QUEUE     = (SlotID==2)\nSTARTD_ATTRS = IS_UNLIMITED_QUEUE\n</pre></div>\n\n\n<p>Run the following command, using both the 7.4.2 and 7.2.5 condor_status commands.  Observe that 7.2.5 returns \"11\" (expected) and 7.4.2 returns \"10\" (wrong).\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">condor_status -const 'IS_UNLIMITED_QUEUE=?=TRUE' -format '%d' TRUE -format '%d\\n' 'IS_UNLIMITED_QUEUE=?=TRUE'\n</pre></div>\n\n\n<p>Note that if you request IS_UNLIMITED_QUEUE by itself, not only does it work, it allows the 'IS_UNLIMITED_QUEUE=?=TRUE' to work as well!\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">condor_status -const 'IS_UNLIMITED_QUEUE=?=TRUE' -format '%d' IS_UNLIMITED_QUEUE -format '%d\\n' 'IS_UNLIMITED_QUEUE=?=TRUE'\n</pre></div>\n\n\n<p>This leads to an interesting workaround.  The first command below fails, but the second works:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">condor_status -const 'IS_UNLIMITED_QUEUE=?=TRUE' -format '%d\\n' 'IS_UNLIMITED_QUEUE=?=TRUE'\ncondor_status -const 'IS_UNLIMITED_QUEUE=?=TRUE' -format '%d\\n' 'IS_UNLIMITED_QUEUE=?=TRUE' -format '' IS_UNLIMITED_QUEUE\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2010-Jun-08 15:31:20 by gthain:</em> <br/>\n\nHmm.  Seems to work with 7.5 client to 7.5 server.\n<hr/>\n<em>2010-Aug-23 17:42:37 by adesmet:</em> <br/>\n\nBulk change of target version from v070403 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2013-May-29 09:52:43 by gthain:</em> <br/>\n\nThis has been subsequently fixed in some other commit.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-May-29 09:52", "status": "resolved", "created": "2010-Jun-08 14:44", "fixed_version": "2010-Jun-08 14:44", "broken_version": "v070402", "priority": "2", "subsystem": "Tools", "assigned_to": "gthain", "derived_from": "", "creator": "adesmet", "rust": "a20638", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
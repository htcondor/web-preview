{"id": 5213, "title": "Ticket #5213: Allow more flexible dependencies between splices", "description": "<blockquote>\nAs per yesterday's phone conversation with John Calley.  Basically he would like to do something like this:\n\n<p></p><pre>  * A.dag:\n  job A1 ...\n  job A2 ...\n  ...\n</pre>\n\n<p></p><pre>  * B.dag:\n  job B1 ...\n  job B2 ...\n  ...\n</pre>\n\n<p></p><pre>  * top.dag:\n  splice A A.dag\n  splice B B.dag\n  (B1 depends on A1, B2 depends on A2, etc.)\n</pre>\n\n<p>Currently this is not possible -- if splice A is a parent of splice B, every node in B depends on every node in A.  And it turns out it's not possible to \"manually\" add dependencies between the individual nodes.\n\n</p><p>The rough idea that we have so far is that splices could be defined with a set of input and output nodes (which could be DAG-level NOOPs).  Then you'd say:\n\n</p><p></p><pre>  connect A to B\n</pre>\n\n<p>and this would mean that each output node in A would be the parent of the corresponding input node in B.  (It would be a fatal parse error if the input and output nodes didn't match exactly.)</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Aug-14 14:41:21 by wenger:</em> <br/>\n\n(I'm just adding this note here because I haven't created a design doc yet.)\n\n<p>Anyhow, one question is how to identify the nodes that we use to connect the splices.  It seems that there are fundamentally two options:\n</p><ol>\n<li>Special keywords instead of \"JOB\".\n</li><li>Special node names.\n</li></ol>\n\n<p>I'm inclined to go with number two, partly because it will definitely be easier to implement, and partly because I think it might be less confusing.  My initial thought is that the nodes would be named something like PININ.1, PININ.2, ... and PINOUT.1, PINOUT.2... (continuing Miron's hardware analogy).  The main disadvantage of this is that if someone happened to already have conflicting node names, they couldn't use the connect feature.  But I don't think this is a big problem, because it won't break any existing DAGs (they'd have to use the connect feature for it to be a problem).\n\n</p><p>Continuing the hardware analogy, it would be possible to have \"impedance matching\" splices that would do something like connect 10 inputs to one output -- it would be possible to have a splice that was nothing but noop nodes, just to do the \"impedance matching\".\n\n</p><p></p><hr/>\n<em>2015-Aug-17 11:23:12 by wenger:</em> <br/>\n\nAlso, we talked about whether to use PARENT/CHILD for this type of connection, or add a new keyword.  We pretty much decided in favor of a new keyword, partly because you might still want to have a \"normal\" PARENT/CHILD dependency between splices, and partly to avoid a chance of goofing up existing DAGs.\n\n<p></p><hr/>\n<em>2015-Aug-19 13:30:28 by wenger:</em> <br/>\n\nDesign doc here: <a class=\"external\" href=\"https://docs.google.com/document/d/1ayE8hGkFPud8WhIiXEEqa2m-E4_ikMdkAzzeg0_ZSHA/edit\">https://docs.google.com/document/d/1ayE8hGkFPud8WhIiXEEqa2m-E4_ikMdkAzzeg0_ZSHA/edit</a>\n\n<p></p><hr/>\n<em>2015-Nov-20 16:12:32 by wenger:</em> <br/>\n\nUpdated the design doc as per email discussions with Miron.\n\n<p></p><hr/>\n<em>2015-Dec-17 12:50:29 by wenger:</em> <br/>\n\nJust had another discussion about this with Miron.  He wants some changes to the design:\n<ol>\n<li>Split off specifying pin in and pin out from the node names.\n</li><li>Just use numbers to identify which pins get connected to which.\n</li><li>Possibly allow separate files that would be included in a splice that specify pin ins and pin outs (longer-term).\n</li><li>Possibly allow regexs or <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> expressions for node names (and maybe pin numbers) (longer-term).\n</li></ol>\n\n<p>Specifically Miron is looking for something like this:\n\n</p><p></p><pre>  JOB foo foo.cmd\n  PIN_IN foo 1\n</pre>\n\n<p>One thing I have to think about is allowing multiple pin in and pin out connections for a single node (or multiple nodes for a single pin).\n\n</p><p>Anyhow, I need to update the design document accordingly...\n\n</p><p></p><hr/>\n<em>2015-Dec-18 14:33:22 by wenger:</em> <br/>\n\nSomething else I was just thinking about this -- if we allow many-to-many relationships among nodes and pins, should pin in and pin out be attributes of Job objects (my first thought)?  Or should they be their own objects, with the pin objects having a list of the relevant nodes, instead of the nodes having lists of pins?  One advantage of having pin objects is that we could delete the pin objects once we've fully parsed our whole workflow.  On the other hand, if we just allow numbers to identify the pins, that would be a very compact representation in the Job objects...\n\n<p></p><hr/>\n<em>2015-Dec-22 10:24:55 by wenger:</em> <br/>\n\nFinished updating design document as per discussion with Miron a few days ago.\n\n<p></p><hr/>\n<em>2016-Jan-16 11:31:15 by wenger:</em> <br/>\n\nCreated V8_5-gittrac_5213-branch for this.\n\n<p></p><hr/>\n<em>2016-Jan-26 13:29:24 by wenger:</em> <br/>\n\nSome of the tests we should have for this:\n\n<p>Tests where the DAG should succeed:\n</p><ul>\n<li>Simple\n</li><li>Many-to-many pin/node connections.\n</li><li>More than one level of splice, pin_in/pin_out connect to splice.\n</li><li>Do -dumprescue, check that rescue DAG has correct dependencies.\n</li></ul>\n\n<p>Tests where the DAG should fail (test should check for correct error messages):\n</p><ul>\n<li>Pin_in/pin_out mismatch.\n</li><li>Non-numberical pin.\n</li><li>Connect command doesn't specify a splice.\n</li><li>Negative or zero pin number\n</li><li>\"Missing\" pin number (e.g., 1, 3 but no 2).\n</li></ul>\n\n<p></p><hr/>\n<em>2016-Feb-09 14:58:36 by wenger:</em> <br/>\n\nMy initial \"naive\" implementation of this has the limitation that you cannot connect pins to splices, only to \"normal\" nodes.  I'm not sure yet how hard it will be to remove this limitation.  If it turns out to be a lot of work, maybe it would make sense to release a first version with this limitation.  (Hmm -- this is another case where having \"socket\" nodes on splices would make things a lot easier...)\n\n<p></p><hr/>\n<em>2016-Feb-09 15:59:10 by wenger:</em> <br/>\n\nRight now I think there are three main areas of functionality to finish:\n<ol>\n<li>Full error checking.\n</li><li>Allow one pin to be connected to multiple nodes.\n</li><li>Allow pins to be connected to splices.\n</li></ol>\n\n<p>(I think I should also add more tests; and I definitely have to spend some time documenting this -- I think coming up with good, clear documentation will really take some work.)\n\n</p><p>Anyhow, at this point I'm kind of thinking that maybe I should just finish item one on the above list -- if I do that, and the documentation, we could go ahead and release phase 1 of this feature, and then do items 2 and 3 in a later release.  I guess I will ask Miron and John Calley about this...\n\n</p><p></p><hr/>\n<em>2016-Feb-24 10:44:55 by wenger:</em> <br/>\n\nAs per feedback from John Calley, my current plan is to implement many-to-many pin/node connections in phase 1, but not implement pin/splice connections in phase 1.\n\n<p></p><hr/>\n<em>2016-Jun-08 12:03:12 by wenger:</em> <br/>\n\nI'm going to up this to priority 1, because I really want to try to get it into 8.5.6.\n\n<p></p><hr/>\n<em>2016-Jun-22 10:22:44 by wenger:</em> <br/>\n\nI'm thinking I want to make a \"merge branch\" for this, because the changes are so complex and a lot has changed on master since I started the branch.\n\n<p></p><hr/>\n<em>2016-Jun-23 12:52:00 by wenger:</em> <br/>\n\nCreated V8_5-gittrac_5213_2-branch to merge stuff to a current 8.5.\n\n<p></p><hr/>\n<em>2016-Jun-24 09:18:42 by wenger:</em> <br/>\n\njob_dagman_splice_connect-D, job_dagman_splice_connect-E, and job_dagman_splice_connect-F fail on the Windows platforms (see attached output file).  I think maybe I need to define an EvictedWithoutCheckpoint() subroutine -- see some of the other DAGMan tests...\n\n<p></p><hr/>\n<em>2016-Jul-04 19:56:24 by wenger:</em> <br/>\n\nOkay, I'm temporarily giving up on getting the failing tests to work on Windows (see <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5774\" onclick=\"get_ticket_and_populate_wrapper('5774'); return false;\" title=\"Get all splice connect tests to work on Windows\">#5774</a></span>).\n\n<p>Assuming my current build/test run works, I'm going to assign this to Zach for review.  (Still needs documentation -- that will be quite a bit of work to get this documented clearly!  I should probably get feedback from Lauren and Christina.)\n\n</p><p></p><hr/>\n<em>2016-Jul-05 09:41:07 by wenger:</em> <br/>\n\nI have an all-green build/test on V8_5-gittrac_5213_2-branch (other than a few unrelated tests), so I'm going to assign this to Zach for review.\n\n<p>Also, when I document this, I think I want to make some simple example DAGs to put on the Wiki so users can download them.\n\n</p><p></p><hr/>\n<em>2016-Jul-19 12:14:02 by wenger:</em> <br/>\n\nTimT changed fixed version to 8.5.6 -- not sure why.  I changed it back to 8.5.7.  This hasn't been merged yet, and even if 8.5.6 is still \"slushy\"(?), I don't think this should go into 8.5.6, because it's a pretty big change, and I don't want to take the chance of any further de-stabilizing of 8.5.6.\n\n<p></p><hr/>\n<em>2016-Jul-29 12:58:53 by wenger:</em> <br/>\n\nMerged to master (5.8.7) on verbal okay from Zach.\n\n<p>Note:  after formal completion of code review, this ticket should go into the docpending state, because the documentation is incomplete.\n\n</p><p></p><hr/>\n<em>2016-Sep-27 11:35:33 by wenger:</em> <br/>\n\nOkay, I'm going to declare the documentation done unless I hear from Lauren or Christina.  So after the formal review, this ticket should be resolved.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5774\" onclick=\"get_ticket_and_populate_wrapper('5774'); return false;\" title=\"Get all splice connect tests to work on Windows\">#5774</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nGet all splice connect tests to work on Windows</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5799\" onclick=\"get_ticket_and_populate_wrapper('5799'); return false;\" title=\"Have a configurable limit on the depth of include nesting in DAG files\">#5799</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave a configurable limit on the depth of include nesting in DAG files</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/948/job_dagman_splice_connect-D-1.out\">job_dagman_splice_connect-D-1.out</a>\n5998 bytes added by wenger on 2016-Jun-24 14:19:35 UTC.\n<br/>\nTest failure on Win10.<br/>\n</li><li><a href=\"../files/951/gt5213_dif\">gt5213_dif</a>\n74998 bytes added by wenger on 2016-Jul-05 14:39:24 UTC.\n<br/>\nThis is a diff of everything on V8_5-gittrac_5213_2-branch<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-27 11:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49312\">[49312]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: More improvements to splice connection documentation.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-07 13:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49130\">[49130]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Slight fixes to splice connect documentation.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-24 14:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49071\">[49071]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added diagram of splice connection example, other improvements to the splice connection documentation.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-21 15:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48831\">[48831]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Documented the INCLUDE command; started on CONNECT, PIN_IN, and PIN_OUT. (Also fixed typo in 8.4 version history that kept the manual from building.)  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-04 19:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48727\">[48727]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Disabled failing tests on Windows, because I don't want to delay this feature any more.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-04 10:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48726\">[48726]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: More modifications to tests that failed on Windows.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-24 16:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48638\">[48638]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Modified tests that failed on Windows.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-23 12:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48618\">[48618]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Verified tests and added checking to some.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-22 16:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48614\">[48614]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added multi-DAG/splice connect test.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-20 16:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48598\">[48598]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Cleaned up a bunch of the code; need to make a multi-DAG/splice connect test.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-29 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48336\">[48336]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added job_dagman_splice_connect-A-node.pl, which I forgot to add before; fixed unused param warning in compile.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-29 12:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48330\">[48330]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added a bunch of tests; added more error checking when connecting splices. Also removed some asserts that don't do anything (not really part of the splice connection changes).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-25 16:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48286\">[48286]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added code to check for not having any pin ins/outs on connect splices, added workflow that tests this.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-25 16:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48282\">[48282]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Cleaned up the DAG number stuff -- we deal with splices and includes more cleanly.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-24 16:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47648\">[47648]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Various cleanups of the code, documented methods, etc.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-24 14:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47644\">[47644]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Implemented many-to-many pin/node connections; added job_dagman_splice_connect-C DAGs, etc., to test that (test not complete yet); renamed existing .cmd files to .sub to match TJ's plans.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-11 09:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47592\">[47592]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added \"manual\" socket nodes to job_dagman_splice_connect-B DAGs so that this test can work until we allow pins to connect to splices (probably with \"automatic\" socket nodes).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-09 15:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47579\">[47579]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Fixed a bug in the include feature (filename gets messed up); added error message for too high a pin number).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-09 14:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47578\">[47578]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Added second test workflow -- doesn't correctly parse yet with multiple levels of splices/connects.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-09 10:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47577\">[47577]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: First test of this feature is working.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-06 20:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47570\">[47570]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Initial implementation of INCLUDE feature, with test DAGs modified to use it.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-04 15:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47562\">[47562]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: We now actually generate the parent/child relationships between nodes based on pin_in/out and connect commands; did a little cleanup of the parent/child parsing code.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-03 17:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47553\">[47553]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: PIN_IN and PIN_OUT commands now actually set values in the Dag object; CONNECT command checks that it's really connecting splices; fixed typos in the spelling of \"propagate\".  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-26 13:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47495\">[47495]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Basic CONNECT and PIN_IN/PIN_OUT parsing works (but we don't actually do anything yet); changed test DAGs to actually have those commands.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-16 11:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47463\">[47463]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5213\" onclick=\"get_ticket_and_populate_wrapper('5213'); return false;\" title=\"Allow more flexible dependencies between splices\">#5213</a></span>: Created an initial set of test DAGs (with PARENT/CHILD for now instead of CONNECTs).  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Sep-28 10:58", "status": "resolved", "created": "2015-Aug-11 14:49", "fixed_version": "2015-Aug-11 14:49", "broken_version": "v080307", "priority": "1", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "users", "visibility": "public", "notify": "miron@cs.wisc.edu, wenger@cs.wisc.edu, zmiller@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
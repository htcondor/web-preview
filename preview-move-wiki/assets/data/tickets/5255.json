{"id": 5255, "title": "Ticket #5255: startd history should log if badput was due to policy or user", "description": "<blockquote>\nWhen a job is evicted, it can be because the user requested it, via condor_rm/condor_hold, or because the system evicted it due to policy (startd RANK, user prio preemption, draining).  We would like to record these reasons to the startd history, so that we can measure the reasons for the system badput.\n\n<p>We will add two new attributes to the startd history: <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BadputCausedByDraining\" title=\"Badput Caused By Draining\">BadputCausedByDraining</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BadputCausedByPreemption\" title=\"Badput Caused By Preemption\">BadputCausedByPreemption</a></span>, which will be boolean values which will be true if the job was kicked off for that reason.  Otherwise, any preempted job will be from user action.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-20 09:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=46607\">[46607]</a></span>: Revert \"Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5255\" onclick=\"get_ticket_and_populate_wrapper('5255'); return false;\" title=\"startd history should log if badput was due to policy or user\">#5255</a></span>\" - Already in 8.5.0 version history This reverts commit 968b7c0279df1d4ff588ce4779a6e543a3ed9525.  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-18 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=46605\">[46605]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5255\" onclick=\"get_ticket_and_populate_wrapper('5255'); return false;\" title=\"startd history should log if badput was due to policy or user\">#5255</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-29 15:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45899\">[45899]</a></span>: Add support to startd history to detect jobs not started <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5255\" onclick=\"get_ticket_and_populate_wrapper('5255'); return false;\" title=\"startd history should log if badput was due to policy or user\">#5255</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-23 11:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45875\">[45875]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5255\" onclick=\"get_ticket_and_populate_wrapper('5255'); return false;\" title=\"startd history should log if badput was due to policy or user\">#5255</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-10 10:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45810\">[45810]</a></span>: Add support for badput monitoring <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5255\" onclick=\"get_ticket_and_populate_wrapper('5255'); return false;\" title=\"startd history should log if badput was due to policy or user\">#5255</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Dec-20 09:36", "status": "resolved", "created": "2015-Sep-10 10:48", "fixed_version": "2015-Sep-10 10:48", "broken_version": "v080500", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": "20150912"}
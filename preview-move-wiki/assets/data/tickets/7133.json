{"id": 7133, "title": "Ticket #7133: condor_master should not abort when it is not in the DAEMON_LIST", "description": "<blockquote>\nWhen the condor_master does not find itself in the <code>DAEMON_LIST</code> it will refuse to start.  This behavior was intended once apon a time, but it makes no sense in the current universe.\n\n<p>Also, when the <code>DAEMON_LIST</code> is empty, the condor_master has ancient code to use a default daemon list of <code>MASTER STARTD SCHEDD</code>.  This may have made sense at one time, but it no longer does, and in any case, since this list does not contain <code>SHARED_PORT</code> nothing starts up correctly.  In this case, the master treats ALL known daemon core daemons as startable (via <code>condor_on</code>)\n\n</p><p>The <code>condor_master</code> will be changed so that it automatically inserts itself into the daemon list if needed, and if the list is empty, it will start only itself and <code>SHARED_PORT</code> and treat only <code>COLLECTOR NEGOTIATOR STARTD SCHEDD</code> as startable.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Jul-01 12:50:52 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good to me.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jul-08 10:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=57344\">[57344]</a></span>: doc and version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7133\" onclick=\"get_ticket_and_populate_wrapper('7133'); return false;\" title=\"condor_master should not abort when it is not in the DAEMON_LIST\">#7133</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-27 16:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=57241\">[57241]</a></span>: fix <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7133\" onclick=\"get_ticket_and_populate_wrapper('7133'); return false;\" title=\"condor_master should not abort when it is not in the DAEMON_LIST\">#7133</a></span>, condor_master should not abort when MASTER is not in the DAEMON_LIST this commit also fixes a problem with the shared port not being started when the dameon list is empty (i.e. shared port is not in the default_daemon_list) ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Jul-08 10:43", "status": "resolved", "created": "2019-Jun-27 15:43", "fixed_version": "2019-Jun-27 15:43", "broken_version": "v080800", "priority": "3", "subsystem": "DaemonMaster", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
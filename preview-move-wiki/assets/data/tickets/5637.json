{"id": 5637, "title": "Ticket #5637: WeightedJobsRunning attribute of submitter ad incorrect after restart", "description": "<blockquote>\nWhen the schedd restarts, the match_rec's are reconstructed from job ads, but they don't have the machine match ads.  The Schedd currently uses the match ads to calculate the Weighted Jobs running attribute.  But if the match ad is missing, the weight is assumed to be one.  Note that the negotiator doesn't use <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WeightedRunningJobs\" title=\"Weighted Running Jobs\">WeightedRunningJobs</a></span> from the submitter ad, it just fetches the value from the accountant.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-19 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48237\">[48237]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5637\" onclick=\"get_ticket_and_populate_wrapper('5637'); return false;\" title=\"WeightedJobsRunning attribute of submitter ad incorrect after restart\">#5637</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Apr-18 15:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48228\">[48228]</a></span>: Correctly calculate <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WeightedJobsRunning\" title=\"Weighted Jobs Running\">WeightedJobsRunning</a></span> after schedd restart <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5637\" onclick=\"get_ticket_and_populate_wrapper('5637'); return false;\" title=\"WeightedJobsRunning attribute of submitter ad incorrect after restart\">#5637</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Apr-19 11:19", "status": "resolved", "created": "2016-Apr-18 15:03", "fixed_version": "2016-Apr-18 15:03", "broken_version": "v080400", "priority": "2", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "a29913", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20160419"}
{"id": 2583, "title": "Ticket #2583: FS security fails on some linux file systems", "description": "<blockquote>\nOn some filesystems (at least btrfs, maybe others), the value of st_nlink is 1 for directories.  This causes FS security to fail.\n\n<p>Dan and I looked at this, and it's not apparent what use checking st_nlink is when you already check for a directory.\n\n</p><p>Note: in the next 6-9 months, btrfs will likely become default on F17, meaning that there will be a lot of breakage for enthusiastic users.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Nov-28 12:45:28 by zmiller:</em> <br/>\n\n<strong>REVIEWED BY zmiller</strong> Looks good, is exactly what Dan and I discussed earlier.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Nov-22 12:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c9e428631085891bcb7f4f88560b7336b8d4ae8e\">[28396]</a></span>: gittrac ticket number goes in the version history ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2583\" onclick=\"get_ticket_and_populate_wrapper('2583'); return false;\" title=\"FS security fails on some linux file systems\">#2583</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Nov-21 16:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/85ed662414a865af8ba2a9d4bc367490fc8f276f\">[28382]</a></span>: Documented fix for FS auth on btrfs. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2583\" onclick=\"get_ticket_and_populate_wrapper('2583'); return false;\" title=\"FS security fails on some linux file systems\">#2583</a></span> ===VersionHistory:Complete===  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Nov-21 16:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7a9880969238529508ab64baabd399a4390668f0\">[28381]</a></span>: Fixed FS auth when /tmp is btrfs. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2583\" onclick=\"get_ticket_and_populate_wrapper('2583'); return false;\" title=\"FS security fails on some linux file systems\">#2583</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Oct-02 17:07", "status": "resolved", "created": "2011-Oct-25 11:24", "fixed_version": "2011-Oct-25 11:24", "broken_version": "v070000", "priority": "4", "subsystem": "", "assigned_to": "zmiller", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.wisc.edu,tstclair@redhat.com, matt@cs.wisc.edu", "due_date": ""}
{"id": 4939, "title": "Ticket #4939: Streaming I/O breaks (job lease) reconnect.", "description": "<blockquote>\nThe <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StreamHandler\" title=\"Stream Handler\">StreamHandler</a></span> class calls Disconnect() in ReconnectAll(); the former closes the syscall socket... which had just finished reconnecting and prompted the call to ReconnectAll().  This would be bad enough by itself, but since the Disconnect() call is immediately followed by an attempt to use the syscall socket, the starter excepts on reconnects when streaming i/o.</blockquote>", "remarks": "<blockquote>\n<em>2015-Mar-17 14:56:54 by tannenba:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Patch looks good, other than lack of version history item... which I just added since I am a nice guy :)</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Mar-17 14:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=43611\">[43611]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4939\" onclick=\"get_ticket_and_populate_wrapper('4939'); return false;\" title=\"Streaming I/O breaks (job lease) reconnect.\">#4939</a></span>  (By Todd Tannenbaum )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Mar-16 10:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=43588\">[43588]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4939\" onclick=\"get_ticket_and_populate_wrapper('4939'); return false;\" title=\"Streaming I/O breaks (job lease) reconnect.\">#4939</a></span>) Fix streaming i/o + job reconnect bug.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Mar-17 14:57", "status": "resolved", "created": "2015-Mar-16 10:41", "fixed_version": "2015-Mar-16 10:41", "broken_version": "v080000", "priority": "4", "subsystem": "DaemonsExecNode", "assigned_to": "tannenba", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
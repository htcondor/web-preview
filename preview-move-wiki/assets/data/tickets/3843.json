{"id": 3843, "title": "Ticket #3843: DAGMan:  don't look for log file names in submit files", "description": "<blockquote>\nIf we're using a .nodes.log file I don't think we need to care at all about the log files in the node job submit files, but apparently we're still looking for them.\n\n<p>(I noticed this because a user did a condor_hold/condor_release on a really wide DAG with lots of sub-DAGs.  Recovery mode generated a ton of spurious error messages, because DAGMan was looking for the log files for DAGs that hadn't yet been submitted -- it was trying to read .condor.sub files that didn't yet exist.)</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Jan-24 16:46:35 by wenger:</em> <br/>\n\nWorking on this on the V8_0-gittrac_4171-branch -- kind of incorporated into fixing <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span>.\n\n<p></p><hr/>\n<em>2014-Jan-29 13:29:31 by wenger:</em> <br/>\n\nDAGMan now doesn't look at the submit files for Condor jobs at all if it's in workflow log mode, so this problem is mostly solved.  I think it still could possibly be a problem in non-workflow log mode, but since we hope to get rid of that mode soon I'm not going to worry about it.\n\n<p></p><hr/>\n<em>2014-Jan-29 13:30:40 by wenger:</em> <br/>\n\nNote:  this is getting reviewed along with <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span>, since the fix for this is also on the <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span> branch.\n\n<p></p><hr/>\n<em>2014-Jan-31 14:58:15 by wenger:</em> <br/>\n\nNote:  This will get fixed when the full changes of V8_0-gittrac_4171-branch are merged to the master (see <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>).\n\n<p></p><hr/>\n<em>2014-Jun-12 10:31:57 by wenger:</em> <br/>\n\nThe full set of <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span> changes are now merged (see <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>), so I'm going to resolve this.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-26 11:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40513\">[40513]</a></span>: minor 8.3.0 version history item edit <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3843\" onclick=\"get_ticket_and_populate_wrapper('3843'); return false;\" title=\"DAGMan:  don't look for log file names in submit files\">#3843</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-12 10:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40404\">[40404]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4189\" onclick=\"get_ticket_and_populate_wrapper('4189'); return false;\" title=\"Finish merging DAGMan log file improvements\">#4189</a></span>: Added version history item for this (also gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3843\" onclick=\"get_ticket_and_populate_wrapper('3843'); return false;\" title=\"DAGMan:  don't look for log file names in submit files\">#3843</a></span>)  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-29 14:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39255\">[39255]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4171\" onclick=\"get_ticket_and_populate_wrapper('4171'); return false;\" title=\"Condor_submit_dag crash on 2.2 GB DAG file\">#4171</a></span> /gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3843\" onclick=\"get_ticket_and_populate_wrapper('3843'); return false;\" title=\"DAGMan:  don't look for log file names in submit files\">#3843</a></span>: Added version history items for these bug fixes.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-24 14:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39241\">[39241]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3843\" onclick=\"get_ticket_and_populate_wrapper('3843'); return false;\" title=\"DAGMan:  don't look for log file names in submit files\">#3843</a></span>: We no longer look at HTCondor submit files if we're in default/workflow log mode; also, we no longer distinguish between using the default log for a node because we're in workflow log mode overall vs. using the default log because there's no log file specified in the submit file -- that\u00a0[...]\n (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Jun-12 10:32", "status": "resolved", "created": "2013-Aug-09 13:31", "fixed_version": "2013-Aug-09 13:31", "broken_version": "v080001", "priority": "1", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu", "due_date": ""}
{"id": 4334, "title": "Ticket #4334: Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration", "description": "<blockquote>\nI was just talking to Tom Downes of UW-M/LIGO about this.  He really wants to set DAGMAN_DEFAULT_NODE_LOG in his global configuration files, to force the DAGMan workflow logs onto a local disk instead of NFS.  But he's worried about name collisions if multiple users happen to have the same DAG file name.\n\n<p>If we could do something like this:\n\n</p><p></p><pre>  DAGMAN_DEFAULT_NODE_LOG = /localdisk/@(OWNER).@(DAG_NAME).nodes.log\n</pre>\n\n<p>it would help quite a bit...</p></blockquote>", "remarks": "<blockquote>\n<em>2014-May-08 11:30:22 by wenger:</em> <br/>\n\nMaybe also add @(NODE_NAME) (for sub-DAGs) if the other stuff isn't sufficient for LIGO.  (@(NODE_NAME) would just be blank for a top-level DAG.)\n\n<p></p><hr/>\n<em>2014-May-08 12:51:05 by wenger:</em> <br/>\n\nTom is really eager to get @(OWNER) -- maybe see if we can get this into 8.2.1?\n\n<p></p><hr/>\n<em>2014-Aug-12 14:33:47 by wenger:</em> <br/>\n\nOn the LIGO call today, Tom said that they sometimes have a use case of incorporating the same DAG file into a parent DAG multiple times as a sub-DAG.  This, I think, is what's driving the previous notes about @(NODE_NAME).\n\n<p></p><hr/>\n<em>2014-Aug-15 12:53:52 by wenger:</em> <br/>\n\nOkay, I've implemented this and added a version history entry.  But it still needs changes to the \"main\" part of the manual, and a review.\n\n<p></p><hr/>\n<em>2014-Sep-03 15:31:13 by wenger:</em> <br/>\n\nAh, nuts -- I committed this change on master -- I forgot that we have an 8.3.1 branch -- I'll have to cherry-pick it over to that...</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4539\" onclick=\"get_ticket_and_populate_wrapper('4539'); return false;\" title=\"Improve job_dagman_default_log test\">#4539</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove job_dagman_default_log test</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-03 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41090\">[41090]</a></span>: edits for documentation of <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4334\" onclick=\"get_ticket_and_populate_wrapper('4334'); return false;\" title=\"Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration\">#4334</a></span> on V8_3_1-branch  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-03 16:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41089\">[41089]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4334\" onclick=\"get_ticket_and_populate_wrapper('4334'); return false;\" title=\"Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration\">#4334</a></span> and <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4353\" onclick=\"get_ticket_and_populate_wrapper('4353'); return false;\" title=\"DAG-level disabling of node job log files\">#4353</a></span>: Added links from the version history entries to the appropriate configuration information.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-03 15:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41088\">[41088]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4334\" onclick=\"get_ticket_and_populate_wrapper('4334'); return false;\" title=\"Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration\">#4334</a></span>: Updated the DAGMAN_DEFAULT_NODE_LOG configuration information to reflect the new variables that are now available (@(OWNER) and @(NODE_NAME)).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-03 15:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41086\">[41086]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4334\" onclick=\"get_ticket_and_populate_wrapper('4334'); return false;\" title=\"Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration\">#4334</a></span>: Updated the DAGMAN_DEFAULT_NODE_LOG configuration information to reflect the new variables that are now available (@(OWNER) and @(NODE_NAME)).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Aug-15 12:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40980\">[40980]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4334\" onclick=\"get_ticket_and_populate_wrapper('4334'); return false;\" title=\"Add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration\">#4334</a></span> (add owner macro to DAGMAN_DEFAULT_NODE_LOG configuration): Implemented this and added a version history item, but the manual still needs detailed updates.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Sep-03 16:10", "status": "defer", "created": "2014-Apr-30 13:22", "fixed_version": "2014-Apr-30 13:22", "broken_version": "v080106", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu, tpdownes@gravity.phys.uwm.edu, zmiller@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
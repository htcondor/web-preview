{"id": 4073, "title": "Ticket #4073: lib_shared_port-check-ports_van test fails if re-run", "description": "<blockquote>\nlib_shared_port-check-ports_van test fails if re-run.  It writes a job log to lib_shared_port-check-ports_van.log and reads that file for state.  If the job is re-run, the previous run is seen and used, so the test things the job is already done.  The test then checks the HTCondor logs for various things which aren't there, since the job hasn't really started yet.\n\n<p>Fix: unlink the log file before submitting the job.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Nov-18 13:41:47 by adesmet:</em> <br/>\n\nFixed.\n\n<p>Internal testing only, no documentation needed.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-18 13:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7d8e9d4f670df43b84d1a44a5bd0a7ef1ecb5cb3\">[38742]</a></span>: fix lib_shared_port-check-ports_van on repeated runs <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4073\" onclick=\"get_ticket_and_populate_wrapper('4073'); return false;\" title=\"lib_shared_port-check-ports_van test fails if re-run\">#4073</a></span> We now unlink the job log file on start up, ensuring we don't see old data. Also a bit of simplification of code.  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Nov-18 13:42", "status": "resolved", "created": "2013-Nov-18 13:35", "fixed_version": "2013-Nov-18 13:35", "broken_version": "v080102", "priority": "4", "subsystem": "Tests", "assigned_to": "adesmet", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
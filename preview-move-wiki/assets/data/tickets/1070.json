{"id": 1070, "title": "Ticket #1070: Gridftp client library misuse in nordugrid_gahp", "description": "<blockquote>\nWhen we added connection reuse to the nordugrid_gahp, we introduced a misuse of of the gridftp client library. When reusing a connection, you can't copy the associated <code>globus_ftp_client_handle_t</code> from one variable to another. Although this datatype is a pointer to a <code>struct globus_i_ftp_client_handle_t</code>, the struct ends up containing the value of the <code>globus_ftp_client_handle_t</code> when initialized. I believe this is the cause of some crashes I've seen recently. Fixing the problem stops the crashing.</blockquote>", "remarks": "<blockquote>\n<em>2009-Dec-16 14:49:31 by jfrey:</em> <br/>\n\nPushed a fix to V7_4-branch for 7.4.2.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-12 13:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8cdb46808eb4e9f81e6fce4dca758d43fbe4a146\">[25283]</a></span>: Added version history entries for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1209\" onclick=\"get_ticket_and_populate_wrapper('1209'); return false;\" title=\"Grid monitor submission ignores DELEGATE_ FULL_ JOB_ GSI_ CREDENTIALS\">#1209</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1070\" onclick=\"get_ticket_and_populate_wrapper('1070'); return false;\" title=\"Gridftp client library misuse in nordugrid_gahp\">#1070</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-16 14:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f267c2e97b4be38577e648f3e0f310587796cced\">[16687]</a></span>: Fix misuse of gridftp client library datatypes. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1070\" onclick=\"get_ticket_and_populate_wrapper('1070'); return false;\" title=\"Gridftp client library misuse in nordugrid_gahp\">#1070</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2009-Dec-16 14:49", "status": "resolved", "created": "2009-Dec-16 14:48", "fixed_version": "2009-Dec-16 14:48", "broken_version": "v070302", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
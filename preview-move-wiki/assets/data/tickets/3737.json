{"id": 3737, "title": "Ticket #3737: SlotWeight attributes not fetched from collector when preemption off", "description": "<blockquote>\nWhen NEGOTIATOR_CONSIDER_PREEMPTION is false, we optimize the fetching of startd ads from the collector by only fetching a limited projection of attributes out of the whole startd ad.  This greatly increases the speed of negotiation on large pools when preemption is disabled.  However, we need to add the slotWeight attribute to the list of attributes to fetch, otherwise the negotiator incorrectly computes weighted ads.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7af0517668c251fc8962dea7342708255ed9ef07\">[36757]</a></span>: Revert \"Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SlotWeight\" title=\"Slot Weight\">SlotWeight</a></span> to projection of fetched attributes <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span>\" This reverts commit 7e922ba8eaf79e2d1808e3d5b5561e685786c796. Wrong barnch  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2bd8b84f53d03051d185fc2870ae65adda25a77a\">[36756]</a></span>: Revert \"Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span>\" This reverts commit f346bfd1d25c6487187199f827e2045428f7cce2. Accidentally pushed this to the wrong branch  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c2de0294a5ce9a877f5fefaafe211a918c51f8f8\">[36755]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 16:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4bf52848a37bf08a5a09fa8a0316f8b1dc3965a2\">[36754]</a></span>: Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SlotWeight\" title=\"Slot Weight\">SlotWeight</a></span> to projection of fetched attributes <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span> when NEGOTIATOR_CONSIDER_PREEMPTION is false  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 16:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f346bfd1d25c6487187199f827e2045428f7cce2\">[36753]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-02 15:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7e922ba8eaf79e2d1808e3d5b5561e685786c796\">[36752]</a></span>: Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SlotWeight\" title=\"Slot Weight\">SlotWeight</a></span> to projection of fetched attributes <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3737\" onclick=\"get_ticket_and_populate_wrapper('3737'); return false;\" title=\"SlotWeight attributes not fetched from collector when preemption off\">#3737</a></span> when NEGOTIATOR_CONSIDER_PREEMPTION is false  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Dec-02 10:58", "status": "resolved", "created": "2013-Jul-02 15:58", "fixed_version": "2013-Jul-02 15:58", "broken_version": "v070904", "priority": "1", "subsystem": "DaemonsCM", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "atlas", "visibility": "public", "notify": "", "due_date": "20130702"}
{"id": 3665, "title": "Ticket #3665: Port standard universe to Debian 7.", "description": "<blockquote>\nAbsinthe and despair.</blockquote>", "remarks": "<blockquote>\n<em>2013-May-29 11:43:26 by tlmiller:</em> <br/>\n\nI told LIGO I'd know how long the port would take by 2013-06-04.  Current status: the clipped port is failing a stack of tests.\n\n<p></p><hr/>\n<em>2013-May-30 14:23:19 by tlmiller:</em> <br/>\n\nAfter adjusting LD_LIBRARY_PATH and correcting some fairly bizarre build errors (libvomsapi was built but not copied to the lib directory), the clipped port is down to four failing tests.\n\n<p>(Note: I'm presently assuming that a clipped build will Just Work when built in BaTLab, and that the issues I corrected have to do with running the tests by hand; I haven't attempted to investigate the reason(s) for the failures.)\n\n</p><p></p><hr/>\n<em>2013-May-30 15:09:49 by tlmiller:</em> <br/>\n\nCorrected lib_userlog by explicitly setting LD_LIBRARY_PATH in the submit file.\n\n<p>Re-running lib_eventlog_base required removing a directory that wasn't cleaned up from the fist attempt.\n\n</p><p></p><hr/>\n<em>2013-May-31 11:09:03 by tlmiller:</em> <br/>\n\nWill not further investigate job_filexfer_md5-remote_van hanging (and failing due to a time-out): the test job's Disk requirement is never met because my VM is almost full.\n\n<p></p><hr/>\n<em>2013-May-31 11:13:08 by tlmiller:</em> <br/>\n\nFixed condor_view_classad_types by removing the (invalid) forward resolution of the VM's hostname from /etc/hosts.\n\n<p>This could also be fixed by additional cleverness in the test configuration (ALLOW_CONFIG was insufficiently broad), but since that line in /etc/hosts causes HTCondor problems anyways...\n\n</p><p></p><hr/>\n<em>2013-Jun-06 16:12:51 by tlmiller:</em> <br/>\n\nStalled until 2013-06-12, when Jaime returns, because of raging <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpenStack\" title=\"Open Stack\">OpenStack</a></span> fires.\n\n<p></p><hr/>\n<em>2013-Jun-17 15:52:14 by tlmiller:</em> <br/>\n\nCurrent status: successfully linked the standard universe and its test binaries, bullying them into actually running.\n\n<p>Run the standard universe tests.\n\n</p><p></p><hr/>\n<em>2013-Jun-26 17:25:43 by tlmiller:</em> <br/>\n\nStandard universe tests succesful; added LIGO test to Debian 7, which also passes; run ID 141879 and the associated tests should be the final acceptance test.\n\n<p><strong class=\"two\">MILESTONE</strong>\n\n</p><p>Commit code to branch from 8.0.x for review.\n\n</p><p></p><hr/>\n<em>2013-Jun-27 14:20:16 by tlmiller:</em> <br/>\n\nGregT suggested, rather than deprive you of the favorite part of your job (picking a victim), that I could just assign /you/ the code review, so that if I were wrong, it'd be easy to fix. :)\n\n<p></p><hr/>\n<em>2013-Jul-03 14:59:57 by tannenba:</em> <br/>\n\n<strong>CODE REVIEW STEP 1</strong>\n\n<p>Before I go any further on the code review, where I can see the results of the regression test suite against this branch?  Is there an NMI build ID / URL with the test results?\n\n</p><p>Another issue is was the <code>job_ligo_x86-64-chkpttst-1</code> test from the test suite pass on Debian 7?  This tests a primary LIGO application in standard universe. Looks like it has only ever run on RHEL5, but I would really want to see it green on Debian7.\n\n</p><p>Thanks\n\n</p><p></p><hr/>\n<em>2013-Jul-03 15:11:18 by tlmiller:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>&gt; Before I go any further on the code review, where I can see the results of the\n&gt; regression test suite against this branch? Is there an NMI build ID / URL with\n&gt; the test results?\n</pre></div>\n\n\n<p>Of course.  141893 is the build.  As of right now, the dashboard has it listed under personal runs; the list of test runs using that build ID can be found here:\n\n</p><p><a class=\"external\" href=\"http://submit-2.batlab.org/nmi/results/overview?usedRunID=141893\">http://submit-2.batlab.org/nmi/results/overview?usedRunID=141893</a>\n\n</p><p>although the dashboard view is handier.  For comparison, the dashboard as the \"ultra-clipped\" daily results going back to Monday afternoon.  (The consistent failure of the SSH-to-job test is a problem with the test.)\n\n</p><p></p><div class=\"verbatim\">\n<pre>&gt; Another issue is was the job_ligo_x86-64-chkpttst-1 test from the test suite\n&gt; pass on Debian 7? This tests a primary LIGO application in standard universe.\n&gt; Looks like it has only ever run on RHEL5, but I would really want to see it\n&gt; green on Debian7.\n</pre></div>\n\n\n<p>As you can see at the URL below, the LIGO test passes on Debian 7.\n\n</p><p><a class=\"external\" href=\"http://submit-2.batlab.org/nmi/results/details?runID=141910\">http://submit-2.batlab.org/nmi/results/details?runID=141910</a>\n\n</p><p></p><hr/>\n<em>2013-Jul-09 16:06:12 by tannenba:</em> <br/>\n\n<strong>CODE REVIEW</strong>\n\n<p>Looks good!  Except for missing Version History entry and updating the list of supported platforms in Chap 1 of the Manual.\n\n</p><p>Question: did you run analyze_syscalls script to figure out if any new glibc 213 specificness happened beyond what was needed for glibc 212?\n\n</p><p></p><hr/>\n<em>2013-Jul-17 11:50:57 by tlmiller:</em> <br/>\n\nKaren is adding x86-64 Debian 7 (wheezy) to the list of supported platforms.\n\n<p>syscalls review still needs to happen.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Aug-14 10:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37209\">[37209]</a></span>: debian 7.0 (wheezy) added to manual ===GT=== <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=3665\" onclick=\"get_ticket_and_populate_wrapper('3665'); return false;\" title=\"Port standard universe to Debian 7.\">#3665</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-10 10:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36844\">[36844]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=3665\" onclick=\"get_ticket_and_populate_wrapper('3665'); return false;\" title=\"Port standard universe to Debian 7.\">#3665</a></span>) Add missing glibc 2.13-38 patches.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-09 14:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36833\">[36833]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=3665\" onclick=\"get_ticket_and_populate_wrapper('3665'); return false;\" title=\"Port standard universe to Debian 7.\">#3665</a></span>) Add new port to version history. Probably need to do other things, as well.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jun-26 17:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36693\">[36693]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=3665\" onclick=\"get_ticket_and_populate_wrapper('3665'); return false;\" title=\"Port standard universe to Debian 7.\">#3665</a></span>) Debian 7 full port. No absinthe was harmed in the making of this port.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Jul-22 17:44", "status": "defer", "created": "2013-May-29 11:41", "fixed_version": "2013-May-29 11:41", "broken_version": "", "priority": "5", "subsystem": "Std", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu, Steffen.Grunewald@aei.mpg.de, anderson@ligo.caltech.edu, tlmiller@cs.wisc.edu,pcouvare@caltech.edu", "due_date": "20130628"}
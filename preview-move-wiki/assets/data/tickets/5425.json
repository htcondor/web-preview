{"id": 5425, "title": "Ticket #5425: Support multiple AZs per Launch Configuration.", "description": "<blockquote>\nWe need to support instance types which require VPC.  Since all instance types may use VPC, we may as well require one.  To force an <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=AutoScaling\" title=\"Auto Scaling\">AutoScaling</a></span> Group to launch in a VPC, we must specify subnets -- which are availability zone -specific.\n\n<p>We can require a list of subnets as a parameter.  However, we also need to be able to pass that list (and the VPC ID*) to condor_annex to pass to the template.  This should be an experts-only option in the end-user release; condor_annex should find which subnets to use by the tag placed on them by the admin or by condor_annex (or the admin template) when laying the groundwork; this will be part of splitting the template into two parts.\n\n</p><p> *: Maybe the tool could derive this from the subnet list?</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Dec-01 17:09:44 by tlmiller:</em> <br/>\n\nNote that the VPC must have public DNS names enabled; otherwise HTCondor as currently configured (2015-12-01) gets grumpy.\n\n<p></p><hr/>\n<em>2015-Dec-01 18:35:33 by tlmiller:</em> <br/>\n\nThe look-up code only looks up subnets from the specified (or discovered) VPC, so we don't need to worry about that.  If the expert user wants to specify subnets that aren't part of the VPC, we'll let them.\n\n<p>It's not presently clear how to tell from the CLI if a VPC has DNS resolution and DNS hostnames turned on.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-01 18:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/437a5961730cd948e55e6aa83611a3a18dbb7378\">[46324]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5425\" onclick=\"get_ticket_and_populate_wrapper('5425'); return false;\" title=\"Support multiple AZs per Launch Configuration.\">#5425</a></span>) Verify that the specified VPC enables DNS resolution and DNS hostnames.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-01 18:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/394ccc50dd5b7a6ea01540c7b14565506d49fb3e\">[46323]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5425\" onclick=\"get_ticket_and_populate_wrapper('5425'); return false;\" title=\"Support multiple AZs per Launch Configuration.\">#5425</a></span>) Add support for finding VPCs and subnets named 'HTCondorAnnex'.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-01 17:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d9fca9339ff59ed447dc0ac0293b63c9d509ccd5\">[46321]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5425\" onclick=\"get_ticket_and_populate_wrapper('5425'); return false;\" title=\"Support multiple AZs per Launch Configuration.\">#5425</a></span>) Add hard-coded support for VPC and multiple subnets.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "experimental", "last_change": "2015-Dec-01 18:57", "status": "resolved", "created": "2015-Dec-01 16:57", "fixed_version": "2015-Dec-01 16:57", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "tlmiller", "derived_from": "#5324", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
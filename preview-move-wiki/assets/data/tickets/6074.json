{"id": 6074, "title": "Ticket #6074: Be able to modify maxjobs for a running DAGMan", "description": "<blockquote>\nAs per today's LIGO phone conference -- this is something they're interested in.\n\n<p>Anyhow, LIGO is interested in admin users being able to do this for someone else's DAG.\n\n</p><p>(Also see <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=2616\" onclick=\"get_ticket_and_populate_wrapper('2616'); return false;\" title=\"Create a command-line tool to communicate with DAGMan\">#2616</a></span>: Create a command-line tool to communicate with DAGMan.)\n\n</p><p>Hmm -- here's an idea for a simple way to do this:  stick maxjobs into DAGMan's <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>, and have DAGMan either get notified when the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> changes or poll the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> (this could be used for other things, too -- there's a bunch of stuff we'd like to be able to change on the fly).</p></blockquote>", "remarks": "<blockquote>\n<em>2017-Jan-04 13:28:16 by wenger:</em> <br/>\n\nHmm -- we could use the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> mechanism for manually retrying nodes, also (see <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=2831\" onclick=\"get_ticket_and_populate_wrapper('2831'); return false;\" title='Be able to \"manually\" retry nodes during a DAG run'>#2831</a></span>: Be able to \"manually\" retry nodes during a DAG run) -- have an attribute like DAGManRetryNodes that's normally empty...\n\n<p></p><hr/>\n<em>2017-Jan-06 11:38:07 by wenger:</em> <br/>\n\nMaybe also have an option that says, \"re-parse the DAG file\" -- this seems to be a somewhat-common case that we currently handle with condor_hold/condor_release.\n\n<p>We could try the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> mechanism with a few parameters -- maybe maxjobs, maxidle, maxpre, maxpost, and if it works well, extend it to more things...</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2017-Jan-06 11:38", "status": "defer", "created": "2017-Jan-04 13:16", "fixed_version": "2017-Jan-04 13:16", "broken_version": "v080508", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu downes@uwm.edu anderson@ligo.caltech.edu vahi@isi.edu,pcouvare@caltech.edu", "due_date": ""}
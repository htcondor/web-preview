{"id": 43, "title": "Ticket #43: Path -vs- PATH on Windows?", "description": "<blockquote>\nSee <a class=\"external\" href=\"https://lists.cs.wisc.edu/archive/condor-users/2009-January/msg00088.shtml\">this message in condor-users</a>.</blockquote>", "remarks": "<blockquote>\n<em>2009-Jan-20 15:51:04 by tannenba:</em> <br/>\n\nIan Alderman ( <a class=\"external\" href=\"mailto:ialderman@cyclecomputing.com\">mailto:ialderman@cyclecomputing.com</a> ) conjectures on condor-users:\n\n<p>The addition of the function getWindowsEnvironmentString (in env.cpp,\ncalled from daemon_core.cpp) may have a role.  This function reorders\nthe environment variables; could reordering be sufficient to result in\nthe funky behavior?\n\n</p><p></p><hr/>\n<em>2009-Jan-22 14:21:29 by gquinn:</em> <br/>\n\nThis appears to be a bug that has always existed. It must have surfaced in 7.2.0 for some users as a result of the getWindowsEnvironmentString work I did earlier. In other words, I fixed a bug without fixing its anti-bug ;)\n\n<p>The problem is that onn Windows, environment variable names are case insensitive, but our Env object is case sensitive.\n\n</p><p>Fixing this is more subtle than it may seem, because of our ability to cross-submit. I decided to keep the hash table in the Env object case-sensitive, but on Windows we additionally maintain an STL set that ignores case. With this additional data structure, when Env::getWindowsEnvironmentString is called, we can produce an environment that:\n\n</p><p></p><ul>\n<li>is sorted, as Windows requires\n</li><li>does not contain any duplicate variable names when case is ignored\n</li></ul>\n\n<p>When multiple variable names that differ only in case exist in the Env object's hash table, the set ensures that the last one to be inserted \"wins\".</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-22 14:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3de7d34405e23e1f860c2e0f8a5c84c5682eceea\">[13551]</a></span>: Improved a comment based on some good feedback from Dan <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GitTrac\" title=\"Git Trac\">GitTrac</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=43\" onclick=\"get_ticket_and_populate_wrapper('43'); return false;\" title=\"Path -vs- PATH on Windows?\">#43</a></span>  (By Greg Quinn )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-22 13:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f2bb6ad07e2205c4ee68b110860c316b32d8f130\">[13550]</a></span>: Treat environment variable names as case-insensitive on Windows <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GitTrac\" title=\"Git Trac\">GitTrac</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=43\" onclick=\"get_ticket_and_populate_wrapper('43'); return false;\" title=\"Path -vs- PATH on Windows?\">#43</a></span>  (By Greg Quinn )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 13:39", "status": "resolved", "created": "2009-Jan-20 11:52", "fixed_version": "2009-Jan-20 11:52", "broken_version": "v070200", "priority": "2", "subsystem": "Win32", "assigned_to": "gquinn", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
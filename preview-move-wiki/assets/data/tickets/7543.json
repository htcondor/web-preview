{"id": 7543, "title": "Ticket #7543: Fix SSL link error on macOS 10.15", "description": "<blockquote>\nIn macOS 10.15, programs are no longer allowed to link against <code>/usr/lib/libcrypto.dylib</code> and <code>/usr/lib/libssl.dylib</code>. They must link against a specific version, like <code>/usr/lib/libcrypt.35.dylib</code>. We need to change our build scripts accordingly. For now, we'll link against version 35  for all versions of macOS. As a subsequent step, we should try linking against a newer version where available.\n\n<p>The linker gives the following error:\n</p><div class=\"verbatim\">\n<pre>ld: cannot link directly with dylib/framework, your binary is not an allowed client of /usr/lib/libcrypto.dylib for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:43:03 by tim:</em> <br/>\n\nBulk change of target version from v080808 to v080809 using ticket-target-mover.\n\n<p></p><hr/>\n<em>2020-Apr-27 18:11:55 by tim:</em> <br/>\n\n<strong>CODE REVIEW</strong>: Looks good\n\n<p></p><hr/>\n<em>2020-Apr-27 18:12:26 by tim:</em> <br/>\n\nInternal build process, no docs needed.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Mar-09 16:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/304b14887d5c32c3bada7c5ecea88fc4cbac3d4f\">[59108]</a></span>: Fix SSL link error on macOS 10.15. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7543\" onclick=\"get_ticket_and_populate_wrapper('7543'); return false;\" title=\"Fix SSL link error on macOS 10.15\">#7543</a></span> In macOS 10.15, you can't link against /usr/lib/libcrypto.dylib or /usr/lib/libssl.dylib. You have to link against one of the versioned libraries, like libcrypto.35.dylib.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Apr-27 18:12", "status": "resolved", "created": "2020-Mar-09 14:36", "fixed_version": "2020-Mar-09 14:36", "broken_version": "", "priority": "3", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2059, "title": "Ticket #2059: condor_q -analyze fails to handle func() && func()", "description": "<blockquote>\ncondor_q -analyze fails when given a requirements expression containing two function calls joined with &amp;&amp;.  A facetious example:\n\n<p></p><pre>    requirements = regexp(Cmd,Machine) &amp;&amp; regexp(Cmd,Machine)\n</pre>\n\n<p>This results in the following errors:\n\n</p><p></p><pre>    error: no operator/attribute found\n    error: found NULL ptr in expr\n    error: problem with ExprToProfile\n</pre>\n\n<p>The \"top portion\" of the analysis is then given, but the \"better-analyze\" portion is not, presumably because of the errors.\n\n</p><p>This problem likely originates in a much older version.  7.5.5 is just as far back as I have confirmed it.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Apr-12 20:55:57 by danb:</em> <br/>\n\nWill, if you feel up to it, I'd appreciate a review of my patch.  The analysis code is complicated to grok.  My conclusion was that function calls should be treated similarly to attribute lookups from the analysis code's point of view (i.e. don't try to break them apart further).  A second opinion would be good.\n\n<p></p><hr/>\n<em>2011-Apr-18 13:15:42 by willb:</em> <br/>\n\nDan, this looks good to me.  I wouldn't mind talking through it when you're around CS (tomorrow?  later today?), or you could just commit it.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-14 09:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21395\">[21395]</a></span>: Fixed a bad type-cast that resulted in my previous commit. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2059\" onclick=\"get_ticket_and_populate_wrapper('2059'); return false;\" title=\"condor_q -analyze fails to handle func() &amp;&amp; func()\">#2059</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-12 21:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=26003\">[26003]</a></span>: Documented fix for function calls in condor_q -analyze. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2059\" onclick=\"get_ticket_and_populate_wrapper('2059'); return false;\" title=\"condor_q -analyze fails to handle func() &amp;&amp; func()\">#2059</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-12 20:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21368\">[21368]</a></span>: Fix for classad function calls in condor_q -analyze. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2059\" onclick=\"get_ticket_and_populate_wrapper('2059'); return false;\" title=\"condor_q -analyze fails to handle func() &amp;&amp; func()\">#2059</a></span> Expressions of the form func() &amp;&amp; func() caused \"better analyze\" to fail.  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Apr-18 14:51", "status": "resolved", "created": "2011-Apr-12 14:29", "fixed_version": "2011-Apr-12 14:29", "broken_version": "v070505", "priority": "2", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "s8037", "customer_group": "cms", "visibility": "public", "notify": "dan@hep.wisc.edu,willb@redhat.com,sfiligoi@fnal.gov", "due_date": ""}
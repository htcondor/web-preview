{"id": 1801, "title": "Ticket #1801: race condition with amazon VMs that exit quickly", "description": "<blockquote>\nTony Tiradani reports that if the AMI request is sent, EC2 acts on it, starts up the AMI, but for what ever reason, the AMI immediately shuts down before Condor queries again regarding the state, Condor leaves the job in idle state forever.\n\n<p>To reproduce this problem, he suggests creating a simple AMI and in rc.local or some other startup script running \"shutdown -h now\"</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Dec-09 22:35:07 by matt:</em> <br/>\n\nThis would be new behavior for AWS. Instances that have completed (for whatever reason), remain (sometimes for up to a day?) in the instance listing.\n\n<p>It would also be new behavior for the gridmanager, which should assume complete if the instance is known to have been submitted but is not present in the instance listing.\n\n</p><p></p><hr/>\n<em>2010-Dec-10 09:59:38 by danb:</em> <br/>\n\nI asked Tony for details.  He says he observed this behavior on the Magellan cloud, which runs Eucalyptus.  So this was not observed on EC2 itself.\n<hr/>\n<em>2011-Jan-27 14:50:47 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:20:02 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2012-Oct-17 12:36", "status": "new", "created": "2010-Dec-09 16:43", "fixed_version": "2010-Dec-09 16:43", "broken_version": "v070400", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "dan@hep.wisc.edu,jfrey@cs.wisc.edu,tstclair@redhat.com", "due_date": ""}
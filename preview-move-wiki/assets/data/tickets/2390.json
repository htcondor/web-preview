{"id": 2390, "title": "Ticket #2390: Dynamically link ClassAds library", "description": "<blockquote>\nDynamically link the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> library in all builds of Condor.</blockquote>", "remarks": "<blockquote>\n<em>2011-Aug-15 15:59:21 by tstclair:</em> <br/>\n\nAs a side note, I already have the cmake mods which does *this.\n\n<p></p><hr/>\n<em>2011-Aug-16 15:36:59 by jfrey:</em> <br/>\n\nDo you plan to commit them soon? I expect I'll have to make some adjustments for the UW builds.\n\n<p></p><hr/>\n<em>2011-Aug-24 16:38:33 by jfrey:</em> <br/>\n\nOpened ticket [nmi-support #9739] to add pcre development packages to all linux machines we build Condor on.\n\n<p></p><hr/>\n<em>2011-Oct-12 11:30:47 by tstclair:</em> <br/>\n\nAwesome, nice work Jamie!</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-12 11:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0e6db9224774191fedd593c3916d6f65706069fb\">[27780]</a></span>: Document dynamic linking of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-09 16:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e372bf7aa53d10a19bead2a7903854ecd0733fde\">[27155]</a></span>: Change cream external to use system's pcre library with classads. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-01 12:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f99d307df7477acab3253f376c29ea9545a82cdc\">[27058]</a></span>: A few more changes for dynamically linking <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-30 17:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d253a91cbd1e82198710c8cf34b98347f8b68976\">[27057]</a></span>: Yet more changes for dynamically linking <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span> * Fix settings HAVE_PCRE_H and HAVE_PCRE_PCRE_H * Add $ORIGIN/../lib to externals rpath * Add &lt;stage&gt;/usr/lib to LD_LIBRARY_PATH for dpkg-shlibdeps * Blahp dynamically links <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> and pcre * Bump blahp and globus externals version due to changed\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-25 01:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c38ae0bd2fd30ba24967724f151a493568dadd5\">[26967]</a></span>: Some additional changes for dynamically linking <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span> For only, only dynamically link <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> on linux.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-24 16:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f8ec951ba52a6f11400fa3588ac06bf32217a36f\">[26963]</a></span>: Dynamically link <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2390\" onclick=\"get_ticket_and_populate_wrapper('2390'); return false;\" title=\"Dynamically link ClassAds library\">#2390</a></span> This includes the following: * New C_INCLUDE_PUBLIC and C_LIB_PUBLIC macros for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, which now live in /usr/include and /usr/lib in the native packages. * Fix dependencies for libclassad.so (libcpre and libdl were missing). * The system's libpcre is always used on\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Oct-12 11:30", "status": "resolved", "created": "2011-Aug-15 13:51", "fixed_version": "2011-Aug-15 13:51", "broken_version": "v070600", "priority": "2", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#1135", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
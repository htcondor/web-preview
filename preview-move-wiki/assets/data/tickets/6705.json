{"id": 6705, "title": "Ticket #6705: Allow vm to shutdown on graceful eviction", "description": "<blockquote>\nWhen a vm universe job faces eviction, the starter sends the vm-gahp a shutdown command and then immediately tries to kill the vm process directly. It should give the vm time to perform an orderly shutdown before resorting to drastic measures.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jul-17 14:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f54bde26c1710485842d74fe57e7656ec6bcef0\">[55181]</a></span>: Docs for vm universe graceful shutdown. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6705\" onclick=\"get_ticket_and_populate_wrapper('6705'); return false;\" title=\"Allow vm to shutdown on graceful eviction\">#6705</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-28 10:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5b06d4702393db29ec668fd84c0858141b9d1fb3\">[55116]</a></span>: Remove unused variable. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6705\" onclick=\"get_ticket_and_populate_wrapper('6705'); return false;\" title=\"Allow vm to shutdown on graceful eviction\">#6705</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-27 14:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c1a1314279275aa5e9eabc95f2f557d083755ff4\">[55113]</a></span>: Give vm time to shutdown on a graceful shutdown in the starter. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6705\" onclick=\"get_ticket_and_populate_wrapper('6705'); return false;\" title=\"Allow vm to shutdown on graceful eviction\">#6705</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-27 14:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5cca98af0b1776df3357879096ad2e98bc888d8c\">[55114]</a></span>: On a vm-gahp shutdown, don't delete working files unless requested. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6705\" onclick=\"get_ticket_and_populate_wrapper('6705'); return false;\" title=\"Allow vm to shutdown on graceful eviction\">#6705</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Jul-17 14:45", "status": "resolved", "created": "2018-Jun-27 13:30", "fixed_version": "2018-Jun-27 13:30", "broken_version": "", "priority": "3", "subsystem": "VM", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
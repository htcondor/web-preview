{"id": 2157, "title": "Ticket #2157: condor_config_val -config mixes stderr/stdout output", "description": "<blockquote>\nTypical output from condor_config_val -config:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Configuration source:\n        /var/home/condor/condor_config\nLocal configuration sources:\n        /unsup/condor/etc/condor_config.hosts\n        /unsup/condor/etc/condor_config.global\n        /unsup/condor/etc/hosts/puffin.local\n</pre></div>\n\n\n<p>The actual list of files is sent to stdout.  The headers (ex. \"Configuration source:\") go to stderr.\n\n</p><p>Problem 1: No guarantee that they'll arrive in the right order on an interactive terminal (but in practice it's fine).\n\n</p><p>Problem 2: If you route the output through less or try to capture it in another program, by default the headers disappear.\n\n</p><p>Problem 3: It's not really an \"error\" and doesn't belong in stderr.\n\n</p><p>We should make it stdout, not stderr.\n\n</p><p>The code in question is in <a class=\"file\" href=\"rlog?f=src/condor_tools/config_val.cpp\">/src/condor_tools/config_val.cpp</a> <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PrintConfigSources\" title=\"Print Config Sources\">PrintConfigSources</a></span>, line 716-729.\n\n</p><p>BUT... why is it this way?  Is someone relying on this behavior, perhaps having a script capture stdout to find a list of filenames and ignoring stderr?  This behavior dates back to pre-2007 and probably dates back to the initial work.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-12 16:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21859\">[21859]</a></span>: When calling \"condor_config_val -config\", merge stdout and stderr together. We're just dumping it for user review anyway and it's more useful in light of <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=2157\" onclick=\"get_ticket_and_populate_wrapper('2157'); return false;\" title=\"condor_config_val -config mixes stderr/stdout output\">#2157</a></span> Testing change, no version history needed. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2156\" onclick=\"get_ticket_and_populate_wrapper('2156'); return false;\" title=\"Clean up test's stderr\">#2156</a></span>  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-May-12 16:57", "status": "new", "created": "2011-May-12 16:09", "fixed_version": "2011-May-12 16:09", "broken_version": "v070600", "priority": "4", "subsystem": "Tools", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
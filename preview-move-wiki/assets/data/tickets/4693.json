{"id": 4693, "title": "Ticket #4693: Condor-C should be smarter about proxy refresh", "description": "<blockquote>\nThe gridmanager's forwarding of refreshed proxies for Condor-C jobs is not very scalable. When the local proxy is refreshed, the gridmanager immediately generates c-gahp commands to delegate the proxy to all remote jobs. There is a separate command for each remote job and no prioritization of c-gahp commands, so all of the delegations have to happen before any subsequent gahp commands can happen. In an OSG scale test of the HTCondor-CE with 10k jobs, this became a major problem. Forwarding the refreshed proxy to all 10k remote jobs took 70 minutes.\n\n<p>Here are several ways we can improve things:\n\n</p><p></p><ul>\n<li>Only forward a refreshed proxy when the previously-delegated proxy's lifetime has mostly elapsed.\n</li><li>Prioritize c-gahp commands, with proxy refresh receiving a low priority.\n</li><li>Have the schedd support a single proxy delegation for multiple jobs.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2014-Nov-03 15:41", "status": "new", "created": "2014-Nov-03 11:59", "fixed_version": "2014-Nov-03 11:59", "broken_version": "v080000", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "jfrey@cs.wisc.edu,bbockelm@cse.unl.edu,emfajard@ucsd.edu", "due_date": ""}
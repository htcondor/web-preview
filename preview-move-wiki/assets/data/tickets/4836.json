{"id": 4836, "title": "Ticket #4836: Enable python bindings in windows", "description": "<blockquote>\nPython bindings have been working for unix.  For windows it required cmake rules to generate appropriate projects and some reformat of the python bindings sources for features not available in Windows.\n\n<p>There is a new boost_python external library dependency and this feature requires python2.7 and Visual Studio 2012.\n\n</p><p>When its all done there will be python binding libraries with extension .pyd and there is a dependency on a python dll for the installer that will have to be copied to the install bin folder (separate ticket for that comming)</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Jul-09 15:50:00 by johnkn:</em> <br/>\n\nPython bindings build on Windows no longer needs python27_d.lib, but Debug builds produce bindings that don't work. retail builds (and thus batlab builds) do work.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-26 16:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45710\">[45710]</a></span>: remove manual prose about python bindings being for Linux only <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-25 14:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45669\">[45669]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5159\" onclick=\"get_ticket_and_populate_wrapper('5159'); return false;\" title=\"condor_submit should allow an empty file transfer list.\">#5159</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5210\" onclick=\"get_ticket_and_populate_wrapper('5210'); return false;\" title=\"condor_kbdd should not report transient mouse movement as 'activity'\">#5210</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5127\" onclick=\"get_ticket_and_populate_wrapper('5127'); return false;\" title=\"make condor_userprio -long output easier to process\">#5127</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5155\" onclick=\"get_ticket_and_populate_wrapper('5155'); return false;\" title=\"condor_q -better -reverse output confusing when expr uses CurrentTime\">#5155</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5132\" onclick=\"get_ticket_and_populate_wrapper('5132'); return false;\" title=\"fix problems with SLOT_TYPE_n_* params\">#5132</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5171\" onclick=\"get_ticket_and_populate_wrapper('5171'); return false;\" title=\"DetectedCpus and DetectedMemory is stuffed into ALL ads\">#5171</a></span> <span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5172\" onclick=\"get_ticket_and_populate_wrapper('5172'); return false;\" title=\"condor_q tries to parse usernames starting with digits as job ids\">#5172</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5188\" onclick=\"get_ticket_and_populate_wrapper('5188'); return false;\" title=\"$REAL() macro substitution doesn't evaluate\">#5188</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5189\" onclick=\"get_ticket_and_populate_wrapper('5189'); return false;\" title=\"$CHOICE() macro should allow empty items\">#5189</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jul-09 17:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45267\">[45267]</a></span>: implement the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ModuleLock\" title=\"Module Lock\">ModuleLock</a></span> class for python-bindings on Windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jul-09 14:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45264\">[45264]</a></span>: fixes for building python bindings on Windows <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span>. for Debug builds, we still need to python to think that it's a release build otherwise the python object structure changes and it will no longer link with python27.dll. This commit also fixes warnings about conflicting #defines between python and condor.\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jul-07 21:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45250\">[45250]</a></span>: dont use our hack-debug version of python27 for release builds on Windows. fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span> enabling python bindings on windows.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-22 12:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42314\">[42314]</a></span>: Implemented <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span> enabling pyhon bindings for Windows. VS2012 and Python 2.7 are pre-requisets. *added proper project configurations to Cmake for python_bindings. *refactored some python-bindings sources as unix specific code was used. *added a new boost static library to the boost tar ball used in externals\u00a0[...]\n (By Ivan Calderon )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-21 14:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42302\">[42302]</a></span>: Revert \"Implemented <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span> enabling pyhon bindings for Windows. VS2012 and Python 2.7 are pre-requisets.\" This reverts commit b9346c4d5e15b7266a3754ca1822a743b74a1f05. commit reverted because it made gratitous changes.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-21 11:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42296\">[42296]</a></span>: Implemented <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4836\" onclick=\"get_ticket_and_populate_wrapper('4836'); return false;\" title=\"Enable python bindings in windows\">#4836</a></span> enabling pyhon bindings for Windows. VS2012 and Python 2.7 are pre-requisets. *added proper project configurations to Cmake for python_bindings. *refactored some python-bindings sources as unix specific code was used. *added a new boost static library to the boost tar ball used in externals\u00a0[...]\n (By Ivan Calderon )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Sep-18 08:39", "status": "resolved", "created": "2015-Jan-21 11:42", "fixed_version": "2015-Jan-21 11:42", "broken_version": "v080302", "priority": "4", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "calderon", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
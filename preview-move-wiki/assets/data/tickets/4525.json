{"id": 4525, "title": "Ticket #4525: Child alive is registered without payload", "description": "<blockquote>\nI observed (thankfully infrequent) cases on a busy CMS schedd (20k shadows) where the payload for child alive takes multiple seconds to arrive.  My theory is the child got preempted after the startCommand and before the payload makes it to the TCP socket; due to the very busy state of the machine, the shadow didn't get rescheduled by the kernel.  This caused the schedd to block for a few seconds.\n\n<p>The fix is relatively simple - change the child alive handler from Register_Command to Register_CommandWithPayload.  The child alive protocol requires a payload.\n\n</p><p>Completely internal changes - no documentation needed.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Aug-08 10:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40914\">[40914]</a></span>: Register standard DC handlers as having a payload. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4525\" onclick=\"get_ticket_and_populate_wrapper('4525'); return false;\" title=\"Child alive is registered without payload\">#4525</a></span>  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Aug-08 13:09", "status": "resolved", "created": "2014-Aug-08 09:52", "fixed_version": "2014-Aug-08 09:52", "broken_version": "", "priority": "2", "subsystem": "DaemonsSubmitNode", "assigned_to": "bbockelm", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "bbockelm@cse.unl.edu", "due_date": ""}
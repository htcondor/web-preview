{"id": 991, "title": "Ticket #991: Make condor_shared_port work on windows", "description": "<blockquote>\n<span class=\"section\"><h2>Summary </h2></span>\n\n<p>This is one of the identified flightworthy development tasks for 7.5.\n\n</p><p>People assigned to work on this: Ziliang Guo (doing the work) and Dan Bradley (helping as he can).\n\n</p><p>Under unix, we have a mechanism for passing incoming connections (TCP sockets) from condor_shared_port to other daemons running on the same machine.  We need to come up with a similar mechanism that works in Windows.\n\n</p><p><span class=\"section\"></span></p><h2>Milestones </h2>\n\n<p>Dates are not yet filled in, because we need to consider the priority of this relative to other things on Z's plate.\n\n</p><p></p><ol>\n<li>See if named pipes can be used in place of the named socket we are using in unix.  Ideally, we would like it to provide the following:\n\n<p></p><ul>\n<li>Ability to transmit LPWSAPROTOCOL_INFO structure produced by WSADuplicateSocket() in condor_shared_port to target daemon.  The input to the function that does this is just a TCP socket and a string that identifies who to pass the connection to.  I am assuming that the string will be the basename of the named pipe or something like that.\n\n<p></p></li><li>ACL that limits who can create named pipes that condor_shared_port will forward to (by default this should be limited to just condor, but would be nice to be able to adjust ACL for broader access so user tools using CCB can receive connections if that is desired)\n\n<p></p></li><li>Ability to create named pipe in parent and pass it down to child.\n\n<p></p></li><li>Ability to clean up named pipe in parent in case child does not.\n\n<p></p></li><li>Ability to create 10s of thousands of named pipes so that 10s of thousands of processes can operate in shared-port mode.\n</li></ul>\n\n<p></p></li><li>Implement functions for windows that are currently only defined when HAVE_SHARED_PORT is defined.  May need to change the interfaces a bit depending on how similar the windows case is to the SCM_RIGHTS case.\n</li></ol>\n\n<p><span class=\"section\"></span></p><h2>Wisdom </h2>\n\n<p>Quite a few things were uncovered in the process of implementing shared port on Windows, some related to issues Dan found on the Unix side and some Windows specific.\n\n</p><p></p><ul>\n<li>The named pipe abstraction that Condor uses does not appear suitable for anything besides piping standard in/out/err from a process.  There appears to be some kind of problem with how the daemon connects and listens to the server side of the named pipe.  Further testing will be needed to pin this down.  At the same time, the named pipe abstraction is inappropriate for this usage case as it is part of daemonCore and the shared port implementation is also used in the CCB client, which is not a daemon.\n\n<p></p></li><li>The generic assign operation in the Sock class did not copy over the peer name from the underlying file descriptor/Berkeley socket on Unix or Windows.  This was fixed by Dan in the generic assign function used on Unix.  Fortunately everything the generic assign function did was also done by the Windows specific assign, so the Windows specific assign function now calls the generic assign after it is finished with the Windows specific operations.\n\n<p></p></li><li>Dprintfs, excepts, and asserts cannot be used in the thread that the Windows implementation of shared port spins off to listen on the named pipe.  If this is incorrect, please correct this.  However, while testing condor_q with the -debug option, the output from the dprintfs and condor_q's own output seemed to trample over one another and froze condor_q.\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Errata </h2>\n\n<p></p><ul>\n<li>The code for cleanly shutting down the named pipe listening thread needs some work.  Right now it relies on giving a separate function outside the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SharedPortEndpoint\" title=\"Shared Port Endpoint\">SharedPortEndpoint</a></span> class access to an event object to signal the destructor that the thread has properly terminated.  This is due to a class function running inside that thread and deleting the class instance before the shutdown is complete may cause problems.  Better solution is likely to make that separate function a friend of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SharedPortEndpoint\" title=\"Shared Port Endpoint\">SharedPortEndpoint</a></span>.\n\n<p></p></li><li>There are no dprintfs inside the named pipe listener thread due to dprintf and company being not thread safe.  Conditions that produced the problem:\n<ul>\n<li>dprintfs are uncommented inside SharedPortEndpoint::PipeListenerThread\n</li><li>USE_SHARED_PORT = true\n</li><li>CCB_ADDRESS = $(COLLECTOR_HOST)\n</li><li>Run condor_q -debug after the CCB address is picked up by the schedd\n</li></ul>\n\n<p></p></li><li>The named pipes have default security, meaning anything can connect to it.  ACLs have not been created to specify who can and cannot connect.  However, as only a single instance of the named pipe server endpoint is permitted with the current design, nothing should be able to masquerade as the shared port server.\n\n<p></p></li><li>The named pipe directory is hardcoded in the code due to the param table not being able to support different defaults for different platforms.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2010-May-10 16:11:20 by tannenba:</em> <br/>\n\n&gt;    +*: There are no dprintfs inside the named pipe listener thread due to dprintf and company being not thread safe.\n&gt;    +\n\n<p>Who said?  dprintf() was designed to be thread safe, and last I looked at that code it was thread safe.\n\n</p><p>Note very early on in the dprintf process, the dprintf code grabs a mutex - look for _condor_dprintf_critsec\n\n</p><p>&gt;    +*: Security has not been implemented on the named pipes themselves so in theory anything could connect.\n&gt;    +\n\n</p><p>Bummer, must be changed imho.  Was there a technical/architecture hurdle in the way?\n\n</p><p>&gt;    +*: The named pipe directory is hardcoded in the code due to the param table not being able to support different defaults for different platforms.\n&gt;\n\n</p><p>Could we do what we do everywhere else, and param() w/ a different default value?\n\n</p><p></p><hr/>\n<em>2010-May-10 16:15:14 by danb:</em> <br/>\n\nWe observed a deadlock that appeared to be caused by dprintf in the thread.  Removing calls to dprintf made the problem go away.  It was fairly repeatable.\n\n<p></p><hr/>\n<em>2010-May-10 16:32:07 by danb:</em> <br/>\n\nRegarding security.  What Z means is that no ACL has been applied to restrict who can open a named pipe in the namespace used by Condor.  This does not mean that the security policy for incoming connections to condor daemons is circumvented.  However, other processes on the machine could probably mess with the named sockets created by condor daemons or create their own named sockets and receive connections via shared port.\n\n<p>So yeah, it does seem like this should be addressed, but it's not as bad as it might have sounded.\n\n</p><p></p><hr/>\n<em>2010-May-10 18:06:48 by ziliang:</em> <br/>\n\nIncidentally, and I'll need to double check this, my intention when I call <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CreateNamedPipe\" title=\"Create Named Pipe\">CreateNamedPipe</a></span> was to allow only a single instance.  So anyone else trying to create a separate instance of that particular pipe will fail and won't be able to masquerade as the server.\n\n<p></p><hr/>\n<em>2010-May-10 18:12:08 by ziliang:</em> <br/>\n\nIncidentally, while the deadlock was highly repeatable, where condor_q ended up deadlocking changed.\n\n<p></p><hr/>\n<em>2010-Jul-28 15:30:41 by danb:</em> <br/>\n\nI am closing this ticket.  The windows shared port code has been merged in for 7.5.4.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-28 16:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=25578\">[25578]</a></span>: Updated shared_port documentation to reflect addition of Windows support. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span> Also made a few other improvements to the shared_port documentation in general.  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-27 12:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18633\">[18633]</a></span>: The windows shared_port client was using wrong default DAEMON_SOCKET_DIR. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-23 11:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18628\">[18628]</a></span>: In Windows, point LIBEXEC to BIN. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span> condor_shared_port and a few other things are located in $(LIBEXEC).  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-22 19:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18619\">[18619]</a></span>: Add shared_port to windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>. Committer: Dan Bradley  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-22 19:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=18620\">[18620]</a></span>: Fixes to windows shared port after code review. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-07 17:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17961\">[17961]</a></span>: Hardcode the pipe directory under Windows for shared port. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-07 17:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17960\">[17960]</a></span>: Add additional clean shutdown code to the shared port pipe listener thread. Fix CCB code path to work. Commented out all dprintfs in the thread as they are not threadsafe. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-06 16:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17957\">[17957]</a></span>: Initial working implementation of shared port on Windows along with some code to attempt a clean shutdown of the name pipe listening thread. CCB client still not supported. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-06 16:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17956\">[17956]</a></span>: Have the Windows assign function make use of the Unix assign function so the bookkeeping for both are the same. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-06 16:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17955\">[17955]</a></span>: Add a thread safe method for adding timers to daemons and also have daemons use TCP for sending signals if using shared port. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-19 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17884\">[17884]</a></span>: Implement socket passing using native Win32 named pipes on Windows. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-19 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17883\">[17883]</a></span>: Remove the named pipe inheritance mechanisms as they are not needed anymore for the shared port implementation. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-05 10:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17778\">[17778]</a></span>: Remove some dead code in the shared port endpoint. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By unknown )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-26 12:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17706\">[17706]</a></span>: Move writing of the PID to after the client connects. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-26 12:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17705\">[17705]</a></span>: Modify the shared port endpoint to use a separate thread to handle the named pipe. This is effectively duplicating what is done with the pipe abstraction on Windows mostly for testing, as I remain unsure whether the abstraction can be used for sending the PID as is. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-26 12:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17704\">[17704]</a></span>: Modify the name of the shared port executable. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-18 16:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17668\">[17668]</a></span>: Modify message receiving over named pipe to compensate for incomplete messages in shared port endpoint. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-18 15:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17665\">[17665]</a></span>: Place shared port define in the correct file for Windows. Correct error checking method in shared port client. Forcibly cast two unsigned values being used in a subtraction to signed values in shared port endpoint to avoid any potential nastiness when they are passed to the abs function. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.\u00a0[...]\n (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-18 14:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17663\">[17663]</a></span>: Add shared port server vcproj file to build it on Windows. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-18 13:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17662\">[17662]</a></span>: Modify the daemoncore sock adapter to typedef the right function for its function pointers, modify daemoncore to pass the right function pointer to the sock adapter. Add cloning and passing of TCP sockets to the shared port client. Clean up loose ends in shared port endpoint, mostly dealing with calls\u00a0[...]\n (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-11 16:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17442\">[17442]</a></span>: Modify shared port client to use named pipe on Windows to send the necessary information for passing pipes. Need to add error checking to all of the Win32 functions called. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-11 16:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17440\">[17440]</a></span>: Initial port of the shared port endpoint on Windows, removing several functions that were only needed on Unix and adding in named pipe handling for Windows. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-11 16:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17439\">[17439]</a></span>: Add one last function to daemon_core_sock_adapter from daemon_core, Read_Pipe. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-11 15:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17438\">[17438]</a></span>: Further modifications to daemoncore and the sockadapter to allow shared_port_endpoint to call the necessary functions to inherit named pipe handles. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Mar-10 17:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17431\">[17431]</a></span>: Add the needed functions for inheriting handles between processes to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DaemonCore\" title=\"Daemon Core\">DaemonCore</a></span> for the shared port server Windows port. Create_Pipe has been split into Create_Pipe and Create_Named_Pipe. Create_Process still needs some modification. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-02 11:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16474\">[16474]</a></span>: Modify gsoap make on Windows to generate files needed for shared_port daemon. Tickent <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=991\" onclick=\"get_ticket_and_populate_wrapper('991'); return false;\" title=\"Make condor_shared_port work on windows\">#991</a></span>.  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jul-28 15:30", "status": "resolved", "created": "2009-Nov-20 12:49", "fixed_version": "2009-Nov-20 12:49", "broken_version": "v070500", "priority": "4", "subsystem": "Daemons", "assigned_to": "ziliang", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.wisc.edu,ziliang@cs.wisc.edu,tannenba@cs.wisc.edu", "due_date": ""}
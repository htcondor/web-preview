{"id": 7792, "title": "Ticket #7792: Submit should treat nice_user as a shorthand for accounting_group", "description": "<blockquote>\nNow that Schedd no longer looks at the <code>NiceUser</code> job attribute, and mutates the <code>User</code> attribute when it is true, we need a new way to implement the <code>nice_user</code> keyword in submit.\n\n<p>We will do this by having condor_submit interpret this\n</p><div class=\"snip\">\n<pre class=\"sniplabel\">submit file fragment</pre>\n<pre class=\"snip\">nice_user = true\n</pre></div>\n\nAs equivalent to this\n<div class=\"snip\">\n<pre class=\"sniplabel\">submit file fragment</pre>\n<pre class=\"snip\">accounting_group = nice-user\nmax_job_retirement_time = 0\n</pre></div>\n\n\n<p>This will give backward-compatible behavior to the use of the <code>nice_user</code> submit command, with the exception of the fact that in earlier versions you could use <strong>condor_qedit</strong> to change the <code>NiceUser</code> job attribute, and effective turn the nice-user accounting group behavior on and off after submit time.\n\n</p><p>As a part of this work, we will also make the accounting group that the <code>nice_user</code> command sets configurable using the new config knob <code>NICE_USER_ACCOUNTING_GROUP_NAME</code></p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-05 10:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/007541494a6ddb6b37b6184b82d5db8f1868bb69\">[61427]</a></span>: document the change of nice_user to just and accounting group, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7783\" onclick=\"get_ticket_and_populate_wrapper('7783'); return false;\" title=\"remove existing nice-user mechanism because it pollutes User attribute\">#7783</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7792\" onclick=\"get_ticket_and_populate_wrapper('7792'); return false;\" title=\"Submit should treat nice_user as a shorthand for accounting_group\">#7792</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-05 10:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/57b74553cacb6cc8d2dc653d5c996be5ebf0685e\">[61422]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7783\" onclick=\"get_ticket_and_populate_wrapper('7783'); return false;\" title=\"remove existing nice-user mechanism because it pollutes User attribute\">#7783</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7792\" onclick=\"get_ticket_and_populate_wrapper('7792'); return false;\" title=\"Submit should treat nice_user as a shorthand for accounting_group\">#7792</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7874\" onclick=\"get_ticket_and_populate_wrapper('7874'); return false;\" title=\"Late materialization jobs that fail SUBMIT_REQUIREMENTS abort schedd\">#7874</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Aug-07 18:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6d0f48d24b3c07175321117fd7999c92676bc573\">[60410]</a></span>: nice_user submit keyword now means accounting_group=nice-user. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7792\" onclick=\"get_ticket_and_populate_wrapper('7792'); return false;\" title=\"Submit should treat nice_user as a shorthand for accounting_group\">#7792</a></span>  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Oct-05 10:56", "status": "resolved", "created": "2020-Aug-07 18:16", "fixed_version": "2020-Aug-07 18:16", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "#7648", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
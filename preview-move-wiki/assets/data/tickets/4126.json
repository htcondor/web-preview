{"id": 4126, "title": "Ticket #4126: queue argument to condor_submit should be expression", "description": "<blockquote>\nIt would be handy if the number of jobs to queue on the \"queue X\" line in the submit file could be an expression calculated in the context of the job's <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>.\n\n<p>With some <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> cleverness, you can have a single submit file vary options to the job.  (See <span class=\"wiki\"><a href=\"wiki?p=VaryArgumentsByProcId\" title=\"Vary Arguments By Proc Id\">VaryArgumentsByProcId</a></span>)  To take a simple example:\n\n</p><p></p><pre>  executable = myprogram.exe\n  arguments  = $$([names[ProcId])\n  +names     = {\"Alan\", \"Betty\", \"Claire\"}\n  queue 3\n</pre>\n\n<p>Ideally I'd be able to replace the last line with:\n\n</p><p></p><pre>  queue size(names)\n</pre>\n\n<p>When names is large, this would be much easier.  And if you're permuting multiple lists of different lengths, you could automatically calculate the total number of jobs with something like:\n\n</p><p></p><pre>  queue size(x)*size(y)*size(z)</pre>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Dec-17 11:17", "status": "new", "created": "2013-Dec-17 11:17", "fixed_version": "2013-Dec-17 11:17", "broken_version": "v000000", "priority": "4", "subsystem": "Tools", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "a26396", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
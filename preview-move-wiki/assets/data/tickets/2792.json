{"id": 2792, "title": "Ticket #2792: Make gram proxy refresh delay time configurable", "description": "<blockquote>\nWhen the gridmanager notices that the proxy for a gt2/gt5 job has been refreshed, it doesn't immediately forward the proxy to the gram jobmanager. It waits until the jobmanager's proxy has less than 6 hours of lifetime left. This is done to prevent excessive proxy delegations when the user updates their proxy frequently, since the gridmanager must delegate once per job.\n\n<p>This is causing problems for glideinWMS, which requires that the job's proxy have at least 12 hours of lifetime remaining when the job starts executing. If the proxy's lifetime is less than 12 hours, the job aborts at startup.\n\n</p><p>We should make the time at which the gridmanager forwards the refreshed proxy configurable.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/527/gt2792-proxy.patch\">gt2792-proxy.patch</a>\n903 bytes added by jfrey on 2012-Jan-27 20:20:40 UTC.\n<br/>\nPatch to add param GRIDMANAGER_PROXY_RENEW_MINIMUM, which adjusts when the gridmanager forwards a renewed proxy to the gram jobmanager.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jan-30 17:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=30024\">[30024]</a></span>: Add GRIDMANAGER_PROXY_REFRESH_TIME to param table. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2792\" onclick=\"get_ticket_and_populate_wrapper('2792'); return false;\" title=\"Make gram proxy refresh delay time configurable\">#2792</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jan-30 17:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=30022\">[30022]</a></span>: Make gram proxy refresh delay time configurable. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2792\" onclick=\"get_ticket_and_populate_wrapper('2792'); return false;\" title=\"Make gram proxy refresh delay time configurable\">#2792</a></span> Add config param GRIDMANAGER_PROXY_REFRESH_TIME, which controls when the gridmanager will forward a refreshed to the gram jobmanager. Before, this value was hard-coded. ===VersionHistory:Complete===  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Jan-30 17:38", "status": "resolved", "created": "2012-Jan-27 14:19", "fixed_version": "2012-Jan-27 14:19", "broken_version": "v070600", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2464, "title": "Ticket #2464: ckpt_server will overflow buffer with long CKPT_SERVER_HOSTS list", "description": "<blockquote>\nIf CKPT_SERVER_HOST or CKPT_SERVER_HOSTS is a list with 51 or more elements, the matching sinful strings for entries 51 and later will overflow the available space.\n\n<p><a class=\"file\" href=\"rlog?f=src/condor_ckpt_server/constants2.h\">/src/condor_ckpt_server/constants2.h</a> defines MAX_PEERS to be 50.\n\n</p><p><a class=\"file\" href=\"rlog?f=src/condor_ckpt_server/server2.h\">/src/condor_ckpt_server/server2.h</a> defined peer_addr_list to have MAX_PEERS elements\n\n</p><p><a class=\"file\" href=\"rlog?f=src/condor_ckpt_server/server2.cpp\">/src/condor_ckpt_server/server2.cpp</a> Server::SetUpPeers() iterates over a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StringList\" title=\"String List\">StringList</a></span> (peer_name_list) and keeps appending elements into the peer_addr_list\n\n</p><p>Fix 1: in Server::SetUpPeers() monitor num_peers.  If it grows past MAX_PEERS, EXCEPT with a warning that only MAX_PEERS entries are allowed.\n\n</p><p>Fix 2: Replace peer_addr_list with a dynamically sized list.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2011-Sep-13 15:54", "status": "new", "created": "2011-Sep-13 15:54", "fixed_version": "2011-Sep-13 15:54", "broken_version": "v070000", "priority": "4", "subsystem": "Std", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 7872, "title": "Ticket #7872: Convert bosco_findplatform to Python 3", "description": "<blockquote>\nbosco_findplatform is currently Python 2 so any EL 8 users are in for a rude surprise if they try to use Bosco. Let's get them converted to over Python 3 if we want this for 8.9-only, or Python 2/3 if we want to backport this to 8.8</blockquote>", "remarks": "<blockquote>\n<em>2020-Oct-19 10:07:16 by tim:</em> <br/>\n\nMost of the bosco work is going into 8.9.10. So, let's move this ticket there.\n\n<p></p><hr/>\n<em>2020-Oct-19 10:16:41 by blin:</em> <br/>\n\nJust to note it here so that it doesn't get lost in Slack, TimT and I discussed that at the least, <code>bosco_fiindplatform</code> still needs to fix the references to <code>urllib2</code> and <code>commands</code>\n\n<p></p><hr/>\n<em>2020-Nov-02 08:27:58 by tim:</em> <br/>\n\nIt turns out that platform.dist() was removed from Python 3.8. So, more work is needed.\n\n<p></p><hr/>\n<em>2020-Nov-11 09:50:12 by tim:</em> <br/>\n\nPerhaps use the Python distro package: <a class=\"external\" href=\"https://distro.readthedocs.io/en/latest/\">https://distro.readthedocs.io/en/latest/</a>\n\n<p></p><hr/>\n<em>2020-Nov-11 11:02:49 by matyas:</em> <br/>\n\nHow hard would it be to write one? If reading /etc/os-release is sufficient, then it wouldn't be very long and it would avoid the dependency on a PyPI module.\n\n<p></p><hr/>\n<em>2020-Nov-11 11:38:06 by tim:</em> <br/>\n\nWhy reinvent the wheel? Just require the python-distro package (or python3-distro) package? No Pypi is needed.\n\n<p></p><hr/>\n<em>2020-Nov-11 12:04:44 by matyas:</em> <br/>\n\nIf there's an OS/EPEL package, that's fine -- I just think we should avoid things that need to be pip installed.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Nov-23 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61733\">[61733]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7698\" onclick=\"get_ticket_and_populate_wrapper('7698'); return false;\" title=\"Python scripts should use Python 3\">#7698</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7844\" onclick=\"get_ticket_and_populate_wrapper('7844'); return false;\" title=\"Python 3 for everything, except credmon-oauth\">#7844</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7872\" onclick=\"get_ticket_and_populate_wrapper('7872'); return false;\" title=\"Convert bosco_findplatform to Python 3\">#7872</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Nov-10 13:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61635\">[61635]</a></span>: Fixed new python3 bugs in bosco_ssh_start (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7872\" onclick=\"get_ticket_and_populate_wrapper('7872'); return false;\" title=\"Convert bosco_findplatform to Python 3\">#7872</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Nov-02 12:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61596\">[61596]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7872\" onclick=\"get_ticket_and_populate_wrapper('7872'); return false;\" title=\"Convert bosco_findplatform to Python 3\">#7872</a></span>) Fix error in htsub  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-30 14:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61591\">[61591]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7872\" onclick=\"get_ticket_and_populate_wrapper('7872'); return false;\" title=\"Convert bosco_findplatform to Python 3\">#7872</a></span>) Convert Bosco scripts to Python 3  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-09 17:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61470\">[61470]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7872\" onclick=\"get_ticket_and_populate_wrapper('7872'); return false;\" title=\"Convert bosco_findplatform to Python 3\">#7872</a></span>) Fix syntax error in bosco_findplatform  (By Tim Theisen )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Nov-23 11:20", "status": "resolved", "created": "2020-Oct-02 10:55", "fixed_version": "2020-Oct-02 10:55", "broken_version": "v080806", "priority": "1", "subsystem": "Grid", "assigned_to": "tim", "derived_from": "", "creator": "blin", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "blin@cs.wisc.edu matyas@cs.wisc.edu bbockelman@morgridge.org", "due_date": ""}
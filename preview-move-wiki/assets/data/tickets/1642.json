{"id": 1642, "title": "Ticket #1642: starter hangs when glexec linger=true", "description": "<blockquote>\nWhen the glexec linger option is turned on, condor_starter hangs in feed_wrapper() while waiting for the pipe to the wrapper to close.  When we observed this, the wrapper was no longer running.  The user job was running, indicating that the wrapper must have successfully exec'ed the job.  But the wrapper sets the FD_CLOEXEC flag on its end of the pipe, so the job should not hold the pipe open.  So who has the pipe open?\n\n<p>My suspicion is that glexec has the pipe open.  However, attaching to glexec with gdb and closing the pipes manually did not cause the starter to get unstuck.\n\n</p><p>I don't actually know the original version in which this problem exists, so I have put 7.4.0 for now.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-22 15:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=22269\">[22269]</a></span>: Fixed problem with glexec linger=on mode. ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1642\" onclick=\"get_ticket_and_populate_wrapper('1642'); return false;\" title=\"starter hangs when glexec linger=true\">#1642</a></span> ===VersionHistory=== When glexec was configured with linger=on, the condor_starter would become unresponsive for the duration of the job. For jobs longer than NOT_RESPONDING_TIMEOUT, this caused the job to be aborted. This also prevented\u00a0[...]\n (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Jun-22 15:26", "status": "resolved", "created": "2010-Sep-03 14:23", "fixed_version": "2010-Sep-03 14:23", "broken_version": "v070400", "priority": "2", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "a20150", "customer_group": "cms", "visibility": "public", "notify": "dan@hep.wisc.edu,bbockelm@cse.unl.edu,burt@fnal.gov,dwd@fnal.gov", "due_date": ""}
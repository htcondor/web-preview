{"id": 3270, "title": "Ticket #3270: ClassAd debug() too verbose with new ClassAds", "description": "<blockquote>\nNEGOTIATOR_DEBUG = D_FULLDEBUG\n\n<p></p><div class=\"verbatim\">\n<pre>$ condor_q -l | grep ^Requirements\nRequirements = debug(( TARGET.Arch == \"X86_64\" ) &amp;&amp; ( TARGET.OpSys == \"LINUX\" ) &amp;&amp; ( TARGET.Disk &gt;= RequestDisk ) &amp;&amp; ( TARGET.Memory &gt;= RequestMemory ) &amp;&amp; ( ( TARGET.HasFileTransfer ) || ( TARGET.FileSystemDomain == MY.FileSystemDomain ) ))\n</pre></div>\n\n\n<p>And <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NegotiatorLog\" title=\"Negotiator Log\">NegotiatorLog</a></span> -\n\n</p><p></p><div class=\"verbatim\">\n<pre>2012-10-16T14:59:52-0400 Classad debug:\n    [\n        Requirements = true &amp;&amp; ( ( .LEFT.JobUniverse isnt 1 || ( ( MY.CheckpointPlatform isnt undefined ) &amp;&amp; ( ( .LEFT.LastCheckpointPlatform is MY.CheckpointPlatform ) || ( .LEFT.NumCkpts == 0 ) ) ) ) );\n        CurrentTime = time();\n        JavaMFlops = 1.118252075000000E+03;\n        TotalTimeClaimedIdle = 1045;\n        UtsnameVersion = \"#1 SMP Wed Sep 26 21:58:50 UTC 2012\";\n        MonitorSelfSecuritySessions = 9;\n        StarterAbilityList = \"HasJava,HasJICLocalStdin,HasJICLocalConfig,HasJobDeferral,HasTDP,HasMPI,HasVM,HasReconnect,HasPerFileEncryption,HasFileTransfer\";\n        HasReconnect = true;\n        AuthenticatedIdentity = \"unauthenticated@unmapped\";\n        TotalVirtualMemory = 18029676;\n        SlotType = \"Static\";\n        Activity = \"Idle\";\n        TotalDisk = 117759180;\n        HasTDP = true;\n        TotalTimeUnclaimedIdle = 14938;\n        Machine = \"127-0-0-1.NO_DNS\";\n        CpuIsBusy = false;\n        ExpectedMachineGracefulDrainingCompletion = 1350413931;\n        MaxJobRetirementTime = 0;\n        COLLECTOR_HOST_STRING = \"127.0.0.1\";\n        Disk = 29439795;\n        TotalSlots = 4;\n        SlotID = 1;\n        DedicatedScheduler = \"DedicatedScheduler@matt@127-0-0-1.NO_DNS\";\n        MonitorSelfTime = 1350413745;\n        SlotWeight = Cpus;\n        MonitorSelfImageSize = 6.269200000000000E+04;\n        MyCurrentTime = 1350413935;\n        HibernationSupportedStates = \"S3,S4\";\n        UtsnameRelease = \"3.5.4-2.fc17.x86_64\";\n        Mips = 3427;\n        IsWakeOnLanEnabled = false;\n        TotalSlotDisk = 29447953;\n        ConsoleIdle = 0;\n        TotalTimeUnclaimedBenchmarking = 20;\n        TotalSlotMemory = 1945;\n        Arch = \"X86_64\";\n        UpdateSequenceNumber = 0;\n        State = \"Unclaimed\";\n        Memory = 1945;\n        ExpectedMachineQuickDrainingBadput = 0;\n        HibernationLevel = 0;\n        CheckpointPlatform = \"LINUX X86_64 3.5.4-2.fc17.x86_64 normal N/A\";\n        HardwareAddress = \"00:00:00:00:00:00\";\n        DaemonStartTime = 1350397435;\n        UpdatesSequenced = 65;\n        RecentDaemonCoreDutyCycle = 7.416000000000000E-03;\n        LoadAvg = 0.0;\n        IsWakeAble = false;\n        UpdatesLost = 1;\n        TotalCpus = 4;\n        MonitorSelfCPUUsage = 1.792100000000000E-01;\n        JavaVersion = \"1.7.0_06-icedtea\";\n        HasIOProxy = true;\n        OpSysAndVer = \"Fedora17\";\n        UpdatesTotal = 67;\n        LastFetchWorkSpawned = 0;\n        TotalTimeClaimedBusy = 490;\n        ExpectedMachineQuickDrainingCompletion = 1350413931;\n        WakeOnLanSupportedFlags = \"NONE\";\n        NumPids = 0;\n        CpuBusyTime = 0;\n        MonitorSelfResidentSetSize = 8828;\n        MyAddress = \"&lt;127.0.0.1:60047&gt;\";\n        IsLocalStartd = false;\n        Start = true;\n        CanHibernate = true;\n        DetectedMemory = 7783;\n        HasMPI = true;\n        TimeToLive = 2147483647;\n        KeyboardIdle = 0;\n        Name = \"slot1@127-0-0-1.NO_DNS\";\n        HasFileTransfer = true;\n        Rank = 0.0;\n        HasVM = false;\n        OpSysShortName = \"Fedora\";\n        HasJava = true;\n        LastHeardFrom = 1350413935;\n        HasPerFileEncryption = true;\n        VirtualMemory = 4507419;\n        UtsnameNodename = \"eeyore.local\";\n        IsWakeOnLanSupported = false;\n        DetectedCpus = 4;\n        LastUpdate = 1350411905;\n        FileSystemDomain = \"127-0-0-1.NO_DNS\";\n        LastFetchWorkCompleted = 0;\n        OpSysVer = 1700;\n        DaemonCoreDutyCycle = 7.450000000000000E-04;\n        HasJICLocalStdin = true;\n        UpdatesHistory = \"0x40000000000000000000000000000000\";\n        SlotTypeID = 0;\n        ClockMin = 898;\n        UtsnameSysname = \"Linux\";\n        TotalLoadAvg = 4.200000000000000E-01;\n        EnteredCurrentState = 1350413718;\n        CondorLoadAvg = 0.0;\n        KFlops = 320022;\n        StartdIpAddr = \"&lt;127.0.0.1:60047&gt;\";\n        Unhibernate = MY.MachineLastMatchTime isnt undefined;\n        MachineMaxVacateTime = 600;\n        OpSysLegacy = \"LINUX\";\n        OpSys = \"LINUX\";\n        MonitorSelfAge = 16311;\n        JavaVendor = \"Oracle Corporation\";\n        CondorPlatform = \"$CondorPlatform: X86_64-Fedora_17 $\";\n        MyType = \"Machine\";\n        SubnetMask = \"255.0.0.0\";\n        MonitorSelfRegisteredSocketCount = 2;\n        ClockDay = 2;\n        TargetType = \"Job\";\n        HibernationState = \"NONE\";\n        OpSysName = \"Fedora\";\n        ExpectedMachineGracefulDrainingBadput = 0;\n        CurrentRank = 0.0;\n        WakeOnLanEnabledFlags = \"NONE\";\n        MachineResources = \"cpus memory disk swap\";\n        UnoptimizedRequirements = ( START ) &amp;&amp; ( IsValidCheckpointPlatform );\n        NextFetchWorkDelay = -1;\n        CpuBusy = ( ( LoadAvg - CondorLoadAvg ) &gt;= 5.000000000000000E-01 );\n        TotalCondorLoadAvg = 0.0;\n        UidDomain = \"127-0-0-1.NO_DNS\";\n        IsValidCheckpointPlatform = ( TARGET.JobUniverse isnt 1 || ( ( MY.CheckpointPlatform isnt undefined ) &amp;&amp; ( ( TARGET.LastCheckpointPlatform is MY.CheckpointPlatform ) || ( TARGET.NumCkpts == 0 ) ) ) );\n        TotalMemory = 7783;\n        TotalSlotCpus = 1;\n        HasJICLocalConfig = true;\n        JavaSpecificationVersion = \"1.7\";\n        Cpus = 1;\n        EnteredCurrentActivity = 1350413718;\n        UtsnameMachine = \"x86_64\";\n        HasJobDeferral = true;\n        CondorVersion = \"$CondorVersion: 7.9.2 Oct 16 2012 BuildID: RH_development PRE-RELEASE-UWCS $\";\n        OpSysLongName = \"Fedora release 17 (Beefy Miracle)\";\n        OpSysMajorVer = 17;\n        LastBenchmark = 1350411905\n    ] --&gt; CLASSAD\n2012-10-16T14:59:52-0400 Classad debug: .RIGHT --&gt; CLASSAD\n2012-10-16T14:59:52-0400 Classad debug: .RIGHT.Arch --&gt; X86_64\n...\n</pre></div>\n\n\n<p>The full ad is printed for each reference. This is too verbose, decreasing the utility of the debug() output.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-16 14:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=33680\">[33680]</a></span>: Make debug() less verbose, skip printing CLASSAD_NODE on LHS of expression, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3270\" onclick=\"get_ticket_and_populate_wrapper('3270'); return false;\" title=\"ClassAd debug() too verbose with new ClassAds\">#3270</a></span>  (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Oct-17 08:31", "status": "resolved", "created": "2012-Oct-16 14:20", "fixed_version": "2012-Oct-16 14:20", "broken_version": "v070800", "priority": "4", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
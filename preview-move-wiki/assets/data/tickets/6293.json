{"id": 6293, "title": "Ticket #6293: DAGMan \"roadmap\"", "description": "<blockquote>\nNote:  I've tried to organize the individual items within each section in a somewhat logical order; but there's not really an order between items in different sections.\n\n<p><span class=\"section\"></span></p><h2>Deal with late materialization/multi-proc nodes</h2>\n\n<p></p><ul>\n<li><span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6292\" onclick=\"get_ticket_and_populate_wrapper('6292'); return false;\" title=\"Document that DAGMan doesn't work with late materialization\">#6292</a></span>: Document that DAGMan doesn't work with late materialization\n</li><li><span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6274\" onclick=\"get_ticket_and_populate_wrapper('6274'); return false;\" title=\"DAGMan doesn't work right with late materialization\">#6274</a></span>: DAGMan doesn't work right with late materialization\n</li><li><span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=5370\" onclick=\"get_ticket_and_populate_wrapper('5370'); return false;\" title=\"Parallel jobs with retries cause DAGMan to hang\">#5370</a></span>: Parallel jobs with retries cause DAGMan to hang\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=1703\" onclick=\"get_ticket_and_populate_wrapper('1703'); return false;\" title=\"allow different semantics for multi-job clusters\">#1703</a></span>: allow different semantics for multi-job clusters/ <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=349\" onclick=\"get_ticket_and_populate_wrapper('349'); return false;\" title=\"Allow failure of some procs in multi-proc nodes\">#349</a></span>: Allow failure of some procs in multi-proc nodes\n</li><li>Specify dependencies between individual procs in two clusters (there's no ticket for this yet)\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Make splices and sub-DAGs more alike</h2>\n(<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=6263\" onclick=\"get_ticket_and_populate_wrapper('6263'); return false;\" title=\"Parent ticket: various splice improvements\">#6263</a></span>: Parent ticket: various splice improvements)\n\n<p></p><ul>\n<li><span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=3587\" onclick=\"get_ticket_and_populate_wrapper('3587'); return false;\" title='Add \"socket\" nodes for splices'>#3587</a></span>: Add \"socket\" nodes for splices\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=6288\" onclick=\"get_ticket_and_populate_wrapper('6288'); return false;\" title=\"Allow PRE/POST scripts on splices\">#6288</a></span>: Allow PRE/POST scripts on splices\n</li><li><span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=6262\" onclick=\"get_ticket_and_populate_wrapper('6262'); return false;\" title=\"Parse splices lazily\">#6262</a></span>: Parse splices lazily\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=6264\" onclick=\"get_ticket_and_populate_wrapper('6264'); return false;\" title=\"Allow retries on splices\">#6264</a></span>: Allow retries on splices\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4824\" onclick=\"get_ticket_and_populate_wrapper('4824'); return false;\" title=\"Should DIR for splices work the same as for sub-DAGs?\">#4824</a></span>: Should DIR for splices work the same as for sub-DAGs?\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5653\" onclick=\"get_ticket_and_populate_wrapper('5653'); return false;\" title=\"Add per-splice DAG throttling\">#5653</a></span>: Add per-splice DAG throttling\n</li><li>Allow final nodes within splices (no ticket for this yet)\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=2693\" onclick=\"get_ticket_and_populate_wrapper('2693'); return false;\" title=\"Include subdag external nodes in parent DAG's node status file\">#2693</a></span>: Include subdag external nodes in parent DAG's node status file\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=2980\" onclick=\"get_ticket_and_populate_wrapper('2980'); return false;\" title=\"RFC: Unify SPLICE and SUBDAG EXTERNAL in DAGman\">#2980</a></span>: RFC: Unify SPLICE and SUBDAG EXTERNAL in DAGman\n</li><li><span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=2649\" onclick=\"get_ticket_and_populate_wrapper('2649'); return false;\" title=\"Have subdag external functionality w/o an actual extra DAGMan\">#2649</a></span>: Have subdag external functionality w/o an actual extra DAGMan\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=6048\" onclick=\"get_ticket_and_populate_wrapper('6048'); return false;\" title=\"Have separate Dag objects for splices?\">#6048</a></span>: Have separate Dag objects for splices?  (Whether this makes sense depends a lot on how many of the above things we want to implement.)\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Communication with a running DAGMan</h2>\n\n<p></p><ul>\n<li><span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=2616\" onclick=\"get_ticket_and_populate_wrapper('2616'); return false;\" title=\"Create a command-line tool to communicate with DAGMan\">#2616</a></span>: Create a command-line tool to communicate with DAGMan\n</li><li><span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=6074\" onclick=\"get_ticket_and_populate_wrapper('6074'); return false;\" title=\"Be able to modify maxjobs for a running DAGMan\">#6074</a></span>: Be able to modify maxjobs for a running DAGMan\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=2831\" onclick=\"get_ticket_and_populate_wrapper('2831'); return false;\" title='Be able to \"manually\" retry nodes during a DAG run'>#2831</a></span>: Be able to \"manually\" retry nodes during a DAG run/ <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4192\" onclick=\"get_ticket_and_populate_wrapper('4192'); return false;\" title='Allow \"manual\" node retries within a DAG'>#4192</a></span>: Allow \"manual\" node retries within a DAG\n</li><li><span class=\"ticket\"><a class=\"reviewdesign\" href=\"/tickets?ticket=3389\" onclick=\"get_ticket_and_populate_wrapper('3389'); return false;\" title=\"DAGMan should honor prio changes\">#3389</a></span>: DAGMan should honor prio changes\n</li><li><span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=3756\" onclick=\"get_ticket_and_populate_wrapper('3756'); return false;\" title=\"provide command to peacefully pause a DAG\">#3756</a></span>: provide command to peacefully pause a DAG\n</li><li><span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=1756\" onclick=\"get_ticket_and_populate_wrapper('1756'); return false;\" title=\"Be able to dynamically add nodes to a running DAG\">#1756</a></span>: Be able to dynamically add nodes to a running DAG\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>\"Bagman\" </h2>\n\n<p></p><ul>\n<li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=1382\" onclick=\"get_ticket_and_populate_wrapper('1382'); return false;\" title=\"Be able to do condor_submit_dag on a set of submit files, w/o DAG file\">#1382</a></span>: Be able to do condor_submit_dag on a set of submit files, w/o DAG file\n</li></ul>\n\n<p><span class=\"section\"></span></p><h2>Scaling </h2>\n\n<p></p><ul>\n<li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5847\" onclick=\"get_ticket_and_populate_wrapper('5847'); return false;\" title=\"Have DAGMan maintain a connection to the schedd\">#5847</a></span>: Have DAGMan maintain a connection to the schedd\n</li><li><span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=4852\" onclick=\"get_ticket_and_populate_wrapper('4852'); return false;\" title=\"Have -maxcores (or maxprocs?) limit in DAGMan\">#4852</a></span>: Have -maxcores (or maxprocs?) limit in DAGMan\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5018\" onclick=\"get_ticket_and_populate_wrapper('5018'); return false;\" title=\"Have per-node-category maxidle throttle\">#5018</a></span>: Have per-node-category maxidle throttle\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=6204\" onclick=\"get_ticket_and_populate_wrapper('6204'); return false;\" title=\"DAGMan should throttle jobs in file transfer state?\">#6204</a></span>: DAGMan should throttle jobs in file transfer state?\n</li><li><span class=\"ticket\"><a class=\"defer\" href=\"/tickets?ticket=5330\" onclick=\"get_ticket_and_populate_wrapper('5330'); return false;\" title=\"Reduce memory footprint of DAGMan Job object\">#5330</a></span>: Reduce memory footprint of DAGMan Job object\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4298\" onclick=\"get_ticket_and_populate_wrapper('4298'); return false;\" title=\"Move stuff out of DAGMan Job object\">#4298</a></span>: Move stuff out of DAGMan Job object\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=439\" onclick=\"get_ticket_and_populate_wrapper('439'); return false;\" title=\"DAGMan internal data structures need improvement\">#439</a></span>: DAGMan internal data structures need improvement\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=444\" onclick=\"get_ticket_and_populate_wrapper('444'); return false;\" title=\"Increasing DAGMan throughput with condor_submit\">#444</a></span>: Increasing DAGMan throughput with condor_submit\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=927\" onclick=\"get_ticket_and_populate_wrapper('927'); return false;\" title=\"Have adaptive DAGMAN_USER_LOG_ SCAN_INTERVAL\">#927</a></span>: Have adaptive DAGMAN_USER_LOG_ SCAN_INTERVAL\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4351\" onclick=\"get_ticket_and_populate_wrapper('4351'); return false;\" title=\"Improve scalability of DAGMan workflow log\">#4351</a></span>: Improve scalability of DAGMan workflow log</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2017-May-30 13:26", "status": "new", "created": "2017-May-30 13:26", "fixed_version": "2017-May-30 13:26", "broken_version": "", "priority": "3", "subsystem": "Dag", "assigned_to": "coatsworth", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, coatsworth@cs.wisc.edu, tannenba@cs.wisc.edu, miron@cs.wisc.edu", "due_date": ""}
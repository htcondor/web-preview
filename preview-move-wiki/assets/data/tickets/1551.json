{"id": 1551, "title": "Ticket #1551: Making isos for vm universe broke on Windows.", "description": "<blockquote>\nTwo things caused problems.  The first was apparently the changes to the perl script used to run mkisofs was not modified to run the mkisofs.bat file on Windows.  It still looked for mkisofs.exe, which was deleted.  The second was that the mkisofs.bat file could not find cdmake.exe because the application was located inside the Condor install directory, which a running job may not have access to.  Both issues have been fixed and confirmed working thanks to testing by a Condor user that ran across the issue.  This also answers the question of whether we have people who actually use vm universe on Windows.</blockquote>", "remarks": "<blockquote>\n<em>2010-Aug-03 13:40:45 by jfrey:</em> <br/>\n\nWe should get rid of mkisofs.bat on Windows and have condor_vm_vmware.pl call cdmake directly.\n\n<p></p><hr/>\n<em>2010-Aug-03 13:47:00 by ziliang:</em> <br/>\n\nI originally suggested that, but I believe it was Todd who said we should try to keep the code inside the perl script as much the same as possible.  Should we go ahead and do it anyway?\n\n<p></p><hr/>\n<em>2010-Aug-03 14:30:39 by jfrey:</em> <br/>\n\nIt's only one line that's different between platforms in this case. I think that's much better than having an extra batch script. I've attached a patch with the change.\n\n<p></p><hr/>\n<em>2010-Aug-03 14:54:09 by ziliang:</em> <br/>\n\nAlright.  No objections and it all looks good.\n\n<p></p><hr/>\n<em>2010-Aug-03 16:20:23 by jfrey:</em> <br/>\n\nPushed fix to V7_4-branch for 7.4.4.\n\n<p></p><hr/>\n<em>2010-Aug-03 17:36:40 by ziliang:</em> <br/>\n\nWe also need it merged with the 7.4 branch and master.\n\n<p></p><hr/>\n<em>2010-Aug-04 15:59:13 by jfrey:</em> <br/>\n\nCherry-picked fix to V7_4_3-branch for 7.4.3.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/208/vm_cdrom.patch\">vm_cdrom.patch</a>\n1741 bytes added by jfrey on 2010-Aug-03 18:44:16 UTC.\n<br/>\nPatch that removes mkisofs.bat on Windows.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Aug-04 17:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/74a7ec1cc20f382a350ff40e0bc92e60c519e1bc\">[25628]</a></span>: Add version history entry for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1551\" onclick=\"get_ticket_and_populate_wrapper('1551'); return false;\" title=\"Making isos for vm universe broke on Windows.\">#1551</a></span>.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Aug-04 13:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3c495e0a8645edc0f1c9f5a4582f32645a0d3988\">[18722]</a></span>: Fix ISO creation for VMs on Windows <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1551\" onclick=\"get_ticket_and_populate_wrapper('1551'); return false;\" title=\"Making isos for vm universe broke on Windows.\">#1551</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Aug-03 16:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6482ac40619f80a5c86056f85ee706f0a41a8b82\">[18719]</a></span>: Fix ISO creation for VMs on Windows <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1551\" onclick=\"get_ticket_and_populate_wrapper('1551'); return false;\" title=\"Making isos for vm universe broke on Windows.\">#1551</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Aug-03 11:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a9b2855c26849f745c286ded9baa78fbea7337be\">[18707]</a></span>: Reverting until the release wrangler can clear this and the patch can be reviewed. Revert \"Fix creation of ISO files on Windows for vm universe. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1551\" onclick=\"get_ticket_and_populate_wrapper('1551'); return false;\" title=\"Making isos for vm universe broke on Windows.\">#1551</a></span>\" This reverts commit e46843fe622c7f1c2ba19cf3c8336b97b01a04d4.  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Aug-03 11:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e46843fe622c7f1c2ba19cf3c8336b97b01a04d4\">[18706]</a></span>: Fix creation of ISO files on Windows for vm universe. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1551\" onclick=\"get_ticket_and_populate_wrapper('1551'); return false;\" title=\"Making isos for vm universe broke on Windows.\">#1551</a></span>  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Aug-04 15:59", "status": "resolved", "created": "2010-Aug-03 10:47", "fixed_version": "2010-Aug-03 10:47", "broken_version": "v070400", "priority": "2", "subsystem": "Win32", "assigned_to": "ziliang", "derived_from": "#503", "creator": "ziliang", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": "20100803"}
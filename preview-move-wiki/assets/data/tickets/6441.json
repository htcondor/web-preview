{"id": 6441, "title": "Ticket #6441: Extend transfer_history logging to regular CEDAR transfers", "description": "<blockquote>\nWe previously added statistics to curl_plugin transfers in <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6229\" onclick=\"get_ticket_and_populate_wrapper('6229'); return false;\" title=\"Gather statistics from the http file transfer plugin\">#6229</a></span>. This dumps the stats to a transfer_history file in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> format. Now we want to extend this logging to cover regular CEDAR file transfers. Extend the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> object to dump transfer statistics into the same file, using the same attribute names and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> format.</blockquote>", "remarks": "<blockquote>\n<em>2017-Dec-19 11:15:04 by tim:</em> <br/>\n\nStill internal use. No docs.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Nov-27 16:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52865\">[52865]</a></span>: Updated file transfer log output to use non-buffered write() call (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Nov-27 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52864\">[52864]</a></span>: File transfer log rotation now uses rotate_file() and safe_fopen (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-25 14:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52654\">[52654]</a></span>: Improved error messaging on file transfer failures (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-25 13:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52652\">[52652]</a></span>: Completed cedar stats for downloads (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Oct-12 13:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52561\">[52561]</a></span>: Implemented transfer_history statistics for cedar downloads (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6441\" onclick=\"get_ticket_and_populate_wrapper('6441'); return false;\" title=\"Extend transfer_history logging to regular CEDAR transfers\">#6441</a></span>)  (By Mark Coatsworth )</td></tr>\n</tbody></table>", "type": "todo", "last_change": "2017-Dec-19 11:15", "status": "resolved", "created": "2017-Oct-11 10:23", "fixed_version": "2017-Oct-11 10:23", "broken_version": "", "priority": "3", "subsystem": "FileTransfer", "assigned_to": "coatsworth", "derived_from": "#6229", "creator": "coatsworth", "rust": "", "customer_group": "other", "visibility": "public", "notify": "coatsworth@cs.wisc.edu, zmiller@cs.wisc.edu, jpatton@cs.wisc.edu", "due_date": ""}
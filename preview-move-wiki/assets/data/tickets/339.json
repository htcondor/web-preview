{"id": 339, "title": "Ticket #339: GCB: Don't pass useless gcb-inherit file to child process.", "description": "<blockquote>\nGCB always hands a gcb-inherit file to the next process whenever an exec() occurs.  This is pointless and a bit wasteful if GCB isn't currently tracking any open sockets.  In the case of the condor_starter starting a job, every single socket should be closed before calling exec().  As such, the gcb-inherit file is logically empty (although it probably contains some overhead).  This wastes an FD and a few kiB on disk.  (In addition, the unexpectedly open FD can confuse executables which grovel around in stuff they shouldn't.  This happens to bork DMTCP, which may officially supported under Condor in the future.)\n\n<p>Fix:\n\n</p><p>If GCB is managing no sockets, it should not try to pass socket information to the exec()ed process. It should not set CB_INHERIT$PID, it should not write to /tmp/gcb-inherit-XXXXXX.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Nov-09 16:48:52 by adesmet:</em> <br/>\n\nGCB is dead.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Nov-21 15:58", "status": "abandoned", "created": "2009-Mar-20 17:14", "fixed_version": "2009-Mar-20 17:14", "broken_version": "", "priority": "4", "subsystem": "GCB", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
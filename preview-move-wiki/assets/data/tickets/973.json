{"id": 973, "title": "Ticket #973: Private network address and name not in contact string", "description": "<blockquote>\nBecause <code>DaemonCore::privateNetworkName()</code> has not been initialized when <code>InfoCommandSinfulStringMyself()</code> is first called, the private network information was not being inserted into the contact string.  When using CCB, this was not usually a problem, because the address would change and be recomputed later on, but without CCB, the address never changed, so the private information remained absent.\n\n<p>In many cases, this didn't actually cause any problem, because the private address was also stored in <code>PrivateNetworkIpAddr</code> and <code>PrivateNetworkName</code>.  However, these attributes are not propagated reliably, which is why we started packing all of the information into the \"public\" contact string in the first place.  7.5.0 no longer pays attention to <code>PrivateNetworkIpAddr</code> so resolving this problem will also help forward compatibility.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Nov-17 15:02:58 by danb:</em> <br/>\n\nThis is fixed for 7.4.1.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-18 08:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16371\">[16371]</a></span>: Fixed accident in previous checkin. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=973\" onclick=\"get_ticket_and_populate_wrapper('973'); return false;\" title=\"Private network address and name not in contact string\">#973</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 22:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16368\">[16368]</a></span>: The extraction of private net info was not always happening. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=973\" onclick=\"get_ticket_and_populate_wrapper('973'); return false;\" title=\"Private network address and name not in contact string\">#973</a></span> When the contact string was read from a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>, private net info was extracted from the sinful string, but when read from an address file, it was not.  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 16:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=25135\">[25135]</a></span>: Documented fix for PRIVATE_NETWORK_NAME. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=973\" onclick=\"get_ticket_and_populate_wrapper('973'); return false;\" title=\"Private network address and name not in contact string\">#973</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 14:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16362\">[16362]</a></span>: Fixed missing private network info in daemon contact string. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=973\" onclick=\"get_ticket_and_populate_wrapper('973'); return false;\" title=\"Private network address and name not in contact string\">#973</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 13:41", "status": "resolved", "created": "2009-Nov-17 14:57", "fixed_version": "2009-Nov-17 14:57", "broken_version": "v070401", "priority": "4", "subsystem": "Daemons", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
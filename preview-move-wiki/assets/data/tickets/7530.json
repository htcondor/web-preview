{"id": 7530, "title": "Ticket #7530: Fix negotiator diagnostic in \"condor_q -analyze\"", "description": "<blockquote>\nStarting in <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3585\" onclick=\"get_ticket_and_populate_wrapper('3585'); return false;\" title=\"Negotiation protocol slow over high latency links\">#3585</a></span>, schedds provide resource request lists (RRL) to the negotiator -- not jobs.\n\n<p>When a job associated with an RRL is rejected by the negotiator, the schedd makes a note of this in the job's <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>.  <code>condor_q -better-analyze</code> understands this attribute and will inform the user whether or not the job has been considered by the negotiator.\n\n</p><p>Unfortunately, only the first job in the RRL gets the attribute update, meaning that all other jobs in the RRL get a user-unfriendly \"this job has not been considered by the matchmaker\" message - even though it's not true!</p></blockquote>", "remarks": "<blockquote>\n<em>2020-Mar-10 10:32:51 by pfc:</em> <br/>\n\n#usability\n\n<p></p><hr/>\n<em>2020-May-12 10:56:16 by tlmiller:</em> <br/>\n\nHaving the client figure out if we're in this case may be the least-awful way to do it.  Another option is to just jettison this part of the diagnostic anyway -- it only helps if you're actually expecting your job to be scheduled during the first negotiator cycle anyway.\n\n<p></p><hr/>\n<em>2020-Jun-02 09:41:55 by gthain:</em> <br/>\n\nAfter a long discussion, consensus was that users frequently don't care about condor_q -analyze &lt;some random job in a big set&gt;, they really want to easily analyze a set of jobs, and know how many are running, how many aren't, and why they aren't running.  The UX today forces the person who runs condor_q to pick one job, but that's just our convenience speaking.\n\n<p></p><hr/>\n<em>2020-Jul-21 10:19:04 by pfc:</em> <br/>\n\nTwo action items:\n\n<p>1) Todd M. will implement the removal of the 1 line we all agree is unhelpful.\n\n</p><p>2) Christina will make a specific proposal for initial changes to the rest of the output based on her conversations with James et al, and LIGO will provide feedback. <span class=\"ticket\"><a class=\"abandoned\" href=\"/tickets?ticket=7234\" onclick=\"get_ticket_and_populate_wrapper('7234'); return false;\" title=\"Better support for flocked environments for condor_status and condor_q\">#7234</a></span>\n\n</p><p></p><hr/>\n<em>2020-Aug-18 11:46:47 by tim:</em> <br/>\n\nI think that we don't need a version history for this minor change.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=7675\" onclick=\"get_ticket_and_populate_wrapper('7675'); return false;\" title=\"condor_q -analyze should summarize sets\">#7675</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -analyze should summarize sets</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-21 11:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60171\">[60171]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5834\" onclick=\"get_ticket_and_populate_wrapper('5834'); return false;\" title='fix misleading message \"Request has not yet been considered by the ma\"'>#5834</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7530\" onclick=\"get_ticket_and_populate_wrapper('7530'); return false;\" title='Fix negotiator diagnostic in \"condor_q -analyze\"'>#7530</a></span>) Remove 'Job has not yet been considered by the matchmaker.' as almost always wrong and almost never useful.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Aug-18 11:46", "status": "resolved", "created": "2020-Mar-01 15:18", "fixed_version": "2020-Mar-01 15:18", "broken_version": "v080101", "priority": "2", "subsystem": "Tools", "assigned_to": "gthain", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "bbockelman@morgridge.org", "due_date": ""}
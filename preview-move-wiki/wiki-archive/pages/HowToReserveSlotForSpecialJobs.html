<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How To Reserve Slot For Special Jobs</title>

    <script src="/web-preview/preview-move-wiki/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-move-wiki/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-move-wiki/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-move-wiki/index.html"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-move-wiki/assets/images/CondorTitle.png" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>How To Reserve Slot For Special Jobs</h1>
<div id="content">
 <span class="section">
  <h2>
   How to reserve a slot or machine for special jobs
  </h2>
 </span>
 <p>
  Suppose you have a type of job known as a "Pickle" job and you want to dedicate a specific slot or machine to running this type of job.  The following example is one way to achieve this.  Since this example adds to the existing START expression, be sure to insert it after START is first defined or merge the two definitions together.  Place the following in the configuration file of the special machine:
 </p>
 <p>
 </p>
 <div class="code">
  <pre class="code">#Advertise that this machine is for "Pickle" jobs
IsPickleSlot = True
STARTD_ATTRS = $(STARTD_ATTRS) IsPickleSlot

# this machine only runs "Pickle" jobs
START = ($(START)) &amp;&amp; (MY.IsPickleSlot =!= True || TARGET.IsPickleJob =?= True)
</pre>
 </div>
 <p>
  In the job submit file:
 </p>
 <p>
 </p>
 <div class="code">
  <pre class="code">+IsPickleJob = true
requirements = TARGET.IsPickleSlot
</pre>
 </div>
 <p>
  If you only want specific slots on the machine to be for Pickle jobs, you can adjust the setting of
  <code>
   IsPickleSlot
  </code>
  on a per-slot basis.  Example:
 </p>
 <p>
 </p>
 <div class="code">
  <pre class="code">SLOT1_IsPickleSlot = True
SLOT2_IsPickleSlot = False
</pre>
 </div>
 <p>
  <strong>
   Alternate STARTD configuration for HTCondor 8.2 or later
  </strong>
 </p>
 <p>
  In HTCondor 8.2 or later, a different START expression can be set for each slot type. Use the same submit file statements as the above, but change the STARTD condifig to this:
 </p>
 <p>
 </p>
 <div class="code">
  <pre class="code"># create two types of slots, normal and pickle
NUM_SLOTS_TYPE_2 = 2
NUM_SLOTS_TYPE_1 = $(NUM_CPUS) - $(NUM_SLOTS_TYPE_2)

# type 2 slots only run pickle jobs.
SLOT_TYPE_2_START = $(START:True) &amp;&amp; (TARGET.IsPickleJob =?= True)

#Advertise type 2 slots for "Pickle" jobs
STARTD_ATTRS = $(STARTD_ATTRS) IsPickleSlot
IsPickleSlot = SlotTypeId==2
</pre>
 </div>
 <p>
  Starting with HTCondor 8.3.8, attributes can also be advertised per-slot type, so this example could be simplified even further on 8.3.8 by replacing the last 3 statements in the above config block to this:
 </p>
 <p>
 </p>
 <div class="code">
  <pre class="code">#Advertise type 2 slots for "Pickle" jobs using 8.3.8 features
STARTD_ATTRS = $(STARTD_ATTRS) IsPickleSlot
SLOT_TYPE_2_IsPickleSlot = true
</pre>
 </div>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Negotiator Assert Workaround</title>

    <script src="/web-preview/preview-move-wiki/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-move-wiki/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-move-wiki/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-move-wiki/index.html"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-move-wiki/assets/images/CondorTitle.png" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>Negotiator Assert Workaround</h1>
<div id="content">
 <strong>
  Do not upgrade from HTCondor 7.8.4 to 7.9 or 7.10.
 </strong>
 <p>
  HTCondor 7.8.4 contains a bug that causes the negotiator daemon to write malformed entries in its
  <code>
   Accountantnew.log
  </code>
  . When a 7.8 negotiator reads the
  <code>
   Accountantnew.log
  </code>
  on startup, it ignores these entries. If any jobs complete while the negotiator wasn't running, their accumulated runtime won't be charged to their owner when calculating user priorities.
 </p>
 <p>
  But in HTCondor 7.9.0 and beyond, the negotiator is less tolerant of malformed entries in the
  <code>
   Accountantnew.log
  </code>
  . It will abort upon seeing one. The master will periodically attempt to restart the negotiator, and each time, the negotiator will abort and exit. As a result, no jobs will run in the local pool, as no matches will be made.
 </p>
 <p>
  HTCondor version 7.8.5 (and future 7.8 releases) will not produce these malformed entries and will remove them from the
  <code>
   Accountantnew.log
  </code>
  . If you're running HTCondor 7.8.4 and wish to upgrade your central manager 7.9 or beyond, first upgrade to the latest version of 7.8 and start up HTCondor for several minutes. Then, you can shut down HTCondor and upgrade to the desired version.
 </p>
 <p>
  If you do upgrade directly from HTCondor 7.8.4 to HTCondor 7.9 or later and find yourself affected by this bug, there is another solution.
HTCondor 7.9.1 includes
  <code>
   accountant_log_fixer
  </code>
  in the libexec directory. This tool can correct the malformed entries. It should be run with a single command line argument: the path to your
  <code>
   Accountantnew.log
  </code>
  .  For example "
  <code>
   accountant_log_fixer Accountantnew.log
  </code>
  ", assuming your
  <code>
   Accountantnew.log
  </code>
  is in the current working directory, and the
  <code>
   accountant_log_fixer
  </code>
  is in your path.
 </p>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

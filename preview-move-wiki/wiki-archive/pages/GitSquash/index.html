<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Git Squash</title>

    <script src="/web-preview/preview-move-wiki/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-move-wiki/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-move-wiki/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-move-wiki/index.html"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-move-wiki/assets/images/CondorTitle.png" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>Git Squash</h1>
<div id="content">
 <span class="section">
  <h2>
   Squashing Git Commits
  </h2>
 </span>
 <p>
  To combine several sequential commits in git to a single commit, use
  <code>
   git rebase -i
  </code>
  to
  <em>
   squash
  </em>
  the commits.
 </p>
 <p>
  <strong>
   Note
  </strong>
  : You can't do this after you've pushed any of the commits.
 </p>
 <p>
 </p>
 <ol>
  <li>
   Run:
   <code>
    git rebase -i origin/&lt;branch&gt;
   </code>
   <ul>
    <li>
     Git will bring up your commits in your selected editor.  You'll start with something like this:
     <div class="verbatim">
      <pre>pick bccd911 Checkpoint: blah blah
pick 6d4e448 Added SomeStupidFunction() which does nothing interesting
pick 690109e Ooops: Added return value to SomeStupidFunction

# Rebase 33612d0..690109e onto 33612d0
#
# Commands:
#  p, pick = use commit
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#
# If you remove a line here THAT COMMIT WILL BE LOST.
# However, if you remove everything, the rebase will be aborted.
#
</pre>
     </div>
    </li>
    <li>
     In this case, I want to combine "squash" all of the above into a single commit, so I edit it to be something like this (just the non-comment lines):
     <div class="verbatim">
      <pre>pick bccd911 Checkpoint: blah blah
s 6d4e448 Added SomeStupidFunction() which does nothing interesting
s 690109e Ooops: Added return value to SomeStupidFunction
</pre>
     </div>
    </li>
    <li>
     Save your edits and exit the editor
     <ul>
      <li>
       <strong>
        Note
       </strong>
       : Edits to the commit messages here will have no affect.
      </li>
      <li>
       <strong>
        Note
       </strong>
       : If you delete a commit line, it'll literally be deleted from git -- you most likely don't want to do this!
      </li>
     </ul>
    </li>
    <li>
     This will tell git to "squash" the second and third commits into the first.  Git will then bring up your editor again to allow you to write up the new combined commit message.  In my case, I edited it to this:
     <div class="verbatim">
      <pre>Implemented SomeStupidFunction() which does nothing interesting.
</pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   Re-run the above git log to verify that you have what you expected:
   <ul>
    <li>
     <code>
      git log origin/&lt;branch&gt;..&lt;branch&gt;
     </code>
    </li>
   </ul>
  </li>
 </ol>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

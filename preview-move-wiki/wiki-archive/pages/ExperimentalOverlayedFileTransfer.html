<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Experimental Overlayed File Transfer</title>

    <script src="/web-preview/preview-move-wiki/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-move-wiki/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-move-wiki/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-move-wiki/index.html"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-move-wiki/assets/images/CondorTitle.png" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-move-wiki/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>Experimental Overlayed File Transfer</h1>
<div id="content">
 <em>
  This is documentation for an EXPERIMENTAL feature, and the feature is subject to change without notice!
 </em>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Experimental Overlapped File Transfer
 </h2>
 <p>
  This experimental feature introduced in HTCondor version 8.1.6 allows a pipelined use of an execute slot by overlapping the execution of one job with the transferring of output from the previous job.  This work is detailed in
  <span class="ticket">
   <a class="resolved" href="../../tickets/?ticket=4291" title="Overlayed I/O with dedicated transfer slots">
    #4291
   </a>
  </span>
  .  The motivation behind this feature is that the amount of time used for transferring output files back to the submit host can be significant, while the CPU usage during the transfer is minimal.  The goal is a more productive use of the CPU during this transfer time, by allowing it to start on a new job.
 </p>
 <p>
  In implementation, an execute slot is paired with minimal-resource slot by configuration, and both slots are claimed together. These minimal-resource slots are called
  <em>
   transfer slots
  </em>
  or
  <em>
   buddy slots
  </em>
  . A job begins its execution on the execute slot. When the job is done with its CPU-intensive phase, it invokes a condor_chirp command.  HTCondor then moves the job from the execute slot to its paired transfer slot, provided that transfer slot is not being used by a prior job for that prior job's output transfer.  And, the execute slot can then be matched with a new job.
 </p>
 <p>
  It is assumed that the job is doing its own output transfer.
 </p>
 <p>
  This implementation is only for static slots.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Configuration to Enable the Overlapped File Transfer
 </h3>
 <p>
  A single metaknob configures all static slots on a machine to use this experimental feature:
 </p>
 <p>
 </p>
 <pre>  USE EXPERIMENTAL : Async_Stageout
</pre>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  What the Job Needs to Do
 </h3>
 <p>
  The job needs to identify
when it is done with its execute phase and is about to enter its output transfer phase.
To do so, the job invokes the the undocumented condor_chirp command:
 </p>
 <p>
 </p>
 <pre>  condor_chirp phase output
</pre>
 <p>
  In order to use chirp commands, the job's submit description file must contain
 </p>
 <p>
 </p>
 <pre>  +WantIOProxy = true</pre>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

{"id": 7439, "title": "Ticket #7439: Remote query to a schedd with a localname reads wrong history file", "description": "<blockquote>\nIf a secondary schedd is given a localname, and then that localname is used to configure a different history file\n\n<p></p><div class=\"snip\">\n<pre class=\"sniplabel\">config fragment</pre>\n<pre class=\"snip\">SCHEDD_TWO = $(SCHEDD)\nDAEMON_LIST = $(DAEMON_LIST) SCHEDD_TWO\n\nHISTORY = /opt/condor/history/history\nSCHEDD_TWO.HISTORY = /opt/condor/history/two.history\n</pre></div>\n\n\n<p>When a remote history query is sent to schedd two, it will start a local instance of <code>condor_history</code>, passing on the query socket and query args, but NOT passing on the localname, so the local <code>condor_history</code> will use the <code>HISTORY</code> knob and read from the wrong history file.\n\n</p><p>We should fix this by adding a <code>-localname</code> argument to <code>condor_history</code> and having the schedd pass it's localname argument down to it.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:51:12 by tim:</em> <br/>\n\nBulk change of target version from v080808 to v080809 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2020-Oct-12 10:04", "status": "new", "created": "2019-Dec-18 17:25", "fixed_version": "2019-Dec-18 17:25", "broken_version": "v080000", "priority": "3", "subsystem": "", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
{"id": 3509, "title": "Ticket #3509: Missing proxy can cause file transfer to fail over and over", "description": "<blockquote>\nWhen DELEGATE_JOB_GSI_CREDENTIALS is true (the default as of 6.7.19), and the proxy file has been deleted, file transfer fails but does not put the job on hold or log an informative message in the user log.  The failure then repeats over and over.\n\n<p>The message in the shadow log looks like this:\n\n</p><p></p><pre>    ReliSock::put_x509_delegation(): delegation failed: x509_send_delegation failed at line 1128\n    DoUpload: SHADOW at xxx.xxx.xxx.xxx failed to send file(s) to &lt;xxx.xxx.xxx.xxx:51042&gt;: error sending /.../x509up_uxxxx\n    ERROR \"Error from glidein_8766@wn99.cism.ucl.ac.be: Failed to transfer files\" at line 726 in file /.../src/condor_shadow.V6.1/pseudo_ops.cpp\n</pre>\n\n<p>The message in the user log looks like this:\n\n</p><p></p><pre>    007 (23128.000.000) 02/22 10:07:54 Shadow exception!\n       Error from glidein_12631@wn75.cism.ucl.ac.be: Failed to transfer files\n       0  -  Run Bytes Sent By Job\n       0  -  Run Bytes Received By Job</pre>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2014-Aug-05 10:16", "status": "new", "created": "2013-Feb-22 13:26", "fixed_version": "2013-Feb-22 13:26", "broken_version": "v070800", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "isfiligoi@ucsd.edu,dan@hep.wisc.edu", "due_date": ""}
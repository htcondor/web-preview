{"id": 7495, "title": "Ticket #7495: Python bindings broken on Debian/Ubuntu", "description": "<blockquote>\nShawn Kwang reports that the Python bindings are broken in v8.9.5\n\n<p>I recently upgraded the Debian-package for htcondor to v8.9.5.\nWhen I tried to interactively load the htcondor python module, and use\nCollector(), I get an error, example:\n\n</p><p></p><div class=\"verbatim\">\n<pre>$ python3\nPython 3.5.3 (default, Sep 27 2018, 17:25:39)\n[GCC 6.3.0 20170516] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import htcondor\n&gt;&gt;&gt; htcondor.Collector()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: module 'htcondor' has no attribute 'Collector'\n</pre></div>\n\n\n<p>When I run the same commands on a Centos 7 system, also v8.9.5, the\nhtcondor.Collector() call returns a python object as expected.\n\n</p><p>My question: What is the cause of this problem in htcondor v8.9.5 on\nDebian? The above behavior does not occur in htcondor v8.9.4 (also Debian).\n\n</p><p>When I inspect the files inside the htcondor .deb file, I see that paths\napt installs the python htcondor bindings/class into (this is for python3)\n\n</p><p><code>/usr/lib/python3/dist-packages/usr/bin/htcondor/</code>\n\n</p><p>I compared the Debian htcondor package between v8.9.4 and v8.9.5. In\nv8.9.4 the files are installed in <code>/usr/lib/python3/dist-packages/htcondor/</code>.\n\n</p><p>While in v8.9.5, there is some content in\n<code>/usr/lib/python3/dist-packages/htcondor/</code>, there is additional files\ninstalled in <code>/usr/lib/python3/dist-packages/usr/bin/htcondor/</code>.\n\n</p><p>Please see the attached text file for a more detail file list from the\ntwo <code>.deb</code> packages. Is the above path difference a clue (or a red-herring)?</p></blockquote>", "remarks": "<blockquote>\n<em>2020-Feb-22 12:33:56 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good.  The code should have been removed in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f5293153e3cd04e8042307289947ab63799dbfde\">[58716]</a></span>, along with the reversions to <code>setup.&amp;#8203;py.&amp;#8203;cmake_template</code>; my mistake.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Feb-19 19:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0a122f4f0299c039104a1d512247e4763f787691\">[58982]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7495\" onclick=\"get_ticket_and_populate_wrapper('7495'); return false;\" title=\"Python bindings broken on Debian/Ubuntu\">#7495</a></span>) Update Debian/Ubuntu changelog  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Feb-19 19:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/89a5e5ea6c0c96cbde12b191f6cbea346a3e2ca4\">[58981]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7495\" onclick=\"get_ticket_and_populate_wrapper('7495'); return false;\" title=\"Python bindings broken on Debian/Ubuntu\">#7495</a></span>) Revert portion of commits for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7339\" onclick=\"get_ticket_and_populate_wrapper('7339'); return false;\" title=\"It should be simpler to test ClassAd(s and) expressions\">#7339</a></span>  (By Tim Theisen )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Feb-22 12:33", "status": "resolved", "created": "2020-Feb-07 15:02", "fixed_version": "2020-Feb-07 15:02", "broken_version": "v080905", "priority": "2", "subsystem": "Packaging", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "kwangs@uwm.edu, peter.wienemann@uni-bonn.de", "due_date": ""}
{"id": 5254, "title": "Ticket #5254: bad permissions on config files cause master to kill itself on reconfi", "description": "<blockquote>\nIf /etc/condor/config.d contains a configuration file that is not\nreadable by the condor user, then the master starts up normally, but a\nreconfig will cause it to exit without a log message or killing its\ndaemons.\n\n<p>Looks like the master is acting as root when it reads the config files\non initial startup, but is acting as the condor user when doing a\nreconfig.  This inconsistency can keep admins from discovering the error\nin their config files in the first place.\n\n</p><p>The master prints the error message to stderr instead of logging it, and\nexits without shutting down any of its children.  These should probably\nboth be fixed.\n\n</p><p>The logging is most important to me, though I think that from an admin's\npoint of view, the ideal behavior is that if a reconfig fails due to\nbroken files (or any other reason), that Condor should keep running with\nthe old config.  I have no idea how feasible that is with the Condor\ncodebase.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Sep-23 16:41:19 by tannenba:</em> <br/>\n\nThis is a dup of <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=4506\" onclick=\"get_ticket_and_populate_wrapper('4506'); return false;\" title=\"condor_master crashes if LOCAL_CONFIG_DIR has unreadable files\">#4506</a></span>\n\n<p>We will resolve this ticket when <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=4506\" onclick=\"get_ticket_and_populate_wrapper('4506'); return false;\" title=\"condor_master crashes if LOCAL_CONFIG_DIR has unreadable files\">#4506</a></span> is resolved</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Oct-26 12:10", "status": "resolved", "created": "2015-Sep-09 15:48", "fixed_version": "2015-Sep-09 15:48", "broken_version": "v080209", "priority": "3", "subsystem": "DaemonMaster", "assigned_to": "tannenba", "derived_from": "#4882", "creator": "matyas", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "matyas@cs.wisc.edu,cat@cs.wisc.edu", "due_date": ""}
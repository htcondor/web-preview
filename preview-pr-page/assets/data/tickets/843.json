{"id": 843, "title": "Ticket #843: New test: detect excessive CPU usage", "description": "<blockquote>\nNew test: Is condor excessively using the CPU?  This would detect bugs like the one fixed in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/03d1a2a79492a27ed11fe40d5c3753a2bb8c0bba\">[16011]</a></span>.\n\n<p>As a first pass, it be easiest to detect if CPU usage as a whole is excessively high, but ideally we would limit it to the set of Condor daemons we spawned.\n\n</p><p>Test 1: Start up the deamons, and give them \"a bit\" to settle in.  Check CPU utilization: it should be negligable.\n\n</p><p>Test 2: Start up a very lightweight run; perhaps a handful of vanilla jobs that just run /bin/sleep.  Check CPU utilization: it should be very low.\n\n</p><p>Defining \"too much\" CPU utilization is an area for consideration.  1-minute load average is probably a good start; an idle Condor pool should generate negligible load.  Actual CPU utilization may also be useful; I'm not sure how to measure it, but both Windows and Gnome are happy to offer me a number, so it's measurable.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-08 10:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/13adbfec11a72c5e968fcf65bcca6d15fb65dd50\">[25397]</a></span>: Documented changes made for <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=843\" onclick=\"get_ticket_and_populate_wrapper('843'); return false;\" title=\"New test: detect excessive CPU usage\">#843</a></span> (Procd log does now know rotation) and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1310\" onclick=\"get_ticket_and_populate_wrapper('1310'); return false;\" title=\"Improving locking reliability of log files\">#1310</a></span> (userLog lock files will optionally be created on local disk).  (By Cathrin Weiss )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Feb-01 14:52", "status": "new", "created": "2009-Oct-12 15:36", "fixed_version": "2009-Oct-12 15:36", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
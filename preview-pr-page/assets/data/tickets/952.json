{"id": 952, "title": "Ticket #952: Add configure switch to build with new / old classads", "description": "<blockquote>\nArrange header and make files so that switching between old and new <span class=\"quote\">ClassAds</span> can be done with the flip of a switch.</blockquote>", "remarks": "<blockquote>\n<em>2010-Jan-14 16:32:57 by jfrey:</em> <br/>\n\nThe master branch can now be built with or without old <span class=\"quote\">ClassAds</span>. This will apply to Condor 7.5.1 and later. On unix, configure now takes a --enable/disable-old-classads parameter (enable is the default). On Windows, use of old <span class=\"quote\">ClassAds</span> is hard-coded for now. Building with old <span class=\"quote\">ClassAds</span> works everywhere (including passing the test suite). Building without old <span class=\"quote\">ClassAds</span> works on x86 rhel5, but doesn't run yet.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-11 17:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bd285b2f81d5fc9fdd15458bee4bf7e7cc29fca5\">[16864]</a></span>: Fix hash_map usage in new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> on Windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=990\" onclick=\"get_ticket_and_populate_wrapper('990'); return false;\" title=\"Address new ClassAds performance concerns\">#990</a></span> The hash_map implementation varies slightly between gcc and Windows.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 22:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6b955d767a157b1dbc64048cf0782fdaa34f6322\">[16790]</a></span>: Add option to replace old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> with compatibility layer. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=619\" onclick=\"get_ticket_and_populate_wrapper('619'); return false;\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Configure now accepts a --enable/disable-old-classads option, which sets macro WANT_OLD_CLASSADS. If --disable-old-classads is given, old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> are removed, replaced by compat_classad::ClassAd. The default is to use old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-14 16:33", "status": "resolved", "created": "2009-Nov-16 12:06", "fixed_version": "2009-Nov-16 12:06", "broken_version": "v070500", "priority": "3", "subsystem": "Packaging", "assigned_to": "nleroy", "derived_from": "#1109", "creator": "nleroy", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 1400, "title": "Ticket #1400: Use dynamic gridftp servers for cream jobs", "description": "<blockquote>\nUntil recently, when a job request asked the CREAM job service to transfer files, the remote (to the CREAM server) gridftp server had to have a host-based certificate. For Condor, this meant that submitting cream jobs required an admin-installed gridftp server on the submit machine.\nRecently, CREAM was changed to allow the job description to provide the DN of the remote gridftp server. This allows Condor to deploy a dynamic gridftp server using the job's credential for file transfer, like what it does for WS GRAM jobs. Condor should take advantage of this new capability of CREAM.</blockquote>", "remarks": "<blockquote>\n<em>2010-May-11 16:31:02 by jfrey:</em> <br/>\n\nPushed commits to master for 7.5.3.\n\n<p>Now, if <code>GRIDFTP_URL_BASE</code> isn't defined, the gridmanager will start a dynamic gridftp server for cream job file transfers. The cream job description is modified to include the DN of the dynamic gridftp server's cert (i.e. the job's proxy).\n\n</p><p></p><hr/>\n<em>2010-Jun-09 17:19:01 by jfrey:</em> <br/>\n\nThese changes have been superseded by <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=1403\" onclick=\"get_ticket_and_populate_wrapper('1403'); return false;\" title=\"Eliminate file transfer services started by Condor for grid universe\">#1403</a></span>.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-11 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4a137850e22bacdc38738b0a83e922539b4a8761\">[17971]</a></span>: Fix value of executable attribute in cream job description. <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=1400\" onclick=\"get_ticket_and_populate_wrapper('1400'); return false;\" title=\"Use dynamic gridftp servers for cream jobs\">#1400</a></span> The executable attribute shouldn't contain the optional \"?DN=&lt;dn&gt;\" at the end of the source URL when transferring the file.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-11 16:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7222e2ba2656811c3738c4f807b5a5408b2bdbed\">[17970]</a></span>: Fix URL syntax for cream jobs using dynamic gridftp server. <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=1400\" onclick=\"get_ticket_and_populate_wrapper('1400'); return false;\" title=\"Use dynamic gridftp servers for cream jobs\">#1400</a></span> When specifying the DN of a gridftp server in a cream job description, we were missing a 'DN=' in the URL.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-11 16:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8012bbe87f9064a25b5a707bfd4bd784642454c2\">[17969]</a></span>: Initial attempt to add support for dynamic gridftp server for cream jobs. <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=1400\" onclick=\"get_ticket_and_populate_wrapper('1400'); return false;\" title=\"Use dynamic gridftp servers for cream jobs\">#1400</a></span> Previously, the dynamic grdiftp server we start up for gt4 gram jobs couldn't be used for cream jobs because the cream api had no way to specify what DN the transferer should expect from the gridftp server. Only servers with\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jun-17 11:50", "status": "abandoned", "created": "2010-May-11 14:48", "fixed_version": "2010-May-11 14:48", "broken_version": "v070500", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20100512"}
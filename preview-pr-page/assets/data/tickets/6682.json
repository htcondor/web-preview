{"id": 6682, "title": "Ticket #6682: COLLECTOR_REQUIREMENTS shouldn't reject unknown command types", "description": "<blockquote>\nWhen COLLECTOR_REQUIREMENTS is set, the validation code in the collector will reject all ads for cedar command integers that it doesn't recognize. This caused a problem when accounting ads were introduced, as they are advertised using a new command integer, but the COLLECTOR_REQUIREMENTS code wasn't updated.\n\n<p>The requirements validation code should be changed so that an unknown command integer doesn't cause the ad to be rejected.</p></blockquote>", "remarks": "<blockquote>\n<em>2018-May-17 08:14:37 by jfrey:</em> <br/>\n\nInternal change, no documentation required.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-May-14 15:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e0e1237d7d40ac9b6b6b8892fe61ed01a841af9e\">[54935]</a></span>: COLLECTOR_REQUIREMENTS shouldn't reject unknown ad types. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6682\" onclick=\"get_ticket_and_populate_wrapper('6682'); return false;\" title=\"COLLECTOR_REQUIREMENTS shouldn't reject unknown command types\">#6682</a></span> In CollectorEngine::ValidateClassAd(), if the cedar command int is unknown, don't reject the ad out of hand. Proceed by assuming the ad doesn't need verfication beyond the COLLECTOR_REQUIREMENTS expression.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-May-17 08:14", "status": "resolved", "created": "2018-May-14 13:53", "fixed_version": "2018-May-14 13:53", "broken_version": "", "priority": "3", "subsystem": "DaemonsCM", "assigned_to": "jfrey", "derived_from": "#6673", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
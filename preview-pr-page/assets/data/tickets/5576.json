{"id": 5576, "title": "Ticket #5576: Campus Factory glideins do not detect correct HOME", "description": "<blockquote>\nThe blahp redefines the HOME variable before executing a job.  The Campus Factory glideins require <code>~/</code> to resolve to the home directory.  Fix the glidein_wrapper.sh file to correctly eval <code>~/</code></blockquote>", "remarks": "<blockquote>\n<em>2016-Mar-23 14:19:00 by dweitzel:</em> <br/>\n\nAdded patch for the campus factory.\n\n<p></p><hr/>\n<em>2016-Apr-20 09:38:26 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Change looks good.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/930/0001-Reorder-eval-for-the-campus_factory-glidein_wrapper..patch\">0001-Reorder-eval-for-the-campus_factory-glidein_wrapper..patch</a>\n1371 bytes added by dweitzel on 2016-Mar-23 19:17:45 UTC.\n<br/>\nPatch to re-order the eval after the reset of the HOME environment variable.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-24 13:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1dc0f9b1a90d0f8a2eaf34842dc92ae751ad2c54\">[48104]</a></span>: Campus Factory glideins do not detect correct HOME. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5576\" onclick=\"get_ticket_and_populate_wrapper('5576'); return false;\" title=\"Campus Factory glideins do not detect correct HOME\">#5576</a></span> The Blahp resets HOME directory for jobs. This is undone in glidein_wrapper.sh, but only after it evals a variable with ~/. Reorder the eval so that it comes after the reset of HOME.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Apr-20 09:38", "status": "resolved", "created": "2016-Mar-23 14:16", "fixed_version": "2016-Mar-23 14:16", "broken_version": "v080400", "priority": "2", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "dweitzel", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "dweitzel@cse.unl.edu", "due_date": ""}
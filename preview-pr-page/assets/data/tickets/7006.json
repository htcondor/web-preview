{"id": 7006, "title": "Ticket #7006: Add support for a token request workflow", "description": "<blockquote>\nWhenever we (such as the schedd) can't authenticate with a remote host, but accept tokens, we should have the option to request a token be created for us.  This would allow for various token bootstrapping workflows.\n\n<p>See <a class=\"external\" href=\"https://docs.google.com/document/d/1pxgbs35CiKe_ymGlu4nWDtfH8oKmg-FCAHPS-EA4c2o/edit\">https://docs.google.com/document/d/1pxgbs35CiKe_ymGlu4nWDtfH8oKmg-FCAHPS-EA4c2o/edit</a> for a full description.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-May-08 15:08:58 by tlmiller:</em> <br/>\n\nSome notes on the design doc, for the record:\n\n<p></p><ul>\n<li>The attack listed under \"denial-of-service\" is actually, as noted in the text, more like a brute-force attack.  Mitigated by <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e67f59235c6fe097b280fdaae10974b5a9199f2c\">[56651]</a></span>, it seems like it would be wiser -- as hinted at by <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20384107e55d5dfdd9de4b1559b01452645b74fb\">[56656]</a></span> -- to at least require the token reply to go to the original token requester's IP.  (My initial thought for better-yet was to leave the connection open until the request was approved, but that may be its own DoS attack, and might not actually be any safer if the connection isn't using SSL.)\n\n<p></p></li><li>The design doc does not explicitly mention the client ID, which is a second ID used for the request that (if SSL is used) is never shared in the clear.  Since the user never ever sees the client ID, we can make it as long and random as we desire, which significantly improves the security of this protocol.  (Unless the attack can read the memory of the client process, in which case we're boned anyway.)\n\n<p></p></li><li>The protocol as-drawn is deceptive, since it doesn't indicate polling on part of the client between step 4 and 7, which is key to understanding the potential attack models.\n</li></ul>\n\n<p>Other notes:\n\n</p><p></p><ul>\n<li>Step 1 in the \"implementation\" section is ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6981\" onclick=\"get_ticket_and_populate_wrapper('6981'); return false;\" title=\"Add non-blocking support for SSL authentication\">#6981</a></span>.\n</li></ul>\n\n<p></p><hr/>\n<em>2019-May-09 15:02:34 by tlmiller:</em> <br/>\n\nFrom (implicit -- the variable was not named) commentary in the code, the client ID is intended to be a \"human-friendly ID that will help the request approver to identify the request.\"  It is, however, checked during the polling phase to make sure it matches the request ID.  We might be better off, instead of an arbitrary client-supplied string, to return a client ID with the request ID (see above).  As regards the example client ID (the hostname), it seems like it would be better to have that generated by trusted code (the server), so it can be relied upon (at least as far as your network properly disallows spoofing) for decisions.\n\n<p></p><hr/>\n<em>2019-May-10 13:38:25 by tlmiller:</em> <br/>\n\n<strong>code review notes</strong>\n\n<p>Sorted by not ordered by commit ID.  I'll review these, and the code, again before declaring the review complete.\n\n</p><p></p><hr/>\n9b2b847\n\n<p>* In Daemon::startTokenRequest(), why explicitly not set lifetime to 0?\n  The argument has no default value, so you can't say it's unset, and\n  it seems better for the client to be explicit than to assume it knows\n  the server's default.\n\n</p><p>* Also, the conditional immediately before the 'BUG!' dprintf() should\n  probably be negated in both clauses... assuming that what it's trying\n  to do is succeed if token wasn't set but request ID was.  (Which should\n  either be mentioned in the 'BUG!' dprintf() or in a comment.)\n\n</p><p>* In Daemon::finishTokenRequest(), why is an empty token OK?\n\n</p><p>* In handle_dc_finish_token_request(), should the rate limiter be checked\n  considerably earlier in the function (for efficiency)?\n\n</p><p>* Also, it seems unnecessarily brave to add the token to the ad without\n  verifying that it got set first.\n\n</p><p></p><hr/>\nab4e418\n\n<p>* In the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TokenRequest\" title=\"Token Request\">TokenRequest</a></span> class, why use initializers that disagree with the\n  constructor?\n\n</p><p></p><hr/>\n75fa0a6\n\n<p>[no comment]\n\n</p><p></p><hr/>\ne67f592\n\n<p>* 50 requests per second seems kind of high for a six-digit number -- that's\n  less than three hours, on average, if I'm doing my math right.\n\n</p><p></p><hr/>\n7b4ff54\n\n<p>[no comment]\n\n</p><p></p><hr/>\n8ad30d7\n\n<p>[no comment]\n\n</p><p></p><hr/>\n5703736\n\n<p>[no comment]\n\n</p><p></p><hr/>\n4d2f4bf\n\n<p>* Why not just ad.EvaluateAttrInt() ?\n\n</p><p></p><hr/>\nbd6df8e\n\n<p>* Does the .deb packaging need a condor.spec-equivalent entry?\n\n</p><p></p><hr/>\ne8d6971\n\n<p>[no comment]\n\n</p><p></p><hr/>\na5a55b2\n\n<p>* Why not just ad.EvaluateAttrInt() ? x2\n\n</p><p></p><hr/>\n2038410\n\n<p>[no comment]\n\n</p><p></p><hr/>\n2bd9d82fb\n\n<p>* Calling reconfig after a new token is installed seems both rather expensive\n  and super-violating of the principle of least astonishment...\n\n</p><p></p><hr/>\n4d2f4bf\n\n<p>* Why not store the conversion of request_filter_str (and why not use\n  EvalAttrInt()?), instead of converting the request id in the iterator\n  to a string?\n\n</p><p>* Why check for ! error_code outside the loop and again at the top of it?\n\n</p><p></p><hr/>\ncf0fc40\n\n<p>[Change token_request_list.cpp's approve_token() to list_tokens().]\n\n</p><p></p><hr/>\n6be4720\n\n<p>* Why rename Daemon::startCommand() to Daemon::startCommand_internal() when\n  you added an argument?\n\n</p><p>* schedd.cpp:1483 log message should be \"schedd <em>will</em> perform...\"\n\n</p><p>* schedd.cpp:1469 is very scary (comment in the header for m_initial_update).\n\n</p><p>* Also, there's no reason the schedd can't have multiple token requests in\n  flight, so all of the changes in schedd.h need to be vectorized.\n\n</p><p></p><hr/>\n<em>2019-May-24 22:04:17 by bbockelm:</em> <br/>\n\nOk, rebased and pushed to address the review comments above.  Some (multiple requests in-flight from the schedd) are probably best addressed as follow-up work.\n\n<p>Hoping to merge once I'm happy with the test output and the builds look clean.\n\n</p><p></p><hr/>\n<em>2019-May-28 14:14:42 by tlmiller:</em> <br/>\n\nBrian, in the future, please refrain from rebasing your pull requests, especially if the reviewer refers to specific hashes in their review.  Doing so makes it much harder for me to tell what you've changed, and I really don't want to have to review the whole branch again.\n\n<p></p><hr/>\n<em>2019-May-30 08:47:46 by bbockelm:</em> <br/>\n\nApologies for the confusion -- was trying to make the branch more sensical given the amount of subsequent churn in the token arena.\n\n<p>In the future, it might be reasonable to utilize a different review interface that allows threaded discussion that can survive rebases (i.e., I did leave the commits mostly in the same order).  GitHub's interface is fairly good.  I don't see much benefit in killing ourselves by trying to do serious reviews within the confines of gittrac.\n\n</p><p></p><hr/>\n<em>2019-May-31 10:39:08 by tlmiller:</em> <br/>\n\n<div class=\"code\">\n<pre class=\"code\">&gt; In the future, it might be reasonable to utilize a different review interface\n&gt; that allows threaded discussion that can survive rebases (i.e., I did leave\n&gt; the commits mostly in the same order).\n</pre></div>\n\n\n<p>I'd be very impressed if <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GitHub\" title=\"Git Hub\">GitHub</a></span> could track commit-specific comments across a rebase.  But that's not the major issue -- I just mentioned because it seemed like it should have been a clear reminder not to change the commit hashes.\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">&gt; GitHub's interface is fairly good. I don't see much benefit in killing\n&gt; ourselves by trying to do serious reviews within the confines of gittrac.\n</pre></div>\n\n\n<p>The major problem is neither the commentary nor the interface.  The major issue is the ability of git to tell me what's changed between the pull request as reviewed and the pull request as modified; AFAICT, if I didn't happen to have kept a clone from before you rebased, git would be unable to tell me what you had changed.  If I'm missing something, please let me know.\n\n</p><p>Otherwise, what do you gain from a rebase as opposed to merging master to the pull request branch?  And even if I agree that it was worthwhile, why not push the rebase as another branch?\n\n</p><p></p><hr/>\n<em>2019-Jun-04 15:02:59 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Discussed with Brian in person.  Several small (and usually explanatory) changes made.  Will push after a last smoke-test.\n\n</p><p></p><hr/>\n<em>2019-Jun-05 10:25:48 by tlmiller:</em> <br/>\n\nPushed.  Should probably have tests.\n\n<p></p><hr/>\n<em>2019-Aug-04 21:49:29 by bbockelm:</em> <br/>\n\nToken request workfows merged to master for 8.9.3...</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7080\" onclick=\"get_ticket_and_populate_wrapper('7080'); return false;\" title=\"Auto-approve token rules\">#7080</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAuto-approve token rules</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7092\" onclick=\"get_ticket_and_populate_wrapper('7092'); return false;\" title=\"Prefer this subsystem's specific token, if available.\">#7092</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nPrefer this subsystem's specific token, if available.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7093\" onclick=\"get_ticket_and_populate_wrapper('7093'); return false;\" title=\"Refactor/merge Scheduler:: and ResMgr:: try_token_request()\">#7093</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRefactor/merge Scheduler:: and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResMgr\" title=\"Res Mgr\">ResMgr</a></span>:: try_token_request()</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7094\" onclick=\"get_ticket_and_populate_wrapper('7094'); return false;\" title=\"Auto-request tokens based on missing trust domains.\">#7094</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAuto-request tokens based on missing trust domains.</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-31 08:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/baabac8a64d62ff5cab034967a8c445224bd9090\">[58887]</a></span>: Implicitly add ALLOW permission to tokens. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7456\" onclick=\"get_ticket_and_populate_wrapper('7456'); return false;\" title=\"Fix fine-grained token auth with ALLOW and alternate permissions\">#7456</a></span> The behavior to add ALLOW permissions (introduced in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>) was not carried over to the alternate permissions approach added in  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-05 22:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7ccab78e53c4702d6583260f2a0c38f5c5008336\">[57599]</a></span>: Fixup various token documentation. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7094\" onclick=\"get_ticket_and_populate_wrapper('7094'); return false;\" title=\"Auto-request tokens based on missing trust domains.\">#7094</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-04 21:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c490a032bc91a0fa0c122beed6212b2752b50aca\">[57586]</a></span>: Add documentation for auto-approval and other requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Also includes documents for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7080\" onclick=\"get_ticket_and_populate_wrapper('7080'); return false;\" title=\"Auto-approve token rules\">#7080</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7094\" onclick=\"get_ticket_and_populate_wrapper('7094'); return false;\" title=\"Auto-request tokens based on missing trust domains.\">#7094</a></span>.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a783e3b61d9436c754483e7e1f11e5de1f94613e\">[57096]</a></span>: Revert \"Revert \"Tune when token requests are performed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 92205c562aad163610b7f72f3db7c9c27df0ba26.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d2e778282365d4ad075fd90492e1a6a85f3cadf7\">[57095]</a></span>: Revert \"Revert \"Improve logging of token requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit f131b2bbfc45f0cd87b44a8c4abbbb705e57cc69.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c493b1a8198970d0be1cfe663611b0cfd772f4bd\">[57094]</a></span>: Revert \"Revert \"Allow approval of multiple tokens in one CLI invocation. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 4f09b16ae6d1dbb8f17b1174debdd55957075738.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7accccf52a5433d380e4a6f38e70db2d73a6f23e\">[57093]</a></span>: Revert \"Revert \"Auto-request tokens for the startd. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 96776930768266389f8563397c977e60f4b13aca.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3abfcc78f7329207c9796b6f00df2d222b87a06b\">[57092]</a></span>: Revert \"Revert \"Always try TOKEN requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit c5013c6e5aa9f450a6bebdc1dd5827031dbb0db7.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/aadc83831ea4f0a1fb3e0c609d4d46ed70e5a279\">[57091]</a></span>: Revert \"Revert \"Address comments from review. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit e7155575277d74473c93520599854dd4ae44ee9a.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5b949d484925984f255aa9bcf8ca60666ff27cc6\">[57090]</a></span>: Revert \"Revert \"Add token clients to the RPM. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 33ea0e07f4c8d025d5e1a0b163445c2df6a8b7a2.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/174451c6ec1be1891578cab1cc72b5777cd4ddd8\">[57089]</a></span>: Revert \"Revert \"Call reconfig after a new token is installed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 9b20e5c1938fca7f79e3c2a38ace07628d7ee626.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a21d3e2b1c066c48e24b5874ef3dd19c2d3de610\">[57088]</a></span>: Revert \"Revert \"Fix token authorization edge cases. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 37ee63eb449408879d001c0c682f903cb31d0b7b.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f2c65a7741968e9331461e5456393130107d6a9\">[57087]</a></span>: Revert \"Revert \"Have schedd auto-request a token if needed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 119d6e0860848244966e0605b79add5df90dc617.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/013ce08497b1898ead63d3e7d03fc1d4575d468b\">[57086]</a></span>: Revert \"Revert \"Fixups from testing token request workflow. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 977aea5e953fa72ec5fbfaab437cab166e05dd48.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/21a1970f93718a82d3da7213337b7f64eab0f338\">[57085]</a></span>: Revert \"Revert \"Add CLI tooling for token request workflows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 5e286f3f4936c96baf5622c9edd382620680c70a.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6b965b2d41f268b7ee5e7294337983fec2fca8bc\">[57084]</a></span>: Revert \"Revert \"Implement token generation code for requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit f9175e87e5bd6fcccd4856c40a7ecd1cd6e946db.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c3de6b1a36e9cdedff771585d79c9c932a6bb951\">[57083]</a></span>: Revert \"Revert \"Fixups: Execute request cleanup, initialize variable. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit b3cbf757ed61223d52656cf01280168e0f324d0d.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9cd723f16d56babee6a9b04265f2f81b31123854\">[57082]</a></span>: Revert \"Revert \"Server-side implementation of list / approve API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit d3864335a2dae28f7e3064d2210c75fae5d7dab9.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/618f20b5aebcc490abc4173693de173bbe544187\">[57081]</a></span>: Revert \"Revert \"Add client API for the listing and approving tokens. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit cc740e66bb9eeb26952c9f60e6c8cf3e205bdbfc.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7d5d6e80c35221691c56efbe954602bcf651e070\">[57080]</a></span>: Revert \"Revert \"Fixup: Minor tweaks of client API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 88abd02a77ad75e61192902e476f4ea20be5a15c.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e626d1689548d48fffee81e8481b7f479720eeb7\">[57079]</a></span>: Revert \"Revert \"Add request rate (and volume) limiter. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 9e3696bad976fed8714c20f3f98c0383d223ec52.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/731db583ca463c8064caca770f1b44cded5f1dd3\">[57078]</a></span>: Revert \"Revert \"Add EMA rate stats class for uint64_t. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit f44a5f5a28d935ad35f72c40058fdd0bfd2989c0.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cca59ab906ad09f0b35894229b85a9d787da9370\">[57077]</a></span>: Revert \"Revert \"Implement server-side API for token retrieval. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit 9604f5801ceceeea801b082d30aa6774597b5230.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 17:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3d6ac3c1fc6583552f6f61d595660c127b210172\">[57076]</a></span>: Revert \"Revert \"Add API for token request and status. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\"\" This reverts commit e38be7c8cab2fc94b9f24d225849be914447af7c.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-04 16:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2744f96cea47561b527c86f0f233a09a2b54c674\">[57099]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>) Pre-merge clean-up, part 2.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-01 22:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8f2f1b6c19ebf84bc9e68636225ad711e0f42873\">[57097]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>) Pre-merge clean-up.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 16:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d5c6a1f188733701496ae08262fb46178ef9a243\">[57048]</a></span>: Reverting because it requires <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>. Revert \"Initialize uninitialized variable <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=6992\" onclick=\"get_ticket_and_populate_wrapper('6992'); return false;\" title=\"Fix coverity-found problems in 8.9\">#6992</a></span>\" This reverts commit f561464d4a5b8bb5fc4d6228578f1cff3a5d3aaf.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fdbcae17c9dfa05275db1daad83007c5980e91ed\">[57046]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/92205c562aad163610b7f72f3db7c9c27df0ba26\">[57025]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f131b2bbfc45f0cd87b44a8c4abbbb705e57cc69\">[57026]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4f09b16ae6d1dbb8f17b1174debdd55957075738\">[57027]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/96776930768266389f8563397c977e60f4b13aca\">[57028]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c5013c6e5aa9f450a6bebdc1dd5827031dbb0db7\">[57029]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7155575277d74473c93520599854dd4ae44ee9a\">[57030]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/33ea0e07f4c8d025d5e1a0b163445c2df6a8b7a2\">[57031]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b20e5c1938fca7f79e3c2a38ace07628d7ee626\">[57032]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/37ee63eb449408879d001c0c682f903cb31d0b7b\">[57033]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/119d6e0860848244966e0605b79add5df90dc617\">[57034]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/977aea5e953fa72ec5fbfaab437cab166e05dd48\">[57035]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5e286f3f4936c96baf5622c9edd382620680c70a\">[57036]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f9175e87e5bd6fcccd4856c40a7ecd1cd6e946db\">[57037]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b3cbf757ed61223d52656cf01280168e0f324d0d\">[57038]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d3864335a2dae28f7e3064d2210c75fae5d7dab9\">[57039]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc740e66bb9eeb26952c9f60e6c8cf3e205bdbfc\">[57040]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/88abd02a77ad75e61192902e476f4ea20be5a15c\">[57041]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9e3696bad976fed8714c20f3f98c0383d223ec52\">[57042]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f44a5f5a28d935ad35f72c40058fdd0bfd2989c0\">[57043]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9604f5801ceceeea801b082d30aa6774597b5230\">[57044]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e38be7c8cab2fc94b9f24d225849be914447af7c\">[57045]</a></span>, Reverting merge of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> branch until the code review is done.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d3864335a2dae28f7e3064d2210c75fae5d7dab9\">[57039]</a></span>: Revert \"Server-side implementation of list / approve API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 1d6a54c210a3594f795f9f28e174c8c8b1430bd7.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc740e66bb9eeb26952c9f60e6c8cf3e205bdbfc\">[57040]</a></span>: Revert \"Add client API for the listing and approving tokens. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit e1ce7e0bd3d9abb15a88ca238ccb0b198e7a5ba9.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/88abd02a77ad75e61192902e476f4ea20be5a15c\">[57041]</a></span>: Revert \"Fixup: Minor tweaks of client API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 5ec30b427d2ffc47dc535dfebe0fb76304bce327.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9e3696bad976fed8714c20f3f98c0383d223ec52\">[57042]</a></span>: Revert \"Add request rate (and volume) limiter. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit cc402e92970b87b6c6f3c46e532bfe279c128d11.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f44a5f5a28d935ad35f72c40058fdd0bfd2989c0\">[57043]</a></span>: Revert \"Add EMA rate stats class for uint64_t. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 7a144a218f4c767ac3373e2a464c0be8acf4194c.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9604f5801ceceeea801b082d30aa6774597b5230\">[57044]</a></span>: Revert \"Implement server-side API for token retrieval. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit a44c0d5c5c19c346840e5efa49fb028e7f2d5381.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e38be7c8cab2fc94b9f24d225849be914447af7c\">[57045]</a></span>: Revert \"Add API for token request and status. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit e7e4d749c2ca106bd36a88ee57b885069502c09d.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f131b2bbfc45f0cd87b44a8c4abbbb705e57cc69\">[57026]</a></span>: Revert \"Improve logging of token requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 126deb477cbd72b89e2a2092d926fc90af3a057d.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4f09b16ae6d1dbb8f17b1174debdd55957075738\">[57027]</a></span>: Revert \"Allow approval of multiple tokens in one CLI invocation. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 0feb5f060fba2f2e1c09fc32621c9d6ab8298c48.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/96776930768266389f8563397c977e60f4b13aca\">[57028]</a></span>: Revert \"Auto-request tokens for the startd. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit d1268836625687041554c84893c6199e75efc7c0.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c5013c6e5aa9f450a6bebdc1dd5827031dbb0db7\">[57029]</a></span>: Revert \"Always try TOKEN requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 50f065981919bd5ab4807bef6a2b23069a0722b1.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7155575277d74473c93520599854dd4ae44ee9a\">[57030]</a></span>: Revert \"Address comments from review. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit a73625d6e39b9bd9167a2c0e8e0c647081b92828.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/33ea0e07f4c8d025d5e1a0b163445c2df6a8b7a2\">[57031]</a></span>: Revert \"Add token clients to the RPM. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 5591ff2d63aec5183c7eccdb162b84487fbf4e67.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b20e5c1938fca7f79e3c2a38ace07628d7ee626\">[57032]</a></span>: Revert \"Call reconfig after a new token is installed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 933efc0e9b8126a46f2b3f7a5014a059f6db667c.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/37ee63eb449408879d001c0c682f903cb31d0b7b\">[57033]</a></span>: Revert \"Fix token authorization edge cases. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 7e4f3647c4fb2f88f1f599e6870ffab3d0536811.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/119d6e0860848244966e0605b79add5df90dc617\">[57034]</a></span>: Revert \"Have schedd auto-request a token if needed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 2433eff7b8a335e195b87e4bccbebe0fa42040f3.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/977aea5e953fa72ec5fbfaab437cab166e05dd48\">[57035]</a></span>: Revert \"Fixups from testing token request workflow. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit 507fe3467e4410e4b3de2f7dae2a1e4dcbd31ac9.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5e286f3f4936c96baf5622c9edd382620680c70a\">[57036]</a></span>: Revert \"Add CLI tooling for token request workflows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit c2efcb2a57b8f9b4c9fedcbfe3253e529f430b3f.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f9175e87e5bd6fcccd4856c40a7ecd1cd6e946db\">[57037]</a></span>: Revert \"Implement token generation code for requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit f3b22074337206b77507e50d27e26a91ef8e5716.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b3cbf757ed61223d52656cf01280168e0f324d0d\">[57038]</a></span>: Revert \"Fixups: Execute request cleanup, initialize variable. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit c443a6474d0cf7d94423668f50d31da298749275.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-31 13:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/92205c562aad163610b7f72f3db7c9c27df0ba26\">[57025]</a></span>: Revert \"Tune when token requests are performed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>\" This reverts commit e51022699f845535c2370cce455e6d53999d6110.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 11:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e51022699f845535c2370cce455e6d53999d6110\">[57007]</a></span>: Tune when token requests are performed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> - Only try a token request when ALL auth fails (catches the case where TOKEN fails but a later method like FS succeeds). - Try a token request if the authentication succeeds but the authorization is denied (i.e., anonymous SSL). - Ensure we do not try a token\u00a0[...]\n (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 11:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/126deb477cbd72b89e2a2092d926fc90af3a057d\">[57006]</a></span>: Improve logging of token requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Note when we wrote out a new token -- and only write out non-empty token files.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0feb5f060fba2f2e1c09fc32621c9d6ab8298c48\">[57005]</a></span>: Allow approval of multiple tokens in one CLI invocation. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d1268836625687041554c84893c6199e75efc7c0\">[57004]</a></span>: Auto-request tokens for the startd. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/50f065981919bd5ab4807bef6a2b23069a0722b1\">[57003]</a></span>: Always try TOKEN requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> This updates the TOKEN request branch to handle the fact that TOKEN is automatically skipped when there is no TOKEN present (precisely the case when we want to request tokens!).  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a73625d6e39b9bd9167a2c0e8e0c647081b92828\">[57002]</a></span>: Address comments from review. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5591ff2d63aec5183c7eccdb162b84487fbf4e67\">[57001]</a></span>: Add token clients to the RPM. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/933efc0e9b8126a46f2b3f7a5014a059f6db667c\">[57000]</a></span>: Call reconfig after a new token is installed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Additionally, spruce up some logging messages.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7e4f3647c4fb2f88f1f599e6870ffab3d0536811\">[56999]</a></span>: Fix token authorization edge cases. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> - Always allow ALLOW authorization, even if not listed in the bounding set. - Try a token request if authentication succeeds but authorization fails.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2433eff7b8a335e195b87e4bccbebe0fa42040f3\">[56998]</a></span>: Have schedd auto-request a token if needed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> If both the collector and schedd have TOKEN auth enabled - but the schedd has no token available - have the schedd automatically request a new token.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/507fe3467e4410e4b3de2f7dae2a1e4dcbd31ac9\">[56997]</a></span>: Fixups from testing token request workflow. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Grab-bag of items discovered while testing the code.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c2efcb2a57b8f9b4c9fedcbfe3253e529f430b3f\">[56996]</a></span>: Add CLI tooling for token request workflows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e1ce7e0bd3d9abb15a88ca238ccb0b198e7a5ba9\">[56992]</a></span>: Add client API for the listing and approving tokens. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1d6a54c210a3594f795f9f28e174c8c8b1430bd7\">[56993]</a></span>: Server-side implementation of list / approve API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c443a6474d0cf7d94423668f50d31da298749275\">[56994]</a></span>: Fixups: Execute request cleanup, initialize variable. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f3b22074337206b77507e50d27e26a91ef8e5716\">[56995]</a></span>: Implement token generation code for requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Additionally includes recording the IP address for the initial requester.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7a144a218f4c767ac3373e2a464c0be8acf4194c\">[56989]</a></span>: Add EMA rate stats class for uint64_t. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc402e92970b87b6c6f3c46e532bfe279c128d11\">[56990]</a></span>: Add request rate (and volume) limiter. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5ec30b427d2ffc47dc535dfebe0fb76304bce327\">[56991]</a></span>: Fixup: Minor tweaks of client API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a44c0d5c5c19c346840e5efa49fb028e7f2d5381\">[56988]</a></span>: Implement server-side API for token retrieval. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> This adds the corresponding server-side code to retrieve tokens. There's still no administrator API to generate tokens.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-30 08:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7e4d749c2ca106bd36a88ee57b885069502c09d\">[56987]</a></span>: Add API for token request and status. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> This provides an empty implementation (simply returns a \"Not Implemented\" error) of the token request and status checking API.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2bd9d82fb2e0ce2dae2ede970765848de62dcaa1\">[56661]</a></span>: Call reconfig after a new token is installed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Additionally, spruce up some logging messages.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5703736febd1078d494dac3179aa480355b0927d\">[56660]</a></span>: Fix token authorization edge cases. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> - Always allow ALLOW authorization, even if not listed in the bounding set. - Try a token request if authentication succeeds but authorization fails.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6be472056525f7cc6a9921306974be650af143e7\">[56659]</a></span>: Have schedd auto-request a token if needed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> If both the collector and schedd have TOKEN auth enabled - but the schedd has no token available - have the schedd automatically request a new token.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4d2f4bf520a9aaed6d7c055cc897b0aaa9e0ddcb\">[56658]</a></span>: Fixups from testing token request workflow. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Grab-bag of items discovered while testing the code.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cf0fc404ad1f26c5c0b2a4a3bc6665e6d4ec6451\">[56657]</a></span>: Add CLI tooling for token request workflows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20384107e55d5dfdd9de4b1559b01452645b74fb\">[56656]</a></span>: Implement token generation code for requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> Additionally includes recording the IP address for the initial requester.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8ad30d7ee2bfedb425af1d6dd5d9759b2f9bff95\">[56655]</a></span>: Fixups: Execute request cleanup, initialize variable. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a5a55b29b19e73c01c381a079a7e7d0d585b8443\">[56654]</a></span>: Server-side implementation of list / approve API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e8d69716c6ccf29f048ca18ec832ecbabf4dcfff\">[56653]</a></span>: Add client API for the listing and approving tokens. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7b4ff54ac88d8bb332f9d3a8fe43701dcb01cb9f\">[56652]</a></span>: Fixup: Minor tweaks of client API. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e67f59235c6fe097b280fdaae10974b5a9199f2c\">[56651]</a></span>: Add request rate (and volume) limiter. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/75fa0a667c7384ed8e1a1581111885b035010dc0\">[56650]</a></span>: Add EMA rate stats class for uint64_t. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ab4e41872b7e398f07c30aeb123a822a5bde1186\">[56649]</a></span>: Implement server-side API for token retrieval. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> This adds the corresponding server-side code to retrieve tokens. There's still no administrator API to generate tokens.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-17 21:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b2b8475dddab14940edce00a2e1c649237bb7f5\">[56648]</a></span>: Add API for token request and status. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7006\" onclick=\"get_ticket_and_populate_wrapper('7006'); return false;\" title=\"Add support for a token request workflow\">#7006</a></span> This provides an empty implementation (simply returns a \"Not Implemented\" error) of the token request and status checking API.  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Aug-04 21:49", "status": "resolved", "created": "2019-Apr-17 21:12", "fixed_version": "2019-Apr-17 21:12", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "bbockelm", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bbockelman@morgridge.org", "due_date": ""}
{"id": 5297, "title": "Ticket #5297: ssh_to_job fails if PrivilegeSeparation directory does not exist", "description": "<blockquote>\nDebian 7 running on systems which for idiosyncratic reasons I have chosen to install with the gsisshd patched daemon active rather than vanilla openssh. Vanilla openssh is installed in the filesystem but inactive.\n\n<p>On Debian, the /etc/init.d/ssh script creates the privilege separation directory /var/run/sshd if it does not exist and it is not created during install:\n\n</p><p>/var/lib/dpkg/info/openssh-server.(pre|post)inst\n\n</p><p>Because Condor calls sshd on its own rather than through the init script, sshd will fail owing to the non-existence of the directory. So, while the source of <strong>my</strong> problem is an idiosyncratic choice, I think it would apply to any system that isn't choosing to run sshd.\n\n</p><p>You might choose to run without privilege separation, but I think you are safer to mimic /etc/init.d/ssh and simply ensure the existence of the directory.\n\n</p><p>Tom</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2015-Oct-07 13:52", "status": "defer", "created": "2015-Oct-07 13:52", "fixed_version": "2015-Oct-07 13:52", "broken_version": "v080208", "priority": "5", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "tpdownes", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": ""}
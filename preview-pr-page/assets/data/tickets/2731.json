{"id": 2731, "title": "Ticket #2731: Schedd statistics do not take scheduler universe into account", "description": "<blockquote>\nWhen trying to write tests for the schedd statistics, I observed that counts for scheduler universe are not taken into account.  This does seem to cause skew in the statistics, as you get lines like\n<div class=\"code\">\n<pre class=\"code\">RecentJobsCompletedSizes = \"0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0\"\n</pre></div>\n\nand\n<div class=\"code\">\n<pre class=\"code\">RecentJobsSubmitted = 12\n</pre></div>\n\nin the same ad, where all jobs have completed.  So it appears that scheduler universe jobs are not taken into account when they complete, at least; but they are when they are submitted.</blockquote>", "remarks": "<blockquote>\nThis looks OK to me.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3207\" onclick=\"get_ticket_and_populate_wrapper('3207'); return false;\" title=\"Jobs in scheduler universe ignore OnExitRemove\">#3207</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nJobs in scheduler universe ignore <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OnExitRemove\" title=\"On Exit Remove\">OnExitRemove</a></span></td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jan-19 12:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f8cef5743422aa909f63bcff73c9b364611bf5f4\">[29158]</a></span>: Edit of version history item. ===GT=== <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=2731\" onclick=\"get_ticket_and_populate_wrapper('2731'); return false;\" title=\"Schedd statistics do not take scheduler universe into account\">#2731</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-29 11:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b5957bab5c1c9aaded8610fe84746c20e902984\">[28942]</a></span>: Document that we are counting scheduler universe jobs ===GT=== <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=2731\" onclick=\"get_ticket_and_populate_wrapper('2731'); return false;\" title=\"Schedd statistics do not take scheduler universe into account\">#2731</a></span>  (By Nathan W. Panike )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-28 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b419571a8e1ff9e2e46758e57c4a10a29c0e0dc3\">[28938]</a></span>: Handle scheduler universe job completion in statistics ===GT=== <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=2731\" onclick=\"get_ticket_and_populate_wrapper('2731'); return false;\" title=\"Schedd statistics do not take scheduler universe into account\">#2731</a></span> Scheduler universe is damned strange. I think I mapped the exit codes properly, but someone else should probably look at this and see if there is something better to do as far as handling exit codes.  (By Nathan W. Panike )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Jul-07 13:51", "status": "stalled", "created": "2011-Dec-27 16:34", "fixed_version": "2011-Dec-27 16:34", "broken_version": "v070702", "priority": "3", "subsystem": "Daemons", "assigned_to": "PitS", "derived_from": "#2356", "creator": "nwp", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
{"id": 7429, "title": "Ticket #7429: dprintf calls in python bindings are not thread safe", "description": "<blockquote>\nThe dprintf code has a mutex which is enabled by daemon core to insure that calls to dprintf are thread safe, but the python bindings never enables this mutex because there is no daemoncore object to query about threads. (the mutex is always enabled on Windows).\n\n<p>There should be an explicit call to turn on the dprintf mutex and python should set it on module load and/or when dprintf logging is enabled by a python script.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Dec-17 10:41:44 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>This looks good.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-18 16:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6d957b87563576ab0d1883a7e3b0fa7bbdb1e626\">[58709]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7417\" onclick=\"get_ticket_and_populate_wrapper('7417'); return false;\" title=\"python-bindings use after free for transaction object\">#7417</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7429\" onclick=\"get_ticket_and_populate_wrapper('7429'); return false;\" title=\"dprintf calls in python bindings are not thread safe\">#7429</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7284\" onclick=\"get_ticket_and_populate_wrapper('7284'); return false;\" title=\"Job route order doesn't reflect configuration\">#7284</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-12 16:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ec2f1dd331c01adbe2755a8f7b288444ba8d0b01\">[58650]</a></span>: fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7429\" onclick=\"get_ticket_and_populate_wrapper('7429'); return false;\" title=\"dprintf calls in python bindings are not thread safe\">#7429</a></span>, have python bindings put dprintf code in thread safe mod  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Dec-18 17:07", "status": "resolved", "created": "2019-Dec-12 10:05", "fixed_version": "2019-Dec-12 10:05", "broken_version": "v080000", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "#7359", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2778, "title": "Ticket #2778: ProcAPI on windows should stop tracking a pid once it gets err=87", "description": "<blockquote>\nWhile investigating the cause of schedd crash/exits in a windows pool, ToddT and I noticed in the log that the ProcAPI will attempt to keep tracking a PID even after OpenProcess() return error 87 which means \"PID does not exist\".  It seems likely that this could lead to confusion once the PID is re-used.\n\n<p>If this flaw was combined with a failure to get the process birthdate (something we also saw in the log), then condor could potentially kill processes that it should not be tracking, or even possibly kill itself.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2012-Sep-19 16:15:53 by zmiller:</em> <br/>\n\nBulk change of target version from v070804 to v070805 using ./ticket-target-mover.\n<hr/>\n<em>2012-Oct-25 17:52:16 by johnkn:</em> <br/>\n\nBulk change of target version from v070806 to v070807 using ./ticket-target-mover.\n<hr/>\n<em>2012-Dec-19 09:30:47 by johnkn:</em> <br/>\n\nBulk change of target version from v070807 to v070808 using ./ticket-target-mover.\n<hr/>\n<em>2013-Mar-28 17:16:00 by johnkn:</em> <br/>\n\nBulk change of target version from v070808 to v070809 using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2780\" onclick=\"get_ticket_and_populate_wrapper('2780'); return false;\" title=\"Verify that GetProcessBirthday still works on Win7\">#2780</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nVerify that <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetProcessBirthday\" title=\"Get Process Birthday\">GetProcessBirthday</a></span> still works on Win7</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2013-Mar-28 17:16", "status": "new", "created": "2012-Jan-23 13:25", "fixed_version": "2012-Jan-23 13:25", "broken_version": "v070605", "priority": "3", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "a22719", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 6674, "title": "Ticket #6674: condor_qedit wont let queue super edit protected attributes", "description": "<blockquote>\nticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5889\" onclick=\"get_ticket_and_populate_wrapper('5889'); return false;\" title=\"condor_qedit and other tools should hondor CONDOR_Q_ONLY_MY_JOBS\">#5889</a></span> changed condor_qedit so it checks for attempts to change immutable/protected/secure attributes before allows them to be changed.  But the tools don't necessarily have the same config as the schedd, and in any case, queue super users are still allowed to change protected attributes.\n\n<p>condor_qedit should be changed to go ahead and try and change job attributes, and then only check for immutable/protected/secure when it gets a 'no-access' failure code.\n\n</p><p>You can work around this by configuring it so that only the schedd sees the <code>PROTECTED_JOB_ATTRS</code> knob\n\n</p><p></p><div class=\"snip\">\n<pre class=\"sniplabel\">config fragment</pre>\n<pre class=\"snip\">SCHEDD.PROTECTED_JOB_ATTRS = Attr1, Attr2\n</pre></div>\n\n\n<p>Or alternately, clear the list for the tool\n\n</p><p></p><div class=\"snip\">\n<pre class=\"sniplabel\">alternate config fragment</pre>\n<pre class=\"snip\">TOOL.PROTECTED_JOB_ATTRS =\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-May-31 14:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4435859fc296ebb83b50d1d1916643afe75009a7\">[54992]</a></span>: fix for <span class=\"ticket\"><a class=\"review\" href=\"/wiki-archive/tickets/?ticket=6674\" onclick=\"get_ticket_and_populate_wrapper('6674'); return false;\" title=\"condor_qedit wont let queue super edit protected attributes\">#6674</a></span>. condor_qedit will not allow editing of protected attributes even when the schedd would allow it. ===VersionHistory:Complete===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2018-Jul-16 13:47", "status": "review", "created": "2018-May-09 17:06", "fixed_version": "2018-May-09 17:06", "broken_version": "v080600", "priority": "3", "subsystem": "Tools", "assigned_to": "tannenba", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/safari-pinned-tab.svg" color="#d31145">
    <link rel="shortcut icon" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Primary Meta Tags -->
    <meta name="title" content="HTCSS">
    <meta name="description" content="HTCSS is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCSS was made to increase your Computational Throughput.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://htcondor.org/">
    <meta property="og:title" content="HTCSS">
    <meta property="og:description" content="HTCSS is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCSS was made to increase your Computational Throughput.">
    <meta property="og:image" content="https://htcondor.org/logos/htcondor_logos/PNG/HTCondor_red_blk.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://htcondor.org/">
    <meta property="twitter:title" content="HTCSS">
    <meta property="twitter:description" content="HTCSS is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCSS was made to increase your Computational Throughput.">
    <meta property="twitter:image" content="https://htcondor.org/logos/htcondor_logos/PNG/HTCondor_red_blk.png">

    <title>Singularity Condor</title>

    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-2021_01_28_Updates/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-2021_01_28_Updates/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">Content Archives</a></li>
        
            <li><a class="dropdown-item" href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-2021_01_28_Updates/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                





                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/news/Software_Integration_Developer/">New Full-Time Position: Software Integration Developer</a></h3>
                            <div>
                                <span class="text-muted">December  8, 2021</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-2021_01_28_Updates/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-2021_01_28_Updates/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                






                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">Content Archives</a></td></tr>
                
                    <tr><td><a href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-2021_01_28_Updates/featured-users.html"><b>Featured Users</b></a>
                    
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-12-16-precision-mental-health.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Harnessing HTC-enabled precision mental health to capture the complexity of smoking cessation
            </h6>
            <div>
                <span class="text-muted text-decoration-none">December 16, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-30-banq.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Centuries of newspapers are now easily searchable thanks to HTCSS
            </h6>
            <div>
                <span class="text-muted text-decoration-none">November 30, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-29-usgs.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Protecting ecosystems with HTC
            </h6>
            <div>
                <span class="text-muted text-decoration-none">November 29, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-4 my-2">
                    <div class="card h-100">
                        <img src="/web-preview/preview-2021_01_28_Updates/assets/images/banq-mw.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-30-banq.html">Centuries of newspapers are now easily searchable thanks to HTCSS</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-2021_01_28_Updates/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-2021_01_28_Updates/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="container-xxl py-4">
    <h1>Singularity Condor</h1>
<div id="content">
 <span class="section">
  <h2>
   Interactive Singularity Jobs and condor_ssh_to_job
  </h2>
 </span>
 Starting with HTCondor 8.8,
 <code>
  condor_ssh_to_job
 </code>
 and hence also interactive jobs use an
 <code>
  sshd
 </code>
 running directly on the execute node with user privileges. Since 8.8.10, most issue have been ironed out, and
connecting into the job happens using
 <code>
  condor_nsenter
 </code>
 , which is an
 <code>
  nsenter
 </code>
 -like tool to "enter" container namespaces in a generic way. This tool is spawned by the
 <code>
  starter
 </code>
 in parallel to
 <code>
  sshd
 </code>
 .
 <p>
  There are a few remaining issues related to X11 forwarding which can be worked around, and which are partially dependent on the utilised setup. These are discussed on this page in addition to a short discussion of the handling of
  <code>
   locale
  </code>
  environment variables.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  X11 forwarding
 </h3>
 X11 forwarding in general works by running
 <code>
  xauth
 </code>
 as a child of the
 <code>
  sshd
 </code>
 process on the execute node.
 <code>
  sshd
 </code>
 mostly prunes the environment before, setting a new DISPLAY variable to a forwarded X11 port. It then runs
 <code>
  xauth
 </code>
 which by default uses the user's home directory to store the X11 authorization information.
 <p>
  Two issues arise:
 </p>
 <ul>
  <li>
   Since
   <code>
    condor_nsenter
   </code>
   does not run as a child of the
   <code>
    sshd
   </code>
   , but as a child of the
   <code>
    starter
   </code>
   , it can not pass on the
   <code>
    DISPLAY
   </code>
   environment variable to the user session.
  </li>
  <li>
   In many cases, when containers are used, the actual users may not have a home directory on the execute node, or might not have it mounted inside the container. However, we cannot override the location to store the
   <code>
    .Xauthority
   </code>
   file with the environment variable
   <code>
    XAUTHORITY
   </code>
   since
   <code>
    sshd
   </code>
   prunes that.
  </li>
 </ul>
 <p>
  Another related issue is that the
  <code>
   TERM
  </code>
  environment variable is not inherited from the
  <code>
   condor_ssh_to_job
  </code>
  command, which may lead to strange behaviour of special key escape sequences (e.g.
  <code>
   HOME
  </code>
  or
  <code>
   END
  </code>
  keys).
 </p>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  A possible workaround
 </h4>
 To solve all these issues at once, we can make use of the fact that
 <code>
  sshd
 </code>
 is spawned and configured by HTCondor via the
 <code>
  condor_ssh_to_job_sshd_config_template
 </code>
 . The location of this template can be set via the knob
 <code>
  SSH_TO_JOB_SSHD_CONFIG_TEMPLATE
 </code>
 .
We can patch the file shipped with HTCondor and add the line:
  XAuthLocation /usr/local/bin/condor_xauth_wrapper
Subsequently, we can create the wrapper script (make sure it is executable) with the following content:
 <hr/>
 <div class="verbatim">
  <pre>#!/bin/bash

# Walk up the process tree until we find the second sshd which rewrites cmdline to "sshd: user@tty".
# The first sshd is our parent process which does not log itself.
SSHD_PID=$$
SSHD_CNT=0
while true; do
  IFS= read -r -d '' CMDLINE &lt;/proc/${SSHD_PID}/cmdline || [[ $cmdline ]]
  #echo "Checking ID ${SSHD_PID}, cmdline ${CMDLINE^^}"
  SSHD_MATCHER="^SSHD: "
  if [[ ${CMDLINE^^} =~ ${SSHD_MATCHER} ]]; then
    # We found the sshd!
    SSHD_CNT=$(( SSHD_CNT + 1))
    if [ ${SSHD_CNT} -gt 1 ]; then
      break;
    fi
  fi
  SSHD_PID=$(ps -o ppid= -p ${SSHD_PID} | awk '{print $1}')
  if [ ${SSHD_PID} -eq 1 ]; then
    # We arrived at the INIT process, something very wrong... Let's stop and alert the user.
    echo "Error: Could not determine sshd process, X11 forwarding will not work!"
    echo "       Please let your admins know you got this error!"
    exit 0
  fi
done
#echo "SSHD PID is ${SSHD_PID}."

# Find sshd.log, checking through fds.
FOUND_SSHD_LOG=0
for FD in $(ls -1 /proc/${SSHD_PID}/fd/); do
  FILE=$(readlink -f /proc/${SSHD_PID}/fd/$FD)
  #echo "Checking FD $FD, file is $FILE"
  SSHD_LOG_MATCHER="sshd\.log$"
  if [[ "${FILE}" =~ ${SSHD_LOG_MATCHER} ]]; then
    #echo "Found ${FILE}!"
    FOUND_SSHD_LOG=1
    SSH_TO_JOB_DIR=$(dirname ${FILE})
    JOB_WORKING_DIR=$(dirname ${SSH_TO_JOB_DIR})
    break;
  fi
done

if [ ${FOUND_SSHD_LOG} -eq 0 ]; then
  # We could not identify sshd.log, let's stop and alert the user.
  echo "Error: Could not determine sshd process' (PID: ${SSHD_PID}) log, X11 forwarding will not work!"
  echo "       Please let your admins know you got this error!"
  exit 0
fi

# Finally, if we arrive here, all is well.

# This does NOT work, since env.sh is sourced as forced command, too early.
#echo "export DISPLAY=${DISPLAY}" &gt;&gt; ${SSH_TO_JOB_DIR}/env.sh

# Ugly hack needed with HTCondor 8.8.10 which does not yet pass through DISPLAY or TERM.
echo "export DISPLAY=${DISPLAY}" &gt; ${JOB_WORKING_DIR}/.display
echo "export TERM=${TERM}" &gt;&gt; ${JOB_WORKING_DIR}/.display

export XAUTHORITY=${JOB_WORKING_DIR}/.Xauthority
/usr/bin/xauth "$@" &lt;/dev/stdin
</pre>
 </div>
 <hr/>
 Please note that this script is pretty verbose, and handles very unlikely errors not observed in practice (yet). Most of the code is just there to find out which directory is used as the execute directory for the job, then place the
 <code>
  DISPLAY
 </code>
 environment variable and the
 <code>
  TERM
 </code>
 environment variable inside a file
 <code>
  .display
 </code>
 in there, and finally adjust the environment variable
 <code>
  XAUTHORITY
 </code>
 to place the
 <code>
  .Xauthority
 </code>
 file there.
 <p>
  This script works combined with two environment hack inside the container:
 </p>
 <ul>
  <li>
   The container needs to use the execute directory as
   <code>
    HOME
   </code>
   directory. You can for example do that by setting
   <code>
    SINGULARITY_HOME
   </code>
   in the
   <code>
    STARTER_JOB_ENVIRONMENT
   </code>
   knob, which you may likely touch anyways to set
   <code>
    SINGULARITY_NOHOME=true
   </code>
   if you run without the users' home directories on the execute node.
  </li>
  <li>
   The container needs to source
   <code>
    .display
   </code>
   from the
   <code>
    HOME
   </code>
   directory on start (and may also clean up by deleting it).
Example code for the latter task could be, assuming your in-container
   <code>
    HOME
   </code>
   directory is
   <code>
    /jwd
   </code>
   :
  if [ -r /jwd/.display ]; then
        source /jwd/.display
        rm -f /jwd/.display
  fi
A good place could be a file in
   <code>
    /etc/profile
   </code>
   inside the container(s) you use.
  </li>
 </ul>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  An alternative workaround
 </h4>
 Note that if your
 <code>
  sshd
 </code>
 is recent enough and understands
 <code>
  SetEnv
 </code>
 (should be the case starting from versions &gt;=7.8), you could additionally patch
 <code>
  /usr/libexec/condor/condor_ssh_to_job_sshd_setup
 </code>
 , for example, you could add:
 <hr/>
 <div class="verbatim">
  <pre>echo "SetEnv JOB_WORKING_DIR=${base_dir}" &gt;&gt; ${sshd_config}
</pre>
 </div>
 <hr/>
 directly after the
 <code>
  sshd_config
 </code>
 is generated from the template.
You can then simplify the
 <code>
  /usr/local/bin/condor_xauth_wrapper
 </code>
 script to the much less error-prone code:
 <hr/>
 <div class="verbatim">
  <pre>#!/bin/bash

# Ugly hack needed with HTCondor 8.8.10 which does not yet pass through DISPLAY or TERM.
echo "export DISPLAY=${DISPLAY}" &gt; ${JOB_WORKING_DIR}/.display
echo "export TERM=${TERM}" &gt;&gt; ${JOB_WORKING_DIR}/.display

export XAUTHORITY=${JOB_WORKING_DIR}/.Xauthority

/usr/bin/xauth "$@" &lt;/dev/stdin
</pre>
 </div>
 <hr/>
 Note that we can not
 <code>
  SetEnv
 </code>
 the variable
 <code>
  XAUTHORITY
 </code>
 directly with
 <code>
  SetEnv
 </code>
 , it is overwritten by
 <code>
  sshd
 </code>
 after setting the defined environment variables.
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Locale settings
 </h3>
 You may note that the
 <code>
  locale
 </code>
 environment variables (
 <code>
  LANGUAGE
 </code>
 ,
 <code>
  LANG
 </code>
 ,...) are not "adopted" in the interactive job or when using
 <code>
  condor_ssh_to_job
 </code>
 to attach to a running job, similar as is the case with
 <code>
  DISPLAY
 </code>
 and
 <code>
  TERM
 </code>
 . This may cause issues such as UTF-8 not working if the default locale inside your job is not set, e.g. because you are using a container without a default locale, which usually means the
 <code>
  C
 </code>
 locale is assumed.
 <p>
  While forwarding such variables is convenient in regular
  <code>
   ssh? usage, it would change the behaviour of the payload of the interactive job versus a batch job. This is especially true e.g. for =LC_NUMERIC
  </code>
  which affects the way some libraries parse numbers.
To overcome this kind of issue, the best approach seems to be to set a default locale inside the used container, which is then consistently used both for batch and interactive jobs.
 </p>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-4 d-none d-lg-flex">
                <img class="my-auto" height="65" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-2021_01_28_Updates/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-2021_01_28_Updates/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="px-3 d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-2021_01_28_Updates/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-2021_01_28_Updates/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-2021_01_28_Updates/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

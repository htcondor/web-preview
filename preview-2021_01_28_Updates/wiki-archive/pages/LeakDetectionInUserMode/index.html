<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/safari-pinned-tab.svg" color="#d31145">
    <link rel="shortcut icon" href="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-2021_01_28_Updates/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Primary Meta Tags -->
    <meta name="title" content="HTCondor">
    <meta name="description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://htcondor.org/">
    <meta property="og:title" content="HTCondor">
    <meta property="og:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="og:image" content="https://htcondor.org/assets/images/HTC.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://htcondor.org/">
    <meta property="twitter:title" content="HTCondor">
    <meta property="twitter:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="twitter:image" content="https://htcondor.org/assets/images/HTC.png">

    <title>Leak Detection In User Mode</title>

    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-2021_01_28_Updates/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-2021_01_28_Updates/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-2021_01_28_Updates/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">Content Archives</a></li>
        
            <li><a class="dropdown-item" href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-2021_01_28_Updates/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-2021_01_28_Updates/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                





                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/news/New_Job_Posting/">New Full-Time Position: Software Engineer</a></h3>
                            <div>
                                <span class="text-muted">December  8, 2021</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-2021_01_28_Updates/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-2021_01_28_Updates/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                






                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">Content Archives</a></td></tr>
                
                    <tr><td><a href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-2021_01_28_Updates/featured-users.html"><b>Featured Users</b></a>
                    
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-12-16-precision-mental-health">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Harnessing HTC-enabled precision mental health to capture the complexity of smoking cessation
            </h6>
            <div>
                <span class="text-muted text-decoration-none">December 16, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-30-banq">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Centuries of newspapers are now easily searchable thanks to HTCSS
            </h6>
            <div>
                <span class="text-muted text-decoration-none">November 30, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-29-usgs">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Protecting ecosystems with HTC
            </h6>
            <div>
                <span class="text-muted text-decoration-none">November 29, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-4 my-2">
                    <div class="card h-100">
                        <img src="/web-preview/preview-2021_01_28_Updates/assets/images/banq-mw.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/featured-users/2021-11-30-banq">Centuries of newspapers are now easily searchable thanks to HTCSS</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-2021_01_28_Updates/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-2021_01_28_Updates/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-2021_01_28_Updates/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-2021_01_28_Updates/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="container-xxl py-4">
    <h1>Leak Detection In User Mode</h1>
<div id="content">
 <span class="section">
  <h2>
   Requirements
  </h2>
 </span>
 <p>
 </p>
 <ul>
  <li>
   Debugging Tools for Windows
  </li>
  <li>
   Process and Windows System Symbols (for stack trace)
  </li>
 </ul>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Introduction
 </h2>
 <p>
  What follows is a quick way to determine if a process is leaking heap memory.  We use a tool called the "User Mode Dump Heap" or
  <code>
   umdh.exe
  </code>
  for short.  This tool allows us to see the changes in a processes' heap over a period of time. Differences, in this case means memory allocation calls without matching de-allocation calls, not just the size.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Dumping a Heap
 </h3>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Environment
 </h3>
 <p>
  First, we must make sure the environment is correctly configured; otherwise the system symbols will be inaccessible. We only need to set
  <code>
   _NT_SYMBOL_PATH
  </code>
  to something appropriate:
 </p>
 <p>
 </p>
 <pre>  set _NT_SYMBOL_PATH=srv*C:\Symbols*http://msdl.microsoft.com/download/symbols
</pre>
 <p>
  Also, the
  <strong>
   Debugging Tools for Windows
  </strong>
  should be in your path.  That, for our purposes, will do the trick, but you can get fancier if you like.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Global Flags
 </h3>
 <p>
  Now, we must also enable the global flag to create a user mode stack trace database.  This creates a registry value which is read when the process starts up that allows the system to keep track of the functions allocating memory inside the process.
 </p>
 <p>
 </p>
 <pre>  gflags.exe -i faucet.exe +ust
</pre>
 <p>
  Where
  <code>
   -i
  </code>
  tells
  <code>
   gflags.exe
  </code>
  which image file we are interested in, and
  <code>
   +ust
  </code>
  enables the "Create user mode stack trace database" option. The output you should expect looks something like this:
 </p>
 <p>
 </p>
 <pre>  Current Registry Settings for faucet.exe executable are: 00001000
      ust - Create user mode stack trace database
</pre>
 <p>
  You can also simply run
  <code>
   gflags.exe
  </code>
  and use the GUI to do your dirty work (you will also find many other options there under the "Image File" tab).
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Dumping the Heap
 </h3>
 <p>
  We can liken the process of detecting a memory leak to that of taking a diff of two files: we take two snapshots of the heap and then ask for the difference--in terms of memory calls--between them.  If there have been any serious leaks, we will see them.
 </p>
 <p>
  Taking the snapshots themselves is easy, determining when to take them may be difficult, and highly dependent on how and when the leak presents itself.
 </p>
 <p>
  Lets assume, for simplicity, that we have a constant and easily reproducible leak.  This way we can present the procedures, which we can later generalize and use on more difficult problems.
 </p>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  First Snapshot
 </h4>
 <p>
  We first run the executable:
 </p>
 <p>
 </p>
 <pre>  &gt; faucet.exe
</pre>
 <p>
  And then we must acquire its Process ID (PID) through the
  <strong>
   Task Manager
  </strong>
  or via some other means. Using the PID we can tell
  <code>
   umdh.exe
  </code>
  to dump the state of the processes' heap at this junction:
 </p>
 <p>
 </p>
 <pre>  &gt; umdh -p:1234 -f:faucet-1.txt
</pre>
 <p>
  If we peek inside
  <code>
   faucet-1.txt
  </code>
  we will see multiple entries of the type:
 </p>
 <p>
 </p>
 <pre>  18 bytes + 18 at 1DBE810 by BackTrace1C62924
	7710A2A0
	4E7ED3
	4E72AA
	4A680E
	4A6BF6
	4A6D60
	4A6FC7
	4A722E
	4A732A
	4A7426
	4A74C7
	4A75B2
	49EB6F
	4A0486
	4BD884
	42DD88
</pre>
 <p>
  These reflect the number of bytes allocated at a particular offset, and the stack frame that resulted in the allocation.  It is possible at this point to resolve the symbols using the
  <code>
   umdh.exe
  </code>
  command, which will make the entry highly consumable by human eyes:
 </p>
 <p>
 </p>
 <pre>  &gt; umdh -d faucet-2.txt -f:symbols-1.txt
</pre>
 <p>
  Where
  <code>
   symbols-1.txt
  </code>
  will contain entries of the form (output has been slightly modified to ensure that it fits on one screen--full paths will always be given in a real dump):
 </p>
 <p>
 </p>
 <pre>  +      18 (    30 -    18)      2 allocs	BackTrace1C62924
  +       1 (     2 -     1)	BackTrace1C62924	allocations
</pre>
 <p>
 </p>
 <pre>	ntdll!RtlAllocateHeap+000001FE
	condor_schedd!malloc+00000079 (f:\...\crt\src\malloc.c, 163)
	condor_schedd!operator new+0000001F (f:\...\crt\src\new.cpp, 59)
	condor_schedd!ParseFactor+0000011D (c:\...\classad.old\parser.cpp, 181)
	condor_schedd!ParseMultOp+00000017 (c:\...\classad.old\parser.cpp, 361)
	condor_schedd!ParseAddOp+00000017 (c:\...\classad.old\parser.cpp, 422)
	condor_schedd!ParseEqualityOp+00000017 (c:\...\classad.old\parser.cpp, 509)
	condor_schedd!ParseSimpleExpr+00000017 (c:\...\classad.old\parser.cpp, 579)
	condor_schedd!ParseAndExpr+00000017 (c:\...\classad.old\parser.cpp, 616)
	condor_schedd!ParseExpr+00000017 (c:\...\classad.old\parser.cpp, 652)
	condor_schedd!ParseAssignExpr+00000024 (c:\...\classad.old\parser.cpp, 686)
	condor_schedd!Parse+00000026 (c:\...\classad.old\parser.cpp, 727)
	condor_schedd!AttrList::Insert+00000017 (c:\...\classad.old\attrlist.cpp, 839)
	condor_schedd!AttrList::Assign+00000062 (c:\...\classad.old\attrlist.cpp, 2767)
	condor_schedd!SelfMonitorData::ExportData+00000030 (c:\...\self_monitor.cpp, 113)
	condor_schedd!Scheduler::count_jobs+000006C1 (c:\...\schedd.cpp, 829)
</pre>
 <p>
  From this output it is clearly helpful to have both the system symbols and the application symbols, as they help provide an incredible useful context from which to start debugging.
 </p>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  Second Snapshot
 </h4>
 <p>
  Now we wait for a sign of the leak, or exercise the process in a way that is known to cause the leak in question.  Once we are sure that we have seen one or more instances of the leak, and then we take a second measurement:
 </p>
 <p>
 </p>
 <pre>  &gt; umdh -p:1234 -f:faucet-2.txt
</pre>
 <p>
  The leaky process can now be stopped and the analysis of the leak can begin.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Analysis
 </h3>
 <p>
  To understand a leak and where it is coming from can be a difficult exercise.  Fortunately, having enabled the user mode stack trace, we will be given the context in which the leak is occurring--provided we supplied the executable's symbols.
 </p>
 <p>
  To begin the analysis we must first determine what changes occurred between the periods defined by the two dumps we just made. To get this information, run the
  <code>
   umdh.exe
  </code>
  one last time, with a slight modification in its command-line:
 </p>
 <p>
 </p>
 <pre>  &gt; umdh faucet-1.txt faucet-2.txt &gt; faucet-diff.txt
</pre>
 <p>
  Now the contents of
  <code>
   faucet-diff.txt
  </code>
  will contain all memory leaks plus a stack trace which reflects the location where memory was allocated, but never subsequently freed.
 </p>
 <p>
  The output here looks similar to that of the output we saw in the first dump with its symbols resolved, but in this case it represent the difference between the two points of measurement (again, the output has been altered to fit the screen):
 </p>
 <p>
 </p>
 <pre>  +      18 (    30 -    18)      2 allocs	BackTrace1C62924
  +       1 (     2 -     1)	BackTrace1C62924	allocations
</pre>
 <p>
 </p>
 <pre>	ntdll!RtlAllocateHeap+000001FE
	condor_schedd!malloc+00000079 (f:\...\crt\src\malloc.c, 163)
	condor_schedd!operator new+0000001F (f:\...\crt\src\new.cpp, 59)
	condor_schedd!ParseFactor+0000011D (c:\...\classad.old\parser.cpp, 181)
	condor_schedd!ParseMultOp+00000017 (c:\...\classad.old\parser.cpp, 361)
	condor_schedd!ParseAddOp+00000017 (c:\...\classad.old\parser.cpp, 422)
	condor_schedd!ParseEqualityOp+00000017 (c:\...\classad.old\parser.cpp, 509)
	condor_schedd!ParseSimpleExpr+00000017 (c:\...\classad.old\parser.cpp, 579)
	condor_schedd!ParseAndExpr+00000017 (c:\...\classad.old\parser.cpp, 616)
	condor_schedd!ParseExpr+00000017 (c:\...\classad.old\parser.cpp, 652)
	condor_schedd!ParseAssignExpr+00000024 (c:\...\classad.old\parser.cpp, 686)
	condor_schedd!Parse+00000026 (c:\...\classad.old\parser.cpp, 727)
	condor_schedd!AttrList::Insert+00000017 (c:\...\classad.old\attrlist.cpp, 839)
	condor_schedd!AttrList::Assign+00000062 (c:\...\classad.old\attrlist.cpp, 2767)
	condor_schedd!SelfMonitorData::ExportData+00000030 (c:\...\self_monitor.cpp, 113)
	condor_schedd!Scheduler::count_jobs+000006C1 (c:\...\schedd.cpp, 829)
</pre>
 <p>
  Here we have not found a leak, which is good, but this does illustrate how useful the
  <code>
   umdh.exe
  </code>
  command can be when one suspects a leak.
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Conclusion
 </h2>
 <p>
  While short, this tutorial should enable any Windows programmer to identify, track down and eliminate any heap-based memory leaks.  While the above instructions will not automajically fix or find leaks, they will give any programmer a good place to start.
 </p>
 <p>
  TODO: Write a leaking application to show the actual benefit of this application.
 </p>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-4 d-none d-lg-flex">
                <img class="my-auto" height="65" alt="Condor High Throughput Computing" src="/web-preview/preview-2021_01_28_Updates/assets/images/HTCondor_red_blk.svg" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-2021_01_28_Updates/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-2021_01_28_Updates/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-2021_01_28_Updates/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="px-3 d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-2021_01_28_Updates/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-2021_01_28_Updates/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-2021_01_28_Updates/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

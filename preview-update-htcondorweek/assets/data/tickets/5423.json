{"id": 5423, "title": "Ticket #5423: merge osg rpm spec changes", "description": "<blockquote>\nOSG has been maintaining its own condor.spec for a while due to patches we carry.  Now that we've dropped all patches, we'd like to do a strict pass-through build, which means getting our osg-specific changes upstream.\n\n<p>The main one is an issue where the .so files for the python bindings do not automatically get picked up and listed for Provides for rhel7.  This does not appear to be an issue in the UW builds though, and we haven't tracked down why.  So we just add the Provides lines for non-uw_build rhel7.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Dec-01 14:56:33 by edquist:</em> <br/>\n\nChanges checked in on branch V8_4-gt5423, assigned to Tim T for review.\n\n<p></p><hr/>\n<em>2015-Dec-02 13:21:06 by tim:</em> <br/>\n\n<strong>CODE REVIEW:</strong> Thank you for the update. I have tested the changes and they do not affect the UW RPMs at all.\n\n<p></p><hr/>\n<em>2015-Dec-02 13:21:37 by tim:</em> <br/>\n\nNo version history. Only merging downstream changes.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-19 11:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5fd992d296f94134e7c46edd2bc7dcae78bb8989\">[49223]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5423\" onclick=\"get_ticket_and_populate_wrapper('5423'); return false;\" title=\"merge osg rpm spec changes\">#5423</a></span>) Turn on CREAM build for OSG  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-09 18:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3c7fc2b115d479c5916f3d9b36481a2ebaf2a16b\">[46571]</a></span>: disable cream, std_univ, aviary for OSG in EL7 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5423\" onclick=\"get_ticket_and_populate_wrapper('5423'); return false;\" title=\"merge osg rpm spec changes\">#5423</a></span> OSG can't build with these yet in EL7.  (By Carl Edquist )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-01 14:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/200390d68d1244c33ec49ab0735d8c88fb0bf671\">[46318]</a></span>: list <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BuildRequires\" title=\"Build Requires\">BuildRequires</a></span> for perl(Digest::MD5) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5423\" onclick=\"get_ticket_and_populate_wrapper('5423'); return false;\" title=\"merge osg rpm spec changes\">#5423</a></span> Prior to el7, the Digest::MD5 module was provided by the main 'perl' rpm, but in el7 it comes in a separate package, which is not part of a default koji buildroot.  (By Carl Edquist )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-01 14:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7cd4f1d427d49fc6a501d7a6389579657518f7bd\">[46317]</a></span>: explicitly list Provides for .so's in condor-python for rhel7 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5423\" onclick=\"get_ticket_and_populate_wrapper('5423'); return false;\" title=\"merge osg rpm spec changes\">#5423</a></span> The classad.so and htcondor.so for the python bindings don't get picked up automatically in the rhel7 osg koji builds. It's not clear why. This does not appear to be an issue for the official uw_builds.  (By Carl Edquist )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Dec-02 13:21", "status": "resolved", "created": "2015-Dec-01 14:49", "fixed_version": "2015-Dec-01 14:49", "broken_version": "", "priority": "4", "subsystem": "Packaging", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "edquist@cs.wisc.edu", "due_date": ""}
{"id": 3910, "title": "Ticket #3910: python-bindings segfaul when evaluating ExprTree with an undefined ref", "description": "<blockquote>\nThe following python code currently crashes:\n\n<p></p><div class=\"verbatim\">\n<pre>classad.ExprTree(\"foo\").eval()\n</pre></div>\n\n\n<p>Judging from the stack trace, probably due to trying to evaluate the invalid ref.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Sep-12 09:02:17 by bbockelm:</em> <br/>\n\nTimT -- can you make sure 35cc8abb1979b8caf3bc9b1116fab60197015c2b is reviewed and is committed to the stable series?  The other commit can stay with the dev series.\n\n<p>I'm putting fixed version as 8.1.2\n\n</p><p></p><hr/>\n<em>2013-Oct-28 14:00:05 by tim:</em> <br/>\n\n<strong>Code Review</strong> looks good\n\n<p>Cherry picked the bug fix back to 8.0.5</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-31 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ba6bd590cbfee41cc6a58e238fa783ee37436099\">[38041]</a></span>: add 8.0.5 version history item for cherry picked bug fix <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3910\" onclick=\"get_ticket_and_populate_wrapper('3910'); return false;\" title=\"python-bindings segfaul when evaluating ExprTree with an undefined ref\">#3910</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-31 09:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/af5c5cb7790f92801a4cee738a8c9385f7cfb178\">[38039]</a></span>: add 8.1.2 version history item for Python bindings crash <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3910\" onclick=\"get_ticket_and_populate_wrapper('3910'); return false;\" title=\"python-bindings segfaul when evaluating ExprTree with an undefined ref\">#3910</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-23 16:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/43fa7e9d7c71ecee1704af330d42347e4d4ad2e5\">[37967]</a></span>: Do not segfault in libclassad if there is no state. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3910\" onclick=\"get_ticket_and_populate_wrapper('3910'); return false;\" title=\"python-bindings segfaul when evaluating ExprTree with an undefined ref\">#3910</a></span> (cherry picked from commit 35cc8abb1979b8caf3bc9b1116fab60197015c2b) Committer: Tim Theisen  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-12 08:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cf4cf73906f7726d68adda93c22a432ab02d8a55\">[37561]</a></span>: Allow the user to specify an eval scope. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3910\" onclick=\"get_ticket_and_populate_wrapper('3910'); return false;\" title=\"python-bindings segfaul when evaluating ExprTree with an undefined ref\">#3910</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-12 08:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/35cc8abb1979b8caf3bc9b1116fab60197015c2b\">[37560]</a></span>: Do not segfault in libclassad if there is no state. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3910\" onclick=\"get_ticket_and_populate_wrapper('3910'); return false;\" title=\"python-bindings segfaul when evaluating ExprTree with an undefined ref\">#3910</a></span>  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Oct-31 09:39", "status": "resolved", "created": "2013-Sep-12 07:57", "fixed_version": "2013-Sep-12 07:57", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "tim", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
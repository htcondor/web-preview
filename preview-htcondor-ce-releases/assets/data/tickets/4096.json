{"id": 4096, "title": "Ticket #4096: condor_status -t only works as last option", "description": "<blockquote>\nReported: 8.0, may be older.\n\n<p>Reproduced by adesmet in 8.0.0 and 8.1.0 Jun 25 2013 BuildID: UW_development PRE-RELEASE-UWCS  (There was hope that recent cleanup in argument parsing in 8.1 might fix the bug as a side effect. It didn't.)\n\n</p><p>The -t option to condor_status must be the last option, although -total works in any position.\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">% condor_status -t -pool condor\n% condor_status -pool condor -t\n                     Total Owner Claimed Unclaimed Matched Preempting Backfill\n\n         INTEL/LINUX    56    12       1        43       0          0        0\n        X86_64/LINUX  1356   385      84       887       0          0        0\n\n               Total  1412   397      85       930       0          0        0\n% condor_status -total -pool condor\n                     Total Owner Claimed Unclaimed Matched Preempting Backfill\n\n         INTEL/LINUX    56    12       1        43       0          0        0\n        X86_64/LINUX  1356   385      84       887       0          0        0\n\n               Total  1412   397      85       930       0          0        0\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2013-Nov-22 14:41:36 by adesmet:</em> <br/>\n\nThe command line options -totals and -target were conflicting.  -totals was earlier, so it gets to win.  Also -totals is tested in both the first and second passes, and in the other pass it was already requiring a longer match, suggesting it should require the more complete argument.\n\n<p>One line fix on V8_0-4096-branch as c7053a716ded2fe7e7ad211850bb9bfe26b7bda8  <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c7053a716ded2fe7e7ad211850bb9bfe26b7bda8\">[38823]</a></span>, requires review.\n\n</p><p>The argument parsing code in condor_status really should be burned to the ground, but that's a different ticket.\n\n</p><p></p><hr/>\n<em>2013-Nov-22 15:16:11 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>This change looks good.\n\n</p><p></p><hr/>\n<em>2013-Nov-22 15:34:49 by adesmet:</em> <br/>\n\nMerged into V8_0-branch as c7053a716ded2fe7e7ad211850bb9bfe26b7bda8</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-27 12:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3d53d423dd56304316bafd7cfa9ca9aada29095d\">[38872]</a></span>: Edit 8.0.5 version history item, and add (missing) description of -target option to condor_status manual page <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=4096\" onclick=\"get_ticket_and_populate_wrapper('4096'); return false;\" title=\"condor_status -t only works as last option\">#4096</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-22 15:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/828b48e29e44e6e1686a9b5ecdf4073780895f74\">[38825]</a></span>: Document condor_status -t fix <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=4096\" onclick=\"get_ticket_and_populate_wrapper('4096'); return false;\" title=\"condor_status -t only works as last option\">#4096</a></span>  (By Alan De Smet )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-22 14:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c7053a716ded2fe7e7ad211850bb9bfe26b7bda8\">[38823]</a></span>: -target option must match more characters <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=4096\" onclick=\"get_ticket_and_populate_wrapper('4096'); return false;\" title=\"condor_status -t only works as last option\">#4096</a></span> The command line options -totals and -target were conflicting. -totals was earlier, so it gets to win (and other code suggests that it was intended to fine.) Fixed.  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Nov-25 15:01", "status": "defer", "created": "2013-Nov-22 14:38", "fixed_version": "2013-Nov-22 14:38", "broken_version": "v080000", "priority": "5", "subsystem": "Tools", "assigned_to": "adesmet", "derived_from": "#3719", "creator": "adesmet", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": ""}
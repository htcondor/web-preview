{"id": 6358, "title": "Ticket #6358: when using afs keyring sessions, condor_aklog changes ring id", "description": "<blockquote>\nRunning condor_aklog multiple times would change the keyring ID of the htcondor_uidXXX keyring linked to the root uid keyring.  The HTCondor UID switching code (PRIV_USER) was then unable to link AFS credentials because it caches the keyring ID associated with the last used UID.\n\n<p>It turns out that the 'S'earch bit is not set by default on keyring permissions in RHEL7.\n\n</p><p>We modified condor_aklog to set the permissions appropriately.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-02 16:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/23c8a201c14a5745d8cbefac45646332d29832a4\">[51987]</a></span>: Modified condor_aklog to properly set permissions (specifically search) for the keyring linked to the root uid keyring. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6358\" onclick=\"get_ticket_and_populate_wrapper('6358'); return false;\" title=\"when using afs keyring sessions, condor_aklog changes ring id\">#6358</a></span>  (By zmiller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Aug-02 16:12", "status": "resolved", "created": "2017-Aug-02 16:05", "fixed_version": "2017-Aug-02 16:05", "broken_version": "v080700", "priority": "2", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "", "creator": "zmiller", "rust": "", "customer_group": "cern", "visibility": "public", "notify": "", "due_date": "20170804"}
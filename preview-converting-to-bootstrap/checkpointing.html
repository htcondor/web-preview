<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Checkpointing</title>

    <script src="/web-preview/preview-converting-to-bootstrap/assets/js/sitewide.js" type="text/javascript" defer></script>

    

    <meta name="robots" content="noindex">
    <script src="/web-preview/preview-converting-to-bootstrap/assets/js/bootstrap.js" type="text/javascript"></script>

    

    <link href="/web-preview/preview-converting-to-bootstrap/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-converting-to-bootstrap/index.html"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-converting-to-bootstrap/assets/images/CondorTitle.gif" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-converting-to-bootstrap/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-converting-to-bootstrap/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-converting-to-bootstrap/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-converting-to-bootstrap/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>Checkpointing</h1>
<hr noshade>
<h3>Overview</h3>

<p>The ability to cause a job to <em>vacate</em> a non-idle
workstation and <em>migrate</em> to an idle workstation is central to
HTCondor’s job scheduling.
To allow these migrating jobs to continue their progress,
HTCondor must be able to continue a vacated job without
a complete loss of computation time.
HTCondor does this by using a <em>checkpoint</em>
of a job’s state.
A checkpoint is generated just before a job vacates
a machine.
The checkpoint is then used 
as a starting point for the job after migration.</p>

<p>HTCondor gives a program the
ability to checkpoint itself by providing a checkpointing library
which contains a signal handler for SIGTSTP, the HTCondor checkpoint
signal.  When a HTCondor job receives a checkpoint signal, it writes a
checkpoint file, which contains the process’s data and stack segments,
as well as information about open files, pending signals, and CPU
state.  When the job is restarted, the state contained in the
checkpoint file is restored (by startup code in the checkpoint
library) and the process resumes the computation at the point
where the checkpoint was generated.
Programs submitted to be run by the HTCondor system are re-linked (but not
re-compiled) to include this library.</p>

<p>A technical description of the checkpointing and process migration
mechanisms implemented in HTCondor is given in this
<a href="doc/ckpt97.ps">technical report</a>.</p>

<h3>Standalone Checkpointing</h3>

<p>The HTCondor distribution includes a checkpointing library, 
to provide checkpoints for Unix
processes that are not submitted for execution under HTCondor.
Information on using standalone checkpointing is available
in Chapter 4, section 2, of the
<a href="manual/v6.4/">6.4 manual</a>.</p>

<h3>Periodic Checkpointing</h3>

<p>In addition to writing a checkpoint at vacate time, HTCondor can be
configured to write checkpoints periodically while the job is
executing, to provide additional reliability.</p>

<h3>Checkpoint Server</h3>

<p>By default, a checkpoint is written to a file on the local disk of the
machine where the job was submitted.  A checkpoint server has been
developed to serve as a repository for checkpoints.  When a host is
configured to use a checkpoint server, jobs submitted on that machine
write and read checkpoints to and from the server rather than the
local disk of the submitting machine, taking the burden of storing
checkpoint files off of the submitting machines and placing it instead
on server machines (with disk space dedicated to the purpose of
storing checkpoints).</p>

<h3>Other Checkpointing Resources</h3>

<ul>
<li>
<a href="http://www.cs.utk.edu/~plank/ckp.html">Checkpointing Research at the University of Tennessee</a>
</li>
</ul>


</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

<html><head><TITLE>MWIndRC</TITLE></head>
<body>
<H2><A HREF ="#DOC.DOCU" > <IMG BORDER=0 SRC=down.gif></A>  class  MWIndRC : public MWRMComm </H2><BLOCKQUOTE>
This class is an derived from the Resource Management (RM) and
Communication (Comm) layer
</BLOCKQUOTE>
<hr>
 <h2> Inheritance:</h2>
<APPLET CODE="ClassGraph.class" WIDTH=600 HEIGHT=65>
<param name=classes value="MMWRMComm,M,CMWIndRC,MMWIndRC.html">
<param name=before value="M,M">
<param name=after value="Md_,M">
<param name=indent value="0,1">
<param name=arrowdir value="down">
</APPLET>
<hr>

<DL>
<DL>
<DT><h3>Public Methods</h3><DD><DT><A HREF="#DOC.4.1"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>MWIndRC</B>() </B>
 <DD><I>Constructor</I>
<DT><A HREF="#DOC.4.7"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>~MWIndRC</B>() </B>
 <DD><I>Destructor...</I>
</DL><DL>
<DT><h3>Public</h3><DD><DT><A HREF="#DOC.4.2"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>A. Resource Management Functions</B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.2.1"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>exit</B>( int exitval ) </B>
 <DD><I>System shutdown</I>
<DT><A HREF="#DOC.4.2.2"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>setup</B>( int argc, char* argv[], int *my_id, int *master_id) </B>
 <DD><I>Initialization of the master process</I>
<DT><A HREF="#DOC.4.2.6"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>config</B>( int *nhosts, int *narches, <!1><A HREF="MWWorkerID.html">MWWorkerID</A> ***w ) </B>
 <DD><I>What is there to configure? Nothing</I>
<DT><A HREF="#DOC.4.2.3"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>start_worker</B>( <!1><A HREF="MWWorkerID.html">MWWorkerID</A> *w ) </B>
 <DD><I>Just init the workerID to a worker</I>
<DT><A HREF="#DOC.4.2.4"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>init_beginning_workers</B>( int *nworkers, <!1><A HREF="MWWorkerID.html">MWWorkerID</A> ***workers ) </B>
 <DD><I>This routine is used to start up multiple workers at 
the beginning of a run</I>
<DT><A HREF="#DOC.4.2.5"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>removeWorker</B>( <!1><A HREF="MWWorkerID.html">MWWorkerID</A> *w ) </B>
 <DD><I>Remove a worker from the virtual machine</I>

</DL>
<DT><A HREF="#DOC.4.3"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>B. Checkpointing Functions </B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.3.1"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>read_RMstate</B>( FILE *fp ) </B>
 <DD><I>Do nothing </I>

</DL>
<DT><A HREF="#DOC.4.5"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>The Communication Routines</B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.5.1"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>initsend</B>( int encoding = 0 ) </B>
 <DD><I>Initialize a buffer for sending some data</I>
<DT><A HREF="#DOC.4.5.2"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>send</B>( int to_whom, int msgtag ) </B>
 <DD><I>Send the data that has been packed</I>
<DT><A HREF="#DOC.4.5.3"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>recv</B>( int from_whom, int msgtag ) </B>
 <DD><I>Receive some data that has been packed</I>
<DT><A HREF="#DOC.4.5.6"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>bufinfo</B>( int buf_id, int *len, int *tag, int *from ) </B>
 <DD><I>Provide info on the message just received </I>
<DT><A HREF="#DOC.4.5.4"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>Pack Functions</B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.5.4.1"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( char *bytes, int nitem, int stride = 1 ) </B>
 <DD><I>Pack some bytes</I>
<DT><A HREF="#DOC.4.5.4.2"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( float *f, int nitem, int stride = 1 ) </B>
 <DD><I>float</I>
<DT><A HREF="#DOC.4.5.4.3"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( double *d, int nitem, int stride = 1 ) </B>
 <DD><I>double</I>
<DT><A HREF="#DOC.4.5.4.4"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( int *i, int nitem, int stride = 1 ) </B>
 <DD><I>int</I>
<DT><A HREF="#DOC.4.5.4.5"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( unsigned int *ui, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned int</I>
<DT><A HREF="#DOC.4.5.4.6"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( short *sh, int nitem, int stride = 1 ) </B>
 <DD><I>short</I>
<DT><A HREF="#DOC.4.5.4.7"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( unsigned short *ush, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned short</I>
<DT><A HREF="#DOC.4.5.4.8"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( long *l, int nitem, int stride = 1 ) </B>
 <DD><I>long</I>
<DT><A HREF="#DOC.4.5.4.9"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( unsigned long *ul, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned long</I>
<DT><A HREF="#DOC.4.5.4.10"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>pack</B>( char *string ) </B>
 <DD><I>Pack a NULL-terminated string</I>

</DL>
<DT><A HREF="#DOC.4.5.5"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>Unpack Functions</B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.5.5.1"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( char *bytes, int nitem, int stride = 1 ) </B>
 <DD><I>Unpack some bytes</I>
<DT><A HREF="#DOC.4.5.5.2"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( float *f, int nitem, int stride = 1 ) </B>
 <DD><I>float</I>
<DT><A HREF="#DOC.4.5.5.3"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( double *d, int nitem, int stride = 1 ) </B>
 <DD><I>double</I>
<DT><A HREF="#DOC.4.5.5.4"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( int *i, int nitem, int stride = 1 ) </B>
 <DD><I>int</I>
<DT><A HREF="#DOC.4.5.5.5"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( unsigned int *ui, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned int</I>
<DT><A HREF="#DOC.4.5.5.6"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( short *sh, int nitem, int stride = 1 ) </B>
 <DD><I>short</I>
<DT><A HREF="#DOC.4.5.5.7"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( unsigned short *ush, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned short</I>
<DT><A HREF="#DOC.4.5.5.8"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( long *l, int nitem, int stride = 1 ) </B>
 <DD><I>long</I>
<DT><A HREF="#DOC.4.5.5.9"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( unsigned long *ul, int nitem, int stride = 1 ) </B>
 <DD><I>unsigned long</I>
<DT><A HREF="#DOC.4.5.5.10"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>unpack</B>( char *string ) </B>
 <DD><I>Unpack a NULL-terminated string</I>

</DL>

</DL>
</DL><DL>
<DT><h3>Protected</h3><DD><DT><A HREF="#DOC.4.4"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>D. Host Management Members </B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.4.4.1"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>hostaddlogic</B>( int *num_workers ) </B>
 <DD><I>This will figure out if we need to ask for more hosts
or remove hosts</I>

</DL>
</DL><DL>
<DT><h3>Private Fields</h3><DD><DT><A HREF="#DOC.4.6"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>served</B> </B>
 <DD><I>What was last served </I>
</DL></DL>
<A NAME="DOC.DOCU">
<hr>
 <h2> Documentation </h2>
<BLOCKQUOTE>
This class is an derived from the Resource Management (RM) and
Communication (Comm) layer. In MW-Ind, there is just one worker and one master
and both are on the same machine. And not just that both are same process!!
Send and Recv are merely memcpy. This class I deem is useful for debugging purposes.
The api etc all will remain the same when using this layer. All the user has to do
is to compile it with the INDEPENDENT flag and use this as the RMComm layer. See into
the fibonacci example for more details on the makefile. And then just launch the 
application as a process. That's it.

</BLOCKQUOTE>
<DL>

<A NAME="served">
<A NAME ="DOC.4.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  served</B></TT>
<DD>What was last served 
<DL></DL><P>
<A NAME="MWIndRC">
<A NAME ="DOC.4.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  MWIndRC()</B></TT>
<DD>Constructor.  Sets data to -1's. 
<DL></DL><P>
<A NAME="~MWIndRC">
<A NAME ="DOC.4.7">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  ~MWIndRC()</B></TT>
<DD>Destructor...
<DL></DL><P>
<A NAME="A. Resource Management Functions">
<A NAME ="DOC.4.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  A. Resource Management Functions</B></TT>
<DD>
Here are all the methods you could want to have for managing 
a set of machines.  See each method for details...
<DL></DL><P><DL>

<A NAME="exit">
<A NAME ="DOC.4.2.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  exit( int exitval )</B></TT>
<DD>System shutdown.  Does not return.  

<DL><DT><B>Parameters:</B><DD><B>exitval</B> -  The value to call ::exit() with <br></DL><P>
<A NAME="setup">
<A NAME ="DOC.4.2.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  setup( int argc, char* argv[], int *my_id, int *master_id)</B></TT>
<DD>Initialization of the master process.  This will be called
one time only when the master starts up.  

<DL><DT><B>Returns:</B><DD>0 on success, -1 on failure
</DL><P>
<A NAME="config">
<A NAME ="DOC.4.2.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  config( int *nhosts, int *narches, <!1><A HREF="MWWorkerID.html">MWWorkerID</A> ***w )</B></TT>
<DD>What is there to configure? Nothing
<DL></DL><P>
<A NAME="start_worker">
<A NAME ="DOC.4.2.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  start_worker( <!1><A HREF="MWWorkerID.html">MWWorkerID</A> *w )</B></TT>
<DD>Just init the workerID to a worker. This is an idempotent function.
<DL></DL><P>
<A NAME="init_beginning_workers">
<A NAME ="DOC.4.2.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  init_beginning_workers( int *nworkers, <!1><A HREF="MWWorkerID.html">MWWorkerID</A> ***workers )</B></TT>
<DD>This routine is used to start up multiple workers at 
the beginning of a run.  In MW-Ind there is no initial worker.
Simply return 0.
<DL></DL><P>
<A NAME="removeWorker">
<A NAME ="DOC.4.2.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  removeWorker( <!1><A HREF="MWWorkerID.html">MWWorkerID</A> *w )</B></TT>
<DD>Remove a worker from the virtual machine.  MW-Ind has 
no concept of host management. Hence all are null.
<DL></DL><P></DL>

<A NAME="B. Checkpointing Functions ">
<A NAME ="DOC.4.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  B. Checkpointing Functions </B></TT>
<DL></DL><P><DL>

<A NAME="read_RMstate">
<A NAME ="DOC.4.3.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  read_RMstate( FILE *fp )</B></TT>
<DD>Do nothing 
<DL></DL><P></DL>

<A NAME="D. Host Management Members ">
<A NAME ="DOC.4.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  D. Host Management Members </B></TT>
<DL></DL><P><DL>

<A NAME="hostaddlogic">
<A NAME ="DOC.4.4.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  hostaddlogic( int *num_workers )</B></TT>
<DD>This will figure out if we need to ask for more hosts
or remove hosts.  In MW-Ind version there is just one worker.
So this function is NULL.
<DL></DL><P></DL>

<A NAME="The Communication Routines">
<A NAME ="DOC.4.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  The Communication Routines</B></TT>
<DD>These communication primitives use memcpy as the communication
mechanism for the transfer of data.

<DL></DL><P><DL>

<A NAME="initsend">
<A NAME ="DOC.4.5.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  initsend( int encoding = 0 )</B></TT>
<DD>Initialize a buffer for sending some data
<DL><DT><B>Parameters:</B><DD><B>encoding</B> -  Defined by each application.  0 = default <br></DL><P>
<A NAME="send">
<A NAME ="DOC.4.5.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  send( int to_whom, int msgtag )</B></TT>
<DD>Send the data that has been packed. 

<DL><DT><B>Parameters:</B><DD><B>to_whom</B> -  An identifier for the recipient
<br><B>msgtag</B> -  A 'tag' to identify that type of message <br></DL><P>
<A NAME="recv">
<A NAME ="DOC.4.5.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  recv( int from_whom, int msgtag )</B></TT>
<DD>Receive some data that has been packed.  Just a memcpy

<DL><DT><B>Parameters:</B><DD><B>from_whom</B> -  From a specific source; -1 is from all
<br><B>msgtag</B> -  With a certain tag; -1 is all. <br></DL><P>
<A NAME="bufinfo">
<A NAME ="DOC.4.5.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  bufinfo( int buf_id, int *len, int *tag, int *from )</B></TT>
<DD>Provide info on the message just received 
<DL></DL><P>
<A NAME="Pack Functions">
<A NAME ="DOC.4.5.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  Pack Functions</B></TT>
<DD>
In the following pack() functions, there are some common themes.
First, each stuffs some data into a buffer to be sent.  The
nitem parameter is just a count of the number of items.  The 
stride parameter specifies *which* items to pack.  1 implies
all, 2 would be every 2nd item, 3 is every 3rd item, etc. <P>The return value is user defined.  It should be standardized, 
but I'll do that later.
<DL></DL><P><DL>

<A NAME="pack">
<A NAME ="DOC.4.5.4.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( char *bytes, int nitem, int stride = 1 )</B></TT>
<DD>Pack some bytes
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( float *f, int nitem, int stride = 1 )</B></TT>
<DD>float
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( double *d, int nitem, int stride = 1 )</B></TT>
<DD>double
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( int *i, int nitem, int stride = 1 )</B></TT>
<DD>int
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( unsigned int *ui, int nitem, int stride = 1 )</B></TT>
<DD>unsigned int
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( short *sh, int nitem, int stride = 1 )</B></TT>
<DD>short
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.7">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( unsigned short *ush, int nitem, int stride = 1 )</B></TT>
<DD>unsigned short
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.8">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( long *l, int nitem, int stride = 1 )</B></TT>
<DD>long
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.9">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( unsigned long *ul, int nitem, int stride = 1 )</B></TT>
<DD>unsigned long
<DL></DL><P>
<A NAME="pack">
<A NAME ="DOC.4.5.4.10">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  pack( char *string )</B></TT>
<DD>Pack a NULL-terminated string
<DL></DL><P></DL>

<A NAME="Unpack Functions">
<A NAME ="DOC.4.5.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  Unpack Functions</B></TT>
<DD>
These unpack functions unpack data packed with the pack() 
functions.  See the pack() functions for more details.

<DL></DL><P><DL>

<A NAME="unpack">
<A NAME ="DOC.4.5.5.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( char *bytes, int nitem, int stride = 1 )</B></TT>
<DD>Unpack some bytes
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( float *f, int nitem, int stride = 1 )</B></TT>
<DD>float
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( double *d, int nitem, int stride = 1 )</B></TT>
<DD>double
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( int *i, int nitem, int stride = 1 )</B></TT>
<DD>int
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( unsigned int *ui, int nitem, int stride = 1 )</B></TT>
<DD>unsigned int
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( short *sh, int nitem, int stride = 1 )</B></TT>
<DD>short
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.7">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( unsigned short *ush, int nitem, int stride = 1 )</B></TT>
<DD>unsigned short
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.8">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( long *l, int nitem, int stride = 1 )</B></TT>
<DD>long
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.9">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( unsigned long *ul, int nitem, int stride = 1 )</B></TT>
<DD>unsigned long
<DL></DL><P>
<A NAME="unpack">
<A NAME ="DOC.4.5.5.10">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  unpack( char *string )</B></TT>
<DD>Unpack a NULL-terminated string
<DL></DL><P></DL>
</DL>
</DL>
<hr>
 <DL><DT><B>This class has no child classes.</B></DL>
<DL></DL><P><I><A HREF="aindex.html"> alphabetic index</A></I>  <I><A HREF="HIER.html"> hierarchy of classes</A></I><P></BODY><hr>
<A HREF="http://www.zib.de/Visual/software/doc++/index.html"><IMG BORDER=0 ALIGN=RIGHT SRC=logo.gif></A>
<P Align=Center><I>this page has been generated automatically by doc++
<P Align=Center>(c)opyright by <A HREF="http://www.zib.de/zoeckler/"> Malte  Z&oumlckler</A>, <A HREF="mailto:wunderling@zib.de"> Roland Wunderling </A><br>contact: <A HREF="mailto:doc++@zib.de"> doc++@zib.de </a>
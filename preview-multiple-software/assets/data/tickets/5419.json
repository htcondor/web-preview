{"id": 5419, "title": "Ticket #5419: PreCmd / PostCmd should behave more like condor_dagman", "description": "<blockquote>\nThis URI describes the problems I have in recommending the use of PreCmd/PostCmd in condor_submit as an alternative to PRE and POST scripts in condor_dagman. I prefer to avoid DAG PRE/POST scripts as they run on the submit host itself and are therefore, for any scripts of modest CPU utilization, act as a rate limiter for large DAGs.\n\n<p><a class=\"external\" href=\"https://spinningmatt.wordpress.com/2012/10/29/pre-and-post-job-scripts/\">https://spinningmatt.wordpress.com/2012/10/29/pre-and-post-job-scripts/</a>\n\n</p><p>Problems:\n\n</p><p></p><ol>\n<li>Must buy-in fully to condor file transfer. Cannot specify absolute path to pre/post cmd.\n</li><li>should_transfer_files = if_needed does not recognize that you have added PreCmd/PostCmd to the submit file. Only \"yes\" will transfer the files. Maybe this isn't a bug, but it's not what I expected.\n</li><li>Exit code behavior is not the same as a DAG PRE/POST script in that the job will run even if the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PreCmd\" title=\"Pre Cmd\">PreCmd</a></span> exits with a failure. Ditto for exiting queue when <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PostCmd\" title=\"Post Cmd\">PostCmd</a></span> fails.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2015-Nov-30 11:56", "status": "new", "created": "2015-Nov-30 11:55", "fixed_version": "2015-Nov-30 11:55", "broken_version": "v080210", "priority": "3", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "tpdownes", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
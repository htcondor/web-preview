{"id": 6039, "title": "Ticket #6039: Daemon client should ignore LOCALNAME param prefix when self==subsys", "description": "<blockquote>\nWhen a daemon with a LOCALNAME (say the VIEW_COLLECTOR) tries to instantiate a Daemon object, we want to ignore LOCALNAME overrides while initializing those objects when the daemon we are trying to lookup has the same subsystem as we do.  Otherwise a VIEW_COLLECTOR that tries to lookup the COLLECTOR_ADDRESS_FILE ends up getting the VIEW_COLLECTOR.COLLECTOR_ADDRESS_FILE instead.\n\n<p>This is part of the general cleanup of the mechanisms for creating secondary daemons like view collectors and secondary schedds.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Dec-03 13:49:30 by johnkn:</em> <br/>\n\nToddT thinks it is desirable that the View_collector fails to send its ad to the configured COLLECTOR_HOST when that collector is on the same machine as it is. So the commit was reverted.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-05 15:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c6759828aefb02b7625c900602f02bc31f29389\">[49738]</a></span>: Revert \"for <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=6039\" onclick=\"get_ticket_and_populate_wrapper('6039'); return false;\" title=\"Daemon client should ignore LOCALNAME param prefix when self==subsys\">#6039</a></span>, ignore LOCALNAME.* overrides in the when looking up &lt;subsys&gt;_ADDRESS_FILE, and &lt;subsys&gt; is ourself.\" This reverts commit 3fd2571fe27e81419201b559a3a4c135d227f501.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Dec-03 18:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3fd2571fe27e81419201b559a3a4c135d227f501\">[49719]</a></span>: for <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=6039\" onclick=\"get_ticket_and_populate_wrapper('6039'); return false;\" title=\"Daemon client should ignore LOCALNAME param prefix when self==subsys\">#6039</a></span>, ignore LOCALNAME.* overrides in the when looking up &lt;subsys&gt;_ADDRESS_FILE, and &lt;subsys&gt; is ourself. We do this so that the VIEW_COLLECTOR can find the COLLECTOR. ===VersionHistory:Pending=== or maybe none?  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jan-11 10:02", "status": "abandoned", "created": "2016-Dec-03 13:48", "fixed_version": "2016-Dec-03 13:48", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "#5768", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 1636, "title": "Ticket #1636: Report operating system, distribution, and version in world ads", "description": "<blockquote>\nProblem: We have no idea what our users are actually running Condor on. Condor may report \"x86 RHEL3\", but that's not terribly helpful since the RHEL3 binaries run on a wide variety of actual distributions. This makes it hard to determine which old platforms can be dropped, and which new platforms we should consider native ports for.\n\n<p>Proposal:\n\n</p><p></p><ol>\n<li>Add new logic to the condor_master to detect the operating system, distribution (if Linux), version of distribution, and architecture. This information should be added to the master ad. It might be something like \"ActualPlatform=Linux,Red Hat,5,x86\"\n\n<p></p></li><li>Add new logic to the condor_collector to collect this information up and add it to the world ad or world email. Something like \"ActualPlatforms=\"20,Linux,Red Hat,5,x86;7,Windows,Windows,6.1,x86\" for 20 RHEL5 boxes and 7 Windows Server 2008 boxes.\n</li></ol>\n\n<p>In addition to giving us a better sense of what our users are actually running for porting, it gives users an incentive to report world ads. The CONDOR_DEVELOPERS and CONDOR_DEVELOPERS_COLLECTOR documenation can have added to it, \"The Condor team uses this information to decide which platforms to support. If you disable this, the Condor team will not know what platforms you are using and will be unable to take it into consideration.\"\n\n</p><p>The task of doing OS/distribution/version detection is ticket <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=653\" onclick=\"get_ticket_and_populate_wrapper('653'); return false;\" title=\"Detect operating system, distribution, and version\">#653</a></span>; until that is at least partially done, we can't start this.\n\n</p><p>Once <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=653\" onclick=\"get_ticket_and_populate_wrapper('653'); return false;\" title=\"Detect operating system, distribution, and version\">#653</a></span> is implemented, we'll have a choice: does the master link in the detection code, or do we keep it in a separate binary that the master calls into.  A separate binary may help keep the master small, and provides a handy tool for user support (\"Please run condor_detect_os and tell me what it returns\").\n\n</p><p>(<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=653\" onclick=\"get_ticket_and_populate_wrapper('653'); return false;\" title=\"Detect operating system, distribution, and version\">#653</a></span> originally encompassed the above as well as development of the detection library. I'm breaking into smaller, more focused tickets.)</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:19:13 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 16:19", "status": "new", "created": "2010-Sep-02 11:51", "fixed_version": "2010-Sep-02 11:51", "broken_version": "v060000", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "#653", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
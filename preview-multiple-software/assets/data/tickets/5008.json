{"id": 5008, "title": "Ticket #5008: ssh_to_job should not run a login shell by default", "description": "<blockquote>\nThe intent is for the environment of ssh_to_job to be the same as the batch job. But looking at the code, it appears that the below environment variables are likely to be missing/different between a vanilla batch job and an ssh_to_job session.  Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4943\" onclick=\"get_ticket_and_populate_wrapper('4943'); return false;\" title=\"Include same environment variables in ssh_to_job as the batch job\">#4943</a></span> fixed part of the problem.  But in addition to the issues addressed in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4943\" onclick=\"get_ticket_and_populate_wrapper('4943'); return false;\" title=\"Include same environment variables in ssh_to_job as the batch job\">#4943</a></span>, ssh_to_job tends to have many more environment variables set than a batch job does because ssh_to_job initiates a login shell, and thus it picks up environment variables from the system's .profile and/or .bashrc.\n\n<p>We should have ssh_to_job just set the terminal related environment variables by default instead of initiating a login shell by default, and perhaps provide an command-line option to request a login shell.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2016-Nov-09 13:47", "status": "new", "created": "2015-Apr-16 14:10", "fixed_version": "2015-Apr-16 14:10", "broken_version": "", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "", "derived_from": "#4943", "creator": "tannenba", "rust": "", "customer_group": "users", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": ""}
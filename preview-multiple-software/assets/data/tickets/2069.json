{"id": 2069, "title": "Ticket #2069: spool directories are created for all submitted jobs", "description": "<blockquote>\nCommit <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9ca26b5983250ae0c94ed776e649c76a15a1ee08\">[21191]</a></span> for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1985\" onclick=\"get_ticket_and_populate_wrapper('1985'); return false;\" title=\"condor_submit -remote &lt;fails&gt;\">#1985</a></span> causes all submitted jobs to have a spool directory.  This circumvents optimizations in previous releases that only created spool directories when actually needed.  The main reason for wanting to optimize this is for HA schedd deployments where the spool is on a shared filesystem that makes spool directory operations fairly expensive.\n\n<p>The schedd previously used the function <code>jobIsSandboxed()</code> to decide whether to create a spool directory for a job or not.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Apr-18 17:59:41 by jfrey:</em> <br/>\n\nThe previous behavior of creating a spool directory only for jobs that require it has been restored.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-19 10:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6a61b7ed088853e585e5058e1bcc4dcc2047200e\">[26005]</a></span>: Add spool directory bug fix to version history. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2069\" onclick=\"get_ticket_and_populate_wrapper('2069'); return false;\" title=\"spool directories are created for all submitted jobs\">#2069</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-18 17:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/08961dc80b3616f4c282080b944037e9d058f913\">[21432]</a></span>: Don't create a spool directory for every job. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2069\" onclick=\"get_ticket_and_populate_wrapper('2069'); return false;\" title=\"spool directories are created for all submitted jobs\">#2069</a></span> Code changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1985\" onclick=\"get_ticket_and_populate_wrapper('1985'); return false;\" title=\"condor_submit -remote &lt;fails&gt;\">#1985</a></span> accidentally caused a spool directory to be created for all jobs that need a submit event log to be written by the schedd (either in the user log or the global event log). Here, we restore the previous behavior of only creating\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Apr-18 17:59", "status": "resolved", "created": "2011-Apr-18 17:19", "fixed_version": "2011-Apr-18 17:19", "broken_version": "v070600", "priority": "1", "subsystem": "", "assigned_to": "jfrey", "derived_from": "#1985", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "jfrey@cs.wisc.edu,dan@hep.wisc.edu", "due_date": ""}
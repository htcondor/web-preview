{"id": 3993, "title": "Ticket #3993: Replace rescue DAG with recovery mode?", "description": "<blockquote>\nToddT and I have talked about possibly replacing rescue DAGs with recovery mode, since rescue DAGs are really just an optimization.  That would mean we wouldn't have to maintain two separate mechanisms with similar functionality.\n\n<p>There are a few issues we need to think about:\n</p><ul>\n<li>Recovery mode is possibly more \"fragile\" -- the data in the node job log file(s) is wiped out if you start up in non-recovery mode.  (Possibly this could be dealt with by saving copies of the workflow log file.)\n</li><li>Startup would be slower (parsing the log file is slower than parsing a rescue DAG).  (We should quantify how much slower.)\n</li></ul>\n\n<p>If we do this (or maybe even if not) we should have some capability that replicates the '-do_rescue' flag -- maybe something like this:\n\n</p><p></p><pre>  condor_submit_dag -recovery &lt;workflow log file&gt; ...\n</pre>\n\n<p>time</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Oct-21 15:40:42 by pfc:</em> <br/>\n\nJust to be pedantic, rescue DAGs are not just an optimization -- they are also insurance.  There have been times when recovery failed but we were able to restart from a rescue DAG.  If we had <span class=\"ticket\"><a class=\"reviewdesign\" href=\"/wiki-archive/tickets/?ticket=3889\" onclick=\"get_ticket_and_populate_wrapper('3889'); return false;\" title=\"Periodically dump rescue DAG while continuing to run\">#3889</a></span> (or some other form of periodic DAG state \"backups\") then I would be comfortable considering rescue DAGs to be simply an optimization.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3994\" onclick=\"get_ticket_and_populate_wrapper('3994'); return false;\" title=\"Require DAGMan to run in workflow log mode?\">#3994</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRequire DAGMan to run in workflow log mode?</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Oct-21 15:40", "status": "new", "created": "2013-Oct-18 14:03", "fixed_version": "2013-Oct-18 14:03", "broken_version": "v080102", "priority": "4", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
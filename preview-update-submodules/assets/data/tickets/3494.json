{"id": 3494, "title": "Ticket #3494: Improve python bindings for 7.9.5", "description": "<blockquote>\nI'm writing my first web application based on python bindings.  Nothing fancy - we just need to replace an internal monitoring system.  I figured now would be a good time to switch from parsing stdout to the new bindings.\n\n<p>Along the way, I've found a few pieces of missing functionality.  For example, the classad object is missing equivalents to the \"get\" and \"setdefault\" methods.\n\n</p><p>This is a catch-all ticket for API improvements for the 7.9.5 release.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Feb-14 15:59:16 by nwp:</em> <br/>\n\nRemember to add these to the documentation.\n\n<p></p><hr/>\n<em>2013-Feb-15 09:55:59 by tstclair:</em> <br/>\n\nI would be interested in seeing the web-app if it's available.\n\n<p></p><hr/>\n<em>2013-Feb-15 10:00:40 by tstclair:</em> <br/>\n\nFYI a 'make clean' blasts the test targets, may want to alter the logic here.\n\n<p></p><div class=\"code\">\n<pre class=\"code\">add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/tests/classad_tests.py COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/tests/classad_tests.py ${CMAKE_CURRENT_BINARY_DIR}/tests/classad_tests.py )\n    add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/tests/htcondor_tests.py COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/tests/htcondor_tests.py ${CMAKE_CURRENT_BINARY_DIR}/tests/htcondor_tests.py )\n    add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/tests/test.old.ad COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/tests/test.old.ad ${CMAKE_CURRENT_BINARY_DIR}/tests/test.old.ad )\n    add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/tests/test.ad COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/tests/test.ad ${CMAKE_CURRENT_BINARY_DIR}/tests/test.ad )\n    add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/tests/submit.ad COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/tests/submit.ad ${CMAKE_CURRENT_BINARY_DIR}/tests/submit.ad )\n    add_custom_command ( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/test_driver COMMAND ${CMAKE_COMMAND} ARGS -E copy ${CMAKE_CURRENT_SOURCE_DIR}/test_driver ${CMAKE_CURRENT_BINARY_DIR}/test_driver )\n    add_custom_target ( python_bindings_tests ALL DEPENDS tests/classad_tests.py tests/htcondor_tests.py tests/test.ad tests/test.old.ad tests/submit.ad test_driver )\n</pre></div>\n\n\n<p></p><hr/>\n<em>2013-Feb-18 10:08:51 by tstclair:</em> <br/>\n\nit appears -j builds also break on *this.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3586\" onclick=\"get_ticket_and_populate_wrapper('3586'); return false;\" title=\"move python bindings out of contrib\">#3586</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nmove python bindings out of contrib</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Mar-19 12:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a70cb4fc78433184fb027f2ea1003a4e2d7bcb4e\">[35206]</a></span>: document newly added Python bindings ===GT=== <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Mar-12 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6c6462f327771ba9f7374ace60628fb864154db7\">[35131]</a></span>: add incomplete 7.9.5 version history item for new Python bindings. ===GT=== <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Mar-08 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b0fe3e9a1c6aaa9b753be07e118db8b12b1320e4\">[35106]</a></span>: Missed a file for commit; fix Fedora warning. <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Mar-08 08:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f4b5c16780b3824bcece32893e87e09645b4033d\">[35105]</a></span>: Add support for lists and sub-classads. <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-19 22:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ab35a33b340ea973263ab90853bbc1c01a0c4d48\">[34977]</a></span>: Allow insource builds <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span> cmake copy checks at run-time if the target exists, and barfs if it does.  (By Nathan W. Panike )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-19 12:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c8488ea6a436f60bc2c85ad69fd1298038e80a9\">[34964]</a></span>: Build python bindinds with -Werror, supress specific warnings we can't remove <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-18 10:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8376daf4f1de937e63982339c25ea67b1643f9ea\">[34940]</a></span>: Added a unit test which triggered the leak fixed by c557ccc. <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-18 10:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c557ccc16e4ad8bbddae941ae7c946dcbcc99b2c\">[34939]</a></span>: Delete result of parser instead of leaking it. <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-15 10:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f558577612747d4322deb51985797b3d205b639\">[34933]</a></span>: Ticket <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span> Cleanup conditional build logic around python bindings.  (By Timothy St. Clair )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-14 15:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9574b095ec8d48a65aa96bacc60054b35a5bd79e\">[34929]</a></span>: Add python dictionary-like get and setdefault methods to classad bindings. <span class=\"ticket\"><a class=\"docpending\" href=\"/wiki-archive/tickets/?ticket=3494\" onclick=\"get_ticket_and_populate_wrapper('3494'); return false;\" title=\"Improve python bindings for 7.9.5\">#3494</a></span>  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Mar-08 13:44", "status": "docpending", "created": "2013-Feb-14 15:06", "fixed_version": "2013-Feb-14 15:06", "broken_version": "v070900", "priority": "4", "subsystem": "", "assigned_to": "bbockelm", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bbockelm@cse.unl.edu, tstclair@redhat.com", "due_date": ""}
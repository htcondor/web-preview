{"id": 2297, "title": "Ticket #2297: Synchronize Condor and ClassAds releases", "description": "<blockquote>\nWe want to synchronize the releases of Condor and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> in order to reduce overhead in the release process.\n\n<p>Items:\n</p><ul>\n<li>Use Condor version for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>\n<ul>\n<li>Jump <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> version to match current Condor version <strong>[DONE]</strong>\n</li><li>Change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> shared library version to match current Condor version <strong>[DONE]</strong>\n</li><li>Change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> code to get version from CMake <strong>[DONE]</strong>\n</li></ul>\n</li><li>Update <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> standalone release\n<ul>\n<li>Ensure configure-based and cmake-based builds are equivalent\n<ul>\n<li>In cmake build, ldd says libclassad.so doesn't depend on libdl or libpcre, though it should <strong>[DONE]</strong>\n</li><li>In cmake build, classad binaries are statically linked to libclassad <strong>[DONE]</strong>\n</li><li>bin/cxi isn't created in cmake build. If we want to keep it, we should rename it and create in the cmake build.\n</li></ul>\n</li><li>Create ClassAds-only source release based on CMake\n</li><li>Remove configure-based build files\n</li></ul>\n</li><li>Remove non-namespace build option for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> <strong>[DONE]</strong></li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Aug-12 16:19:02 by tstclair:</em> <br/>\n\nwe could use the configure options in cmake to update files in classads.\n\n<p></p><hr/>\n<em>2012-Oct-02 17:12:17 by jfrey:</em> <br/>\n\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> is now released versioned and released the same as Condor.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-13 16:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7ebf49f3d96937a1ddfa94e74428d344f913b60\">[27200]</a></span>: Take <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> version from top-level cmake file. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2297\" onclick=\"get_ticket_and_populate_wrapper('2297'); return false;\" title=\"Synchronize Condor and ClassAds releases\">#2297</a></span> The ClassAdLibraryVersion() functions now return the version from cmake.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-08 16:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2643dfdc792b9bed46ff4ecd594ece33e4e7e0c0\">[27131]</a></span>: Take <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> external and shared library version from top-level cmake file. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2297\" onclick=\"get_ticket_and_populate_wrapper('2297'); return false;\" title=\"Synchronize Condor and ClassAds releases\">#2297</a></span> Change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> shared library version to match the release version. This is more useful for users than the previous convention.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-12 23:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/49f714b55ad61fdeabea9348964546bcc1c04e41\">[22437]</a></span>: <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> always use a namespace now, part 2 Missed a couple spots before that optionally used a namespace. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2297\" onclick=\"get_ticket_and_populate_wrapper('2297'); return false;\" title=\"Synchronize Condor and ClassAds releases\">#2297</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-12 18:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b3018ca349be8e44b2c7db8419b53796bc13f945\">[22434]</a></span>: <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> always use a namespace now. Remove separate libraries for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> both with and without a 'classad' namespace. Now, libclassad.a/so uses a namespace and there's no version that doesn't use a namespace. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2297\" onclick=\"get_ticket_and_populate_wrapper('2297'); return false;\" title=\"Synchronize Condor and ClassAds releases\">#2297</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-12 18:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/146446c946f9004c4393ad55959c8c78561ac71e\">[22432]</a></span>: Update <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> version to 7.7.0, matching the Condor version. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2297\" onclick=\"get_ticket_and_populate_wrapper('2297'); return false;\" title=\"Synchronize Condor and ClassAds releases\">#2297</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Oct-02 17:12", "status": "resolved", "created": "2011-Jul-12 17:41", "fixed_version": "2011-Jul-12 17:41", "broken_version": "v070600", "priority": "2", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#2056", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
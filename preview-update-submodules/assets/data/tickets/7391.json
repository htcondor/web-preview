{"id": 7391, "title": "Ticket #7391: Multiple startds behind shared port in 8.8", "description": "<blockquote>\nIn 8.9.0, we fixed a bug that prevented multiple startds from running behind a single shared port daemon (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5604\" onclick=\"get_ticket_and_populate_wrapper('5604'); return false;\" title=\"Multiple startds behind shared port broken w/ match password\">#5604</a></span>). LIGO would like this fix in the 8.8 series, so we'll back-port it.</blockquote>", "remarks": "<blockquote>\n<em>2019-Dec-20 16:11:50 by gthain:</em> <br/>\n\n<strong>CODE REVIEW</strong>  All is good, just like 8.9</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-20 13:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6608ab65dde15510e96fa7baabde84050dbf91d8\">[58521]</a></span>: Docs for multiple startds between shared port auth fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7391\" onclick=\"get_ticket_and_populate_wrapper('7391'); return false;\" title=\"Multiple startds behind shared port in 8.8\">#7391</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-20 10:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/990047e8bd22ad5e90a8a9832c0c8886613be1d7\">[58519]</a></span>: Remove redundant function getAddrFromClaimId(). <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7391\" onclick=\"get_ticket_and_populate_wrapper('7391'); return false;\" title=\"Multiple startds behind shared port in 8.8\">#7391</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-20 10:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b57e214c9524082718ead4bc9419c796ed8e82f0\">[58518]</a></span>: Put full startd sinful string in claim ids. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7391\" onclick=\"get_ticket_and_populate_wrapper('7391'); return false;\" title=\"Multiple startds behind shared port in 8.8\">#7391</a></span> Currently, the sinful string in the claim id is just an ip address and port. COD uses the sinful string in the claim id to contact the startd. That will fail when shared port or CCB is enabled. For match password session, the sinful string forms part\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Dec-20 16:12", "status": "resolved", "created": "2019-Nov-20 10:47", "fixed_version": "2019-Nov-20 10:47", "broken_version": "", "priority": "3", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "#5604", "creator": "jfrey", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "", "due_date": ""}
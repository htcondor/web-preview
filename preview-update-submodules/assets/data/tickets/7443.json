{"id": 7443, "title": "Ticket #7443: privately mount /dev/shm for vanilla universe jobs", "description": "<blockquote>\nCHTC single-node openmpi jobs are failing because they write files to /dev/shm, and mmap them.  If more than one job of this type lands on the same machine, they can collide with each other and cause problems.  Also, if the job is rm'd, the files are left behind in /dev/shm and aren't cleaned up.\n\n<p>This ticket will add support for privately mounting /dev/shm for each job.  This will give each job its own view to /dev/shm, and automatically clean it up no matter how the job exits.\n\n</p><p>Just in case users want a shared /dev/shm, the knob\nMOUNT_PRIVATE_DEV_SHM can be set to false to disable this.  Defaults to true.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:46:37 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Apr-10 12:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/641641b11ffba0eaf93fca44bd2cfdb632e993b0\">[59311]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7443\" onclick=\"get_ticket_and_populate_wrapper('7443'); return false;\" title=\"privately mount /dev/shm for vanilla universe jobs\">#7443</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-23 15:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d1a36baf6c036907f27caab611c52d126a59d24b\">[58744]</a></span>: Allow private /dev/shm mounts for rootly condors <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7443\" onclick=\"get_ticket_and_populate_wrapper('7443'); return false;\" title=\"privately mount /dev/shm for vanilla universe jobs\">#7443</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Apr-10 12:14", "status": "resolved", "created": "2019-Dec-23 15:20", "fixed_version": "2019-Dec-23 15:20", "broken_version": "v080900", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
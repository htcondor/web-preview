{"id": 4392, "title": "Ticket #4392: CREAM external built incorrectly", "description": "<blockquote>\nWhen I upgraded the CREAM external to version 1.14.0, I made a couple errors that caused communication with the CREAM server to fail.\n\n<p>First, I dropped a patch to glite-lbjp-common-gss where it passes an invalid buffer length to gss_import_cred(). The patch is still required for the new version of glite-lbjp-common-gss.\n\n</p><p>Second, I needed to switch from gcc to g++ to build glite-lbjp-common-gsoap-plugin. This was due to the newer version of gsoap. The same header file (stdsoap2.h) is used for both C and C++. When the header file is used in a C++ compilation, the struct soap it defines gains a constructor and a virtual destructor. This means the layout of the struct soap is different between C and C++. Since glite-ce-cream-client-api-c is C++ code that uses stdsoap2.h, glite-lbjp-common-gsoap-plugin must also be compiled as C++ and we need to link against the C++ gsoap library.\n\n</p><p>While making and testing these fixes, I also reorganized the CREAM externals so that each one installs into its own installation directory, rather than all of them installing in the glite-ce-cream-client-api-c installation directory.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-09 10:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d555b0b6188bad20947b433321fc1e34382cc816\">[40368]</a></span>: minor 8.2.0 version history item edit (and fix spelling) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4392\" onclick=\"get_ticket_and_populate_wrapper('4392'); return false;\" title=\"CREAM external built incorrectly\">#4392</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-30 11:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9e465e6099e47f4fa4a5c4b7c84d2be9bcd0b143\">[40285]</a></span>: Version history for CREAM external build fixes. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4392\" onclick=\"get_ticket_and_populate_wrapper('4392'); return false;\" title=\"CREAM external built incorrectly\">#4392</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-30 11:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8f84c444977314aff70dfa2b4fc74a893a9bc63d\">[40284]</a></span>: Fix some build problems with the CREAM external 1.14.0. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4392\" onclick=\"get_ticket_and_populate_wrapper('4392'); return false;\" title=\"CREAM external built incorrectly\">#4392</a></span> These issues caused communication with CREAM servers to fail.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-May-30 11:45", "status": "resolved", "created": "2014-May-30 11:36", "fixed_version": "2014-May-30 11:36", "broken_version": "v080105", "priority": "2", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#4243", "creator": "jfrey", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
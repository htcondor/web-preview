{"id": 449, "title": "Ticket #449: Resolve discrepencies between CSL and condor views of pool", "description": "<blockquote>\nThe CSL has a database of machines, and it includes a \"should run Condor\" field.  We also maintain a database (that is /unsup/condor/etc/hosts).  The two don't always agree.  There are certainly machines we're on that the lab thinks Condor is off on.   This may be causing Condor to fail to start up on boot.\n\n<p></p><ul>\n<li>This is a nightly export of the lab's database for the \"should run Condor\" field\": /common/usr/share/Info/condorstatus AKA /afs/cs.wisc.edu/s/lab-1/common/lib/volatile/condorstatus\n\n<p></p></li><li>The raw lab data is available from /s/what/xml/csdb/&lt;machinename&gt;.xml\n\n<p></p></li><li>Identify machines we think we're welcome on, but the lab's database disagrees on.  Determine truth and correct these discrepencies.\n\n<p></p></li><li>Somehow set things up to Just Work Right.  A nightly script to report discrepencies?  START_MASTER should run a script that can check and report FALSE?\n</li></ul>\n\n<p>(adesmet has some messages from lab, CSL #358130)</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Aug-26 15:51:09 by adesmet:</em> <br/>\n\nContacted lab CSL #377232.  Parter believes the lab should maintain the canonical list, with users asking the lab to enable and disable Condor.  We should move to relying on the condorstatus file, and should provide the lab with details on how to cleanly shut down Condor.  However...\n\n<p><strong>Do nothing until late September 2009</strong>, the lab is swamped with semester prep work for now.\n\n</p><p>Proposed lab instructions:\n</p><ol>\n<li><code>killall condor_master</code> - This should shut it down\n</li><li>Disable condor login\n</li><li>Disable init script (In their database)\n</li><li>Email us (so we can remove configuration files, or at least put a note in them)\n</li></ol>\n\n<p></p><hr/>\n<em>2009-Aug-26 16:03:48 by adesmet:</em> <br/>\n\nWork to handle reading and using condorstatus is <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=697\" onclick=\"get_ticket_and_populate_wrapper('697'); return false;\" title=\"condor_pool absent list tool should use condorstatus exclude list\">#697</a></span>\n\n<p></p><hr/>\n<em>2012-Jul-16 13:44:47 by adesmet:</em> <br/>\n\nI haven't worked on this forever. Dropping off my plate.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2012-Jul-16 13:45", "status": "new", "created": "2009-May-01 15:50", "fixed_version": "2009-May-01 15:50", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
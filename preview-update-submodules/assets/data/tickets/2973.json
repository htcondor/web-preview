{"id": 2973, "title": "Ticket #2973: Standard universe may never checkpoint when nscd isn't running", "description": "<blockquote>\nOn Debian 6 and RHEL6, if nscd isn't running, the glibc used in standard universe leaves an unconnected socket open. This causes the checkpoint library to always defer checkpointing (until the socket is closed, which won't happen).</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2975\" onclick=\"get_ticket_and_populate_wrapper('2975'); return false;\" title=\"Add test to verify that we can checkpoint without nscd running.\">#2975</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAdd test to verify that we can checkpoint without nscd running.</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/561/ckpt_bug.c\">ckpt_bug.c</a>\n444 bytes added by jfrey on 2012-May-07 19:43:45 UTC.\n<br/>\nSample standard universe program that demonstrates bug.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-May-07 16:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5717ef30d3658ef3fc48797ae2f2d7d6922a0c2a\">[31940]</a></span>: Version history for standard universe nscd bug. <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2793\" onclick=\"get_ticket_and_populate_wrapper('2793'); return false;\" title=\"Download index should list contrib modules\">#2793</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-May-07 14:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f5a18018defdd6d38e4a4dcfc75d849c38aa0ea6\">[31937]</a></span>: Fix a case where a standard universe job may never checkpoint. <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2973\" onclick=\"get_ticket_and_populate_wrapper('2973'); return false;\" title=\"Standard universe may never checkpoint when nscd isn't running\">#2973</a></span> Disable use of nscd in the glibc external used for Debian 6 and RHEL 6. If nscd isn't running, the glibc we use leaves an unconnected socket open. This causes the checkpoint library to always defer checkpointing (until the socket is\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-May-07 16:36", "status": "defer", "created": "2012-May-07 14:06", "fixed_version": "2012-May-07 14:06", "broken_version": "v070700", "priority": "5", "subsystem": "Std", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "jfrey@cs.wisc.edu,tlmiller@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 3612, "title": "Ticket #3612: Fix authenticated name reporting in CEDAR for GSI", "description": "<blockquote>\nAs part of the audit log work, we exposed the unmapped authenticated user identity in the Sock API via the new call getAuthenticatedName(). If the authentication method was GSI and the client's credential didn't have any verifiable VOMS extensions, this call returned an empty string.\n\n<p>This was due to Condor_Auth_X509::getFQAN() returning an empty string when the GSI credential doesn't have any VOMS attributes. The caller, Authentication::getFQAuthenticatedName(), expected it to return NULL in this case, at which point the caller would use the older method getAuthenticatedName() to get the client's identity.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-May-07 14:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a21f6e2aba5af28f7c06b0f0d959e6e2b6cf2796\">[35621]</a></span>: Fix authenticated name reporting in CEDAR for GSI. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3612\" onclick=\"get_ticket_and_populate_wrapper('3612'); return false;\" title=\"Fix authenticated name reporting in CEDAR for GSI\">#3612</a></span> ReliSock::getAuthenticatedName() was returning an empty string when the client authenticated with a GSI credential with no VOMS attributes. This was due to Condor_Auth_X509::getFQAN() returning an empty string in this case, whereas its caller was\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Jul-09 10:02", "status": "resolved", "created": "2013-May-07 14:06", "fixed_version": "2013-May-07 14:06", "broken_version": "v070906", "priority": "2", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#3568", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
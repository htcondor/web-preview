{"id": 1457, "title": "Ticket #1457: condor_wait waits forever if an incomplete event is read", "description": "<blockquote>\nIf condor_wait reads a partially written event, it will get stuck and wait forever. While it seems that the underlying problem is in the userLogReader API, a quick workaround for that can be to have condor_wait reinitialize the reader and re-read the whole log from scratch.</blockquote>", "remarks": "<blockquote>\n<em>2010-Jun-18 13:10:51 by matt:</em> <br/>\n\nLong term solution to this is likely related to <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=925\" onclick=\"get_ticket_and_populate_wrapper('925'); return false;\" title=\"Log reading code should handle any partial event\">#925</a></span>\n\n<p></p><hr/>\n<em>2010-Jun-18 15:44:47 by cweiss:</em> <br/>\n\nYes, it is. The patch does not cure the underlying problem, but it prevents condor_wait for now from getting stuck until the actual cause is clearly identified.\n\n<p></p><hr/>\n<em>2010-Jun-21 11:34:18 by tannenba:</em> <br/>\n\nReviewed the patch and gave feedback to Cathrin on needed changes; ticket being assigned back to Cathrin.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/191/condor_wait.patch\">condor_wait.patch</a>\n2143 bytes added by cweiss on 2010-Jun-18 20:41:38 UTC.\n<br/>\nThe quick workaround patch for this problem. <br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jun-21 14:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0052bf19e4eee6d2b2f9470480eeb70e2a7a833a\">[18504]</a></span>: Quick fix for condor_wait getting stuck under certain circumstances (see <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1457\" onclick=\"get_ticket_and_populate_wrapper('1457'); return false;\" title=\"condor_wait waits forever if an incomplete event is read\">#1457</a></span>). This commit should be reverted once the underlying problem with the userLog reader is identified and fixed.  (By Cathrin Weiss )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jun-21 14:18", "status": "resolved", "created": "2010-Jun-15 15:43", "fixed_version": "2010-Jun-15 15:43", "broken_version": "v070000", "priority": "2", "subsystem": "Tools", "assigned_to": "cweiss", "derived_from": "", "creator": "cweiss", "rust": "s7917", "customer_group": "other", "visibility": "public", "notify": "cweiss@cs.wisc.edu", "due_date": "20100616"}
{"id": 2185, "title": "Ticket #2185: allow setting of hold reason and sub-code", "description": "<blockquote>\nThe WANT_HOLD startd policy provides WANT_HOLD_REASON and WANT_HOLD_SUBCODE in order to give better feedback to the user.  No such niceties exist for SYSTEM_PERIODIC_HOLD and periodic hold.  The tool condor_hold allows setting of the hold reason but not the hold subcode.\n\n<p>Igor has requested that these deficiencies be rectified in order to improve handling of CMS CRAB jobs.  He would prefer that this be done in the 7.6 series, but since this feels like new functionality, we will have to consider what to do.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-27 14:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/837f253f236a4ca3061f0d44fe19cecc2204c4c6\">[26152]</a></span>: documented new -subcode option for condor_hold ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-27 13:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2f3da96e6dd5e4a01eeaf23c9844a5d8b03e80fc\">[26150]</a></span>: Editing and formatting. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-28 11:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e23c11ab8c16b20077c7c57ba5feb2e2daa3289c\">[22015]</a></span>: Added unit tests for custom hold/release/remove reasons. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-28 08:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9ebdf0c3e58ab91600dc38abbbed775aa2b72338\">[26108]</a></span>: Documented new support for setting hold reason and subcode. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span> I did not make a version history entry, because the version history text is in the commit message to the condor source.  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-28 08:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5bd437ec7ae93dc04b93fd6e527055bc6cdbddc7\">[22013]</a></span>: Added -subcode to condor_hold. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span> ===VersionHistory=== The condor_hold command now accepts an option named -subcode. This can be used to set the job attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReasonSubCode\" title=\"Hold Reason Sub Code\">HoldReasonSubCode</a></span>.  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-28 08:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a1fc413d15a1910daff786b34b0ae44f04dbb0ed\">[22014]</a></span>: Added ability to set hold reason and subcode in job policy. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2185\" onclick=\"get_ticket_and_populate_wrapper('2185'); return false;\" title=\"allow setting of hold reason and sub-code\">#2185</a></span> ===VersionHistory=== The hold reason string and subcode number can now be specified in the job policy. In the submit file, the new commands for doing this are periodic_hold_reason, periodic_hold_subcode, on_exit_hold_reason, and\u00a0[...]\n (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Sep-12 13:43", "status": "resolved", "created": "2011-May-23 10:20", "fixed_version": "2011-May-23 10:20", "broken_version": "v070700", "priority": "2", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "isfiligoi@ucsd.edu,dan@hep.wisc.edu", "due_date": "20110530"}
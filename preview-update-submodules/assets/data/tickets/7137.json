{"id": 7137, "title": "Ticket #7137: Improve token request auto-approval UX", "description": "<blockquote>\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7080\" onclick=\"get_ticket_and_populate_wrapper('7080'); return false;\" title=\"Auto-approve token rules\">#7080</a></span> hasn't (as of this writing) implemented two features.  We may decide not to implement them, but if we do, we should record why in this ticket.\n\n<p></p><ol>\n<li>Use <code>PRIVATE_NETWORK_NAME</code> to determine a default netmask for the auto-approval tool's CLI.\n<ul>\n<li>We were really thinking that we had a netblock or mask in the configuration already; <code>PRIVATE_NETWORK_INTERFACE</code> optionally has a wildcard (e.g., 129.168.*) which could be converted, but if it's not required, let's not bother.)\n</li></ul>\n</li><li>The CLI should confirm that the auto-approval rule it's going to install is the one the user wanted.  This should include converting the lifetime value in seconds to fractional hours <em>before</em> installing the rule, as well as printing the netblock out in both styles.\n</li><li>Instead of trying to guess a good time-out for historical auto-approval, the CLI should list all of the requests from that time period (just like the list tokens command) and say \"to approve all these requests, run the following command.\" It should also mention, if there are any requests older than that, how to get a list of them (e..g, condor_list_tokens &lt;num... num&gt;).\n</li></ol>\n\n<p>The \"rule text\" included with each auto-approval log message looks brief enough that only printing it for the first auto-approval by each rule is probably worse than repeating it.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:46:13 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2020-Nov-09 12:31", "status": "new", "created": "2019-Jun-28 17:15", "fixed_version": "2019-Jun-28 17:15", "broken_version": "v080903", "priority": "3", "subsystem": "Security", "assigned_to": "bbockelm", "derived_from": "#7080", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
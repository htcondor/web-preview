{"id": 6827, "title": "Ticket #6827: late materialization with multiple columns corrupts schedd heap", "description": "<blockquote>\nWhen the schedd is doing late materialization using multi-column itemdata in 8.7.10, there is a chance that it will write beyond the end of the line for that row of data.  This can result in heap corruption.  it seems to reproduce most easily on Win10, perhaps because of the way that version defines the heap data structures.\n\n<p>The actual Bug is in <code>JobFactory::LoadRowData</code> and kicks in only when the row of data has 0x1F as a field separator, which is something we added for the python bindings.</p></blockquote>", "remarks": "<blockquote>\n<em>2018-Nov-19 14:48:29 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good to me.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Nov-16 13:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0f4cbeef15a238c1abbb420c5b0a274187604de8\">[55765]</a></span>: fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6827\" onclick=\"get_ticket_and_populate_wrapper('6827'); return false;\" title=\"late materialization with multiple columns corrupts schedd heap\">#6827</a></span>. possible heap corruption in the schedd when doing late-materialization with multi-column itemdata. ===VersionHistory:Complete===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2018-Nov-19 15:08", "status": "resolved", "created": "2018-Nov-16 11:36", "fixed_version": "2018-Nov-16 11:36", "broken_version": "v080710", "priority": "1", "subsystem": "DaemonsSubmitNode", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2273, "title": "Ticket #2273: provide defaults for should_transfer_files & when_to_transfer_output", "description": "<blockquote>\n<code>should_transfer_files</code> and <code>when_to_transfer_output</code> have no default set by condor_submit.\n\n<p>Simple installations of Condor, such as yum install condor + configure <code>CONDOR_HOST</code>, will result in every job submission having to specify their own values.\n\n</p><p>A far superior out-of-the-box experience is to default <code>IF_NEEDED</code> and <code>ON_EXIT</code>, respectively.\n\n</p><p>This allows the underlying complexity of shared filesystems and <code>FILESYSTEM_DOMAIN</code> configuration to be completely ignored until it is needed.\n\n</p><p>NOTES:\n\n</p><p></p><ol>\n<li>condor_submit on Windows currently specifies defaults of <code>YES</code> and <code>ON_EXIT</code>. This default should be changed to <code>IF_NEEDED</code> and <code>ON_EXIT</code> to be consistent.\n</li><li><code>TransferFiles</code> is still an option in the code, but has been deprecated since 6.5 (~03), and does not appear in any documentation.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Jun-27 13:57:15 by matt:</em> <br/>\n\nTesting on a single system (personal condor) -\n\n<p>Add <code>STARTD.FILESYSTEM_DOMAIN = not-$(FULL_HOSTNAME)</code> to configuration.\n\n</p><p>Submit <code>echo 'cmd=/bin/sleep\\nargs=2d\\nqueue' | condor_submit</code>.\n\n</p><p>Failure will be a job that never runs, condor_q -bet -\n\n</p><p></p><div class=\"verbatim\">\n<pre>$ condor_q -bet\n\n\n-- Submitter: eeyore.local : &lt;127.0.0.1:53848&gt; : eeyore.local\n\tReason for last match failure: no match found\n\nWARNING:  Be advised:\n   No resources matched request's constraints\n\nThe Requirements expression for your job is:\n\n( TARGET.Arch == \"X86_64\" ) &amp;&amp; ( TARGET.OpSys == \"LINUX\" ) &amp;&amp;\n( TARGET.Disk &gt;= DiskUsage ) &amp;&amp; ( ( TARGET.Memory * 1024 ) &gt;= ImageSize ) &amp;&amp;\n( ( RequestMemory * 1024 ) &gt;= ImageSize ) &amp;&amp;\n( TARGET.FileSystemDomain == MY.FileSystemDomain )\n\n    Condition                         Machines Matched    Suggestion\n    ---------                         ----------------    ----------\n1   ( TARGET.FileSystemDomain == \"eeyore.local\" )0                   REMOVE\n2   ( TARGET.Arch == \"X86_64\" )       4\n3   ( TARGET.OpSys == \"LINUX\" )       4\n4   ( TARGET.Disk &gt;= 30 )             4\n5   ( ( 1024 * TARGET.Memory ) &gt;= 30 )4\n6   ( ( 1024 * ceiling(ifThenElse(JobVMMemory isnt undefined,JobVMMemory,2.929687500000000E-02)) ) &gt;= 30 )\n                                      4\n</pre></div>\n\n\n<p>Success is a running job.\n\n</p><p></p><hr/>\n<em>2011-Jun-27 13:59:44 by matt:</em> <br/>\n\nVerification with just condor_q -\n\n<p></p><div class=\"verbatim\">\n<pre>$ condor_q -format \"%s \" GlobalJobId -format \"%s \" ShouldTransferFiles -format \"%s\" WhenToTransferOutput -format \"\\n\" None\neeyore.local#68.0 NO\neeyore.local#69.0 IF_NEEDED ON_EXIT\n</pre></div>\n\n\n<p>Job 68.0 shows the old behavior. Job 69.0 shows the new behavior.\n\n</p><p></p><hr/>\n<em>2011-Jun-28 15:13:34 by matt:</em> <br/>\n\nIn the end I gave up and re-organized the logic. The included test shows that condor_submit was never properly tested.\n\n<p></p><hr/>\n<em>2011-Aug-29 11:58:44 by tannenba:</em> <br/>\n\nThis ticket essentially set the default transfer to be IF_NEEDED. Unfortunately, there are two problems identified in the testing of v7.7.0:\n<ol>\n<li>this default change is happening for both local and scheduler universe jobs\n</li><li>IF_NEEDED has long-standing bugs (see <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span>)\n</li></ol>\n\n<p>To react to the two above problems, commit <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7767dff536fdbd3aa020c791397a0f44f3e7bb19\">[27009]</a></span> sets the default in condor_submit back to how they were. Once the above two problems are fixed (e.g. once <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span> is resolved), this commit should be reverted. I will note this in ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span>.\n\n</p><p></p><hr/>\n<em>2011-Aug-29 12:40:01 by matt:</em> <br/>\n\nInstead of reopening this ticket, let's take one of the others and resolved based on it. I suggest taking <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2282\" onclick=\"get_ticket_and_populate_wrapper('2282'); return false;\" title=\"Automatic TransferOutputRemaps broken when transfer IF_NEEDED -&gt; NO\">#2282</a></span> with a plan to have should_transfer_files=NO as default for Scheduler and Local universe jobs. The alternative fix (arguably more complete) in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransferObject\" title=\"File Transfer Object\">FileTransferObject</a></span> is likely to be substantially more difficult. Lease <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span> for the more complex fix to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransferObject\" title=\"File Transfer Object\">FileTransferObject</a></span>.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nshould_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2281\" onclick=\"get_ticket_and_populate_wrapper('2281'); return false;\" title=\"should_transfer_files and when_to_transfer_output now have defaults\">#2281</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nshould_transfer_files and when_to_transfer_output now have defaults</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-24 14:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b9c51a15ae33cf826c34dfe2621252ae9b04048f\">[30700]</a></span>: default values set for should_transfer_files and when_to_transfer_output; added version history item in 7.7.5 for this 7.7.3 change, as it was skipped in 7.7.3. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2281\" onclick=\"get_ticket_and_populate_wrapper('2281'); return false;\" title=\"should_transfer_files and when_to_transfer_output now have defaults\">#2281</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-16 14:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cbda680ee8944364888129fa37349dc513f9e1ff\">[27261]</a></span>: Remove old attribute ATTR_TRANSFER_FILES. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2468\" onclick=\"get_ticket_and_populate_wrapper('2468'); return false;\" title=\"Remove TransferFile, ErrOrig, OutOrig attributes\">#2468</a></span> This attribute was replaced around Condor 6.5.x, and now we no longer set it. This is attempt number two. The first time, my changes conflicted with changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-16 14:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/216928d65b6df1e4858c1901c04fb4438e061c5e\">[27257]</a></span>: Revert \"<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span> uncovered (provide defaults for should_transfer_files &amp; when_to_transfer_output, IF_NEEDED &amp; ON_EXIT) <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2282\" onclick=\"get_ticket_and_populate_wrapper('2282'); return false;\" title=\"Automatic TransferOutputRemaps broken when transfer IF_NEEDED -&gt; NO\">#2282</a></span> (Automatic <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TransferOutputRemaps\" title=\"Transfer Output Remaps\">TransferOutputRemaps</a></span> broken when transfer IF_NEEDED -&gt; NO), the dagman_splice-L and N tests happened to trip over <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2282\" onclick=\"get_ticket_and_populate_wrapper('2282'); return false;\" title=\"Automatic TransferOutputRemaps broken when transfer IF_NEEDED -&gt; NO\">#2282</a></span>, this commit papers over the dagman failures by\u00a0[...]\n (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-16 14:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a202769a40d23a466715af38ab6a24a6ccdf18aa\">[27255]</a></span>: Revert \"Undo changes to condor_submit related to should_transfer_files and\" This reverts commit 7767dff536fdbd3aa020c791397a0f44f3e7bb19. Now that setting should_transfer_files=IF_NEEDED works correctly in all cases (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1811\" onclick=\"get_ticket_and_populate_wrapper('1811'); return false;\" title=\"should_transfer=IF_NEEDED incorrectly handles paths to stdout/stderr\">#1811</a></span>), we can allow that to be the default.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-29 11:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7767dff536fdbd3aa020c791397a0f44f3e7bb19\">[27009]</a></span>: Undo changes to condor_submit related to should_transfer_files and when_to_transfer_output defaults - those caused regressions for local and scheduler universe (at least) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Cathrin Weiss )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-05 09:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6cb604cc41870b4bbddeb550fdf70c613c773a71\">[22361]</a></span>: <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span> uncovered (provide defaults for should_transfer_files &amp; when_to_transfer_output, IF_NEEDED &amp; ON_EXIT) <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2282\" onclick=\"get_ticket_and_populate_wrapper('2282'); return false;\" title=\"Automatic TransferOutputRemaps broken when transfer IF_NEEDED -&gt; NO\">#2282</a></span> (Automatic <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TransferOutputRemaps\" title=\"Transfer Output Remaps\">TransferOutputRemaps</a></span> broken when transfer IF_NEEDED -&gt; NO), the dagman_splice-L and N tests happened to trip over <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2282\" onclick=\"get_ticket_and_populate_wrapper('2282'); return false;\" title=\"Automatic TransferOutputRemaps broken when transfer IF_NEEDED -&gt; NO\">#2282</a></span>, this commit papers over the dagman failures by making their\u00a0[...]\n (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-30 08:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/496b38bb65a4873a3576a5cd3edeeadf235e0ff0\">[22355]</a></span>: Set periodic_remove=TRUE so the jobs do not pollute the queue, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-30 08:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d0f690d79b05d089d1eb7280961ecac8aa3ac86e\">[22354]</a></span>: /bin/true is not available on OSX, /bin/echo is, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-30 08:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e92a614cd5f4dd90cd8a28cc080f34d236789332\">[22353]</a></span>: job_filexfer_base-input4_van.cmd wants should_transfer_files = NO, so they're transferred even on the same filesystem, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-30 08:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6c878bb63c997d863bc398be76ba2a795452ae8d\">[22352]</a></span>: Revert \"job_filexfer_base-input4_van.cmd wants should_transfer_files = yes, so they're transferred even on the same filesystem, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>\" This reverts commit 1501916d71b8761bb510f6f198024dce98e07deb.  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 23:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d16888a904fd0050d852dd80f0ffc1d524be0c1c\">[22351]</a></span>: Fixed user experience when specifying should_transfer_files = NO, when_to_transfer_output is defaulted to NEVER, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 23:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e416a8afc32836b1d7a75668e16006f321a2852a\">[22350]</a></span>: 71d805cb added backward compat to make should_transfer_files = YES when when_to_transfer_output is given as ON_EXIT_OR_EVICT, the test for this is now updated as well, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 22:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1501916d71b8761bb510f6f198024dce98e07deb\">[22348]</a></span>: job_filexfer_base-input4_van.cmd wants should_transfer_files = yes, so they're transferred even on the same filesystem, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 12:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/71d805cb7491496e58a043e6a886158d5e8283a4\">[22339]</a></span>: Fixed backward compat and user experience, if user specifies only ON_EXIT_OR_EVICT we default to YES for should_transfer_files, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-29 12:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2f123da615b6c0172a27041004c1977374c71214\">[22338]</a></span>: Fixed job_filexfer_trans-excut-true_van, it was assuming the default behavior of should_transfer_files and when_to_transfer_output, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-28 14:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1e894689e8f2d297bad3d7cac6962acb3c5e0932\">[22326]</a></span>: Added test for new file transfer code in submit, old submit does not pass these tests (4 failures: 3 errors, 1 false negative), <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-28 14:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1b441c17d11461e216aecf2affaeac404343ce93\">[22325]</a></span>: Unconditionally check for (C) and (D), <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-28 13:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dbc60d478fbeee39fa3241a0c5c2f848b45c7568\">[22324]</a></span>: Removed extraneous, possibly confusing, default settings of should_transfer, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-28 13:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/02077405c2175c1c36d0d212131835c1026f31f1\">[22323]</a></span>: Organized error checking for should_transfer_files and when_to_transfer_output, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-28 11:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c4776a1436152d9c8b619e1ece794f6658122e16\">[22322]</a></span>: Lifted <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SetNewTransferFiles\" title=\"Set New Transfer Files\">SetNewTransferFiles</a></span> into <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SetTransferFiles\" title=\"Set Transfer Files\">SetTransferFiles</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 16:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/21f93ff2249b7be67e7303905c3e9b0b6e4b9daf\">[22321]</a></span>: Cleaned up error message when requesting no file transfer and providing files to transfer, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/35032a5688a5ee7e5ac09c9a9c31e0b090f7f1c5\">[22320]</a></span>: Removed comment about old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TransferFiles\" title=\"Transfer Files\">TransferFiles</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d2b17e17617f9f60b28c1ac99a5941a29a6211cb\">[22319]</a></span>: Restored check for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WhenToTransferOutput\" title=\"When To Transfer Output\">WhenToTransferOutput</a></span> conflict with ShouldTransferFiles=NO, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/596fd23efa4c5d89989787c39767b23ecb847d89\">[22318]</a></span>: Removed unused <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SetOldTransferFiles\" title=\"Set Old Transfer Files\">SetOldTransferFiles</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4b8aa2c2899dc1fbbcc50ce33c006109f924f657\">[22317]</a></span>: Restored check against disabled filetransfer and requested transfer from transfer_input/output_files, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/626171e5546f776616197ecdabc6874aafa88588\">[22316]</a></span>: Removed suggestion that Windows defaults to YES&amp;ON_EXIT, now consistent with Non-Windows as IF_NEEDED&amp;ON_EXIT, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4ec211f1046e359fd8ba89cfd5c73c2e64bb21f9\">[22315]</a></span>: Removed old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TransferFiles\" title=\"Transfer Files\">TransferFiles</a></span> from condor_submit, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/717cbb2fdc98d50d565d8ade9a606da5542a4f5c\">[22314]</a></span>: Acknowledged that 'when' is always set, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 15:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/853310791d3f942f3d73e69cfb0bb33256fa64c4\">[22313]</a></span>: Lifted found_it, removes check for old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> command, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-27 14:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8099361d144e909df69b53f314b8e663c12703b4\">[22312]</a></span>: Defaults for should_transfer_files=IF_NEEDED and when_to_transfer_output=ON_EXIT, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2273\" onclick=\"get_ticket_and_populate_wrapper('2273'); return false;\" title=\"provide defaults for should_transfer_files &amp; when_to_transfer_output\">#2273</a></span> ===VersionHistory=== Improved out-of-the-box experience by defaulting should_transfer_files to IF_NEEDED and when_to_transfer_output to ON_EXIT in condor_submit.  (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Dec-17 11:49", "status": "resolved", "created": "2011-Jun-27 13:29", "fixed_version": "2011-Jun-27 13:29", "broken_version": "v070000", "priority": "3", "subsystem": "Tools", "assigned_to": "tannenba", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
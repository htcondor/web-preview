{"id": 6347, "title": "Ticket #6347: Condor_starter hangs on Debian because of disabled cgroup accounting", "description": "<blockquote>\nOn debian, the accounting cgroups are disabled by default, but the others are enabled.  In 8.6, where condor uses cgroups by default, this causes the <code>condor_starter</code> to hang in an infinite loop on first job start.\n\n<p>We should improve our cgroup detection scripts, and not try to use cgroups on such systems.</p></blockquote>", "remarks": "<blockquote>\n<strong>CODE REVIEW:</strong> Looks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-26 08:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4fa26ae9b628be9ea3c6872d43735046400a1ae2\">[51914]</a></span>: Minor version history edits (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6317\" onclick=\"get_ticket_and_populate_wrapper('6317'); return false;\" title=\"Add avx2 to the list of attributes the startd advertises\">#6317</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6342\" onclick=\"get_ticket_and_populate_wrapper('6342'); return false;\" title=\"Memory leak during clean-up of an authenticated socket\">#6342</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6347\" onclick=\"get_ticket_and_populate_wrapper('6347'); return false;\" title=\"Condor_starter hangs on Debian because of disabled cgroup accounting\">#6347</a></span>)  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-18 23:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/338f6eccc2416d924f310ec5084d651ffd7648b5\">[51886]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6347\" onclick=\"get_ticket_and_populate_wrapper('6347'); return false;\" title=\"Condor_starter hangs on Debian because of disabled cgroup accounting\">#6347</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-18 23:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4d57fc04c441e9ce4c0fa19e79a9ccb71803cef0\">[51885]</a></span>: Fix infinite loop when cgroups enabled on Debian <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6347\" onclick=\"get_ticket_and_populate_wrapper('6347'); return false;\" title=\"Condor_starter hangs on Debian because of disabled cgroup accounting\">#6347</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Aug-02 17:06", "status": "resolved", "created": "2017-Jul-14 09:38", "fixed_version": "2017-Jul-14 09:38", "broken_version": "v080600", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
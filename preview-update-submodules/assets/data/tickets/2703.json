{"id": 2703, "title": "Ticket #2703: Dagman on Windows suffers from C runtime file limits", "description": "<blockquote>\nOn Windows, C runtime file functions are limited to 512 open files by default, with 2048 being the maximum. Because dagman opens basically all job output logs, for very large dags dagman will run into this limit very quickly. The short term fix will be to raise the limit to the 2048 maximum open files. Future dagman work will be trying to keep the number of simultaneous open files down so should help alleviate the issue. If that is still not enough and if customers actually need it, a \"final\" fix would be to partially rewrite the parts of dagman that read log files to use the native win32 functions.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2702\" onclick=\"get_ticket_and_populate_wrapper('2702'); return false;\" title=\"Document DAGMan file descriptor issues\">#2702</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDocument DAGMan file descriptor issues</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/506/dag.patch\">dag.patch</a>\n476 bytes added by ziliang on 2011-Dec-12 18:30:13 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-12 14:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ddd851ad79a73c1e76e186fc1b4333041a54c729\">[28727]</a></span>: Raise maximum number of files open through CRT functions on Windows. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2703\" onclick=\"get_ticket_and_populate_wrapper('2703'); return false;\" title=\"Dagman on Windows suffers from C runtime file limits\">#2703</a></span>.  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Dec-12 14:50", "status": "resolved", "created": "2011-Dec-12 12:21", "fixed_version": "2011-Dec-12 12:21", "broken_version": "v070600", "priority": "4", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "ziliang", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
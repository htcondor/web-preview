{"id": 4873, "title": "Ticket #4873: Update 12 cmd_status_show- rework CondorCmdStatusWorker2.pm", "description": "<blockquote>\nThe worker module used by most of these tests was last remaining user of a script\nto start a \"forever\" job. We converted to the new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SimpleJob\" title=\"Simple Job\">SimpleJob</a></span> with a no_wait mode.\nAlso made it much quieter by adding a verbose arg to CondorTest::GetJobStatus.\nIt is still a little loud but in places other then the 12 tests.\n\n<p>The tests which use the worker modules have to remove the jobs that the worked module started in two personals. We also remove all the personals with the single call to CondorTest::EndTest(); Much cleaned up. We dusted off the cmd_status_shows-help.\n\n</p><p>This allowed the deletion of 8 files</p></blockquote>", "remarks": "<blockquote>\nIn cmd_status_shows-help, I discovered that runCondorTool which is extensibly used\nwill hang under windows and active perl if there is no standard input. The problem is somewhere in the threaded io code. If there is no stdout, it hangs.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-10 11:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3bb2f1183320cbaa57c5b1bc28ef0799cc6ad44f\">[43285]</a></span>: Update CondorCmdStatusWorker2.pm making it cleaner and use job <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4873\" onclick=\"get_ticket_and_populate_wrapper('4873'); return false;\" title=\"Update 12 cmd_status_show- rework CondorCmdStatusWorker2.pm\">#4873</a></span> starting tools now with a no_wait option in Check/SimpleJob.pm. This allowed the removal of all the cmdrunforever files and the removal of the older worker module. Tests were all updated and have to remove these jobs that get set up\u00a0[...]\n (By Bill Taylor )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Feb-10 12:00", "status": "resolved", "created": "2015-Feb-06 12:30", "fixed_version": "2015-Feb-06 12:30", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "bt", "derived_from": "#4520", "creator": "bt", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
{"id": 4976, "title": "Ticket #4976: Improvements to condor_q for 8.5 series", "description": "<blockquote>\nthe standard output forms from condor_q don't scale well as the SCHEDD contains 1000's of jobs.  We should improve condor_q reports, and the SCHEDD data structures and query commands so that we can handle condor_q queries more efficiently and also provide the user with the data they need rather than with a mountain of detail that they have to wade through to find what they want to know.\n\n<p>there are several proposals:\n\n</p><p>First - show a fixed number of changed jobs\n</p><div class=\"code\">\n<pre class=\"code\">-- Submitter: submit-3.chtc.wisc.edu : &lt;128.104.101.92:9618&gt; : submit-3.chtc.wisc.edu\nOWNER                Idle  Running   Held  SUBMITTED  DESCRIPTION              JOBIDs\nadam                     -       1      -  3/22 07:20 DAG: 28221546            28230864.0\n                         -       1      -  3/23 08:57 DAG: 28260360            28263203.0\n                         -       1      -  3/27 09:37 DAG: 28603414            28607333.0\n                         3       1      -  3/27 11:46 DAG: 28611986            28612342.0 ... 28613304.0\n\nLast 10 Jobs that changed:\n ID                 SUBMITTED     RUN_TIME ST PRI SIZE    CMD\n28221546.0         3/22 07:20   5+06:18:50 I  0   0.3     condor_dagman -f -\n28230864.0         3/22 09:31   5+04:08:17 I  0   73.2    chtcjobwrapper --t\n28260360.0         3/23 08:25   4+05:14:07 I  0   0.3     condor_dagman -f -\n28263203.0         3/23 08:57   4+04:42:07 I  0   2197.3  chtcjobwrapper --t\n28603414.0         3/27 08:53   0+04:46:33 I  0   0.3     condor_dagman -f -\n28607333.0         3/27 09:37   0+03:59:59 I  0   2197.3  chtcjobwrapper --t\n28611986.0         3/27 11:38   0+02:00:42 I  0   0.3     condor_dagman -f -\n28612342.0         3/27 11:46   0+01:44:10 I  0   2197.3  chtcjobwrapper --t\n28612392.0         3/27 11:47   0+01:42:26 I  0   2197.3  chtcjobwrapper --t\n28613240.0         3/27 12:05   0+01:25:37 I  0   2197.3  chtcjobwrapper --t\n28613304.0         3/27 12:07   0+01:24:30 R  0   2197.3  chtcjobwrapper --t\n</pre></div>\n\n\n<p>Second - summarize a recent time window of statuses (20 min?)\n</p><div class=\"code\">\n<pre class=\"code\">-- Submitter: submit-3.chtc.wisc.edu : &lt;128.104.101.92:9618&gt; : submit-3.chtc.wisc.edu\nOWNER                Idle  Running   Held  SUBMITTED  DESCRIPTION              JOBIDs\nadam                     -       1      -  3/22 07:20 DAG: 28221546            28230864.0\n                         -       1      -  3/23 08:57 DAG: 28260360            28263203.0\n                         -       1      -  3/27 09:37 DAG: 28603414            28607333.0\n                         3       1      -  3/27 11:46 DAG: 28611986            28612342.0 ... 28613304.0\n\nIn the last 20 minutes:\n    5 Job(s) were Completed                                                    28230860.0 ... 28230863.0\n    1 Job(s) were Started                                                      28230864.0\n\n\n-- Submitter: submit-3.chtc.wisc.edu : &lt;128.104.101.92:9618&gt; : submit-3.chtc.wisc.edu\nOWNER                Idle  Running   Held  SUBMITTED  DESCRIPTION              JOBIDs\nsemolina                 -       -   1219  1/17 22:44 CMD: chtcjobwrapper --ty 18625781.0 ... 23402694.0\n\nIn the last 20 minutes:\n    0 Job(s) were Completed\n    5 Job(s) were Started                                                      23402690.0 ... 23402694.0\n    5 Job(s) were Held                                                         23402690.0 ... 23402694.0\n        23402690.0  2/11 07:22 Error from slot1@e075.chtc.wisc.edu: STARTER at 128.104.58.85 failed to send file(s) to &lt;128.104.100.44:36692&gt;;\n                               SHADOW at 128.104.100.44 failed to write to file /home/seshadri3/project3/ChtcRun/studyCVparamout/job98686/job98686.out : (errno122) Disk quota exceeded\n        23402694.0  2/11 07:30 Error from slot1@e452.chtc.wisc.edu: STARTER at 128.105.245.252 failed to send file(s) to &lt;128.104.00.44:50806&gt;;\n                               SHADOW at 128.104.100.44 failed to write to file /home/seshadri3/project3/ChtcRun/studyCVparamout/job98596/job98596.out : (error 122) Disk quota exceeded\n</pre></div>\n\n\n<p>Third - summarize state changes\n</p><div class=\"code\">\n<pre class=\"code\">-- Submitter: submit-3.chtc.wisc.edu : &lt;128.104.101.92:9618&gt; : submit-3.chtc.wisc.edu\nOWNER                Idle  Running   Held  SUBMITTED  DESCRIPTION              JOBIDs\nadam                     -       1      -  3/22 07:20 DAG: 28221546            28230864.0\n                         -       1      -  3/23 08:57 DAG: 28260360            28263203.0\n                         -       1      -  3/27 09:37 DAG: 28603414            28607333.0\n                         3       1      -  3/27 11:46 DAG: 28611986            28612342.0 ... 28613304.0\n\nIn the last 20 minutes:\n    1 Job(s) went from Idle to Running\n    5 Job(s) went from Running to Completed\n\nIn the last 6 Hours:\n    6 Job(s) went from Idle to Running\n   25 Job(s) went from Running to Completed\n\nIn the last 48 Hours:\n  106 Job(s) submitted\n  106 Job(s) went from Idle to Running\n  100 Job(s) went from Running to Completed\n\n\n-- Submitter: submit-3.chtc.wisc.edu : &lt;128.104.101.92:9618&gt; : submit-3.chtc.wisc.edu\nOWNER                Idle  Running   Held  SUBMITTED  DESCRIPTION              JOBIDs\nsemolina                 -       -   1219  1/17 22:44 CMD: chtcjobwrapper --ty 18625781.0 ... 23402694.0\n\nIn the last 6  Hours:\n    5 Job(s) went from Idle To Running\n    5 Job(s) went from Running to Held\n\nIn the last 48 Hours:\n 1219 Job(s) submitted\n 1219 Job(s) went from Idle To Running\n 1219 Job(s) went from Running to Held\n</pre></div>\n\n\n<p></p><div>\n<table border=\"1\" cellpadding=\"2\" cellspacing=\"0\" summary=\"EMBED: Status Table of Derived Tickets\">\n<caption>\n  <a href=\"rptview?rn=86\" rel=\"nofollow\" title=\"EMBED: Status Table of Derived Tickets\">EMBED: Status Table of Derived Tickets</a>\n</caption>\n<tbody><tr>\n<td colspan=\"11\"><form action=\"rptview\" method=\"GET\">\n<input name=\"rn\" type=\"hidden\" value=\"86\"/>\nTN: <input name=\"TN\" type=\"text\" value=\"4976\"/>\n<input type=\"submit\" value=\"Go\"/>\n</form></td></tr> \n<tr>\n<th><a href=\"rptview?rn=86&amp;order_by=2&amp;order_dir=ASC&amp;TN=4976\">Developer</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=3&amp;order_dir=ASC&amp;TN=4976\">#</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=4&amp;order_dir=ASC&amp;TN=4976\">Status</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=5&amp;order_dir=ASC&amp;TN=4976\">Type</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=6&amp;order_dir=ASC&amp;TN=4976\">Pri</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=7&amp;order_dir=ASC&amp;TN=4976\">Created</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=8&amp;order_dir=ASC&amp;TN=4976\">Changed</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=9&amp;order_dir=ASC&amp;TN=4976\">Target</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=10&amp;order_dir=ASC&amp;TN=4976\">Due Date</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=11&amp;order_dir=ASC&amp;TN=4976\">Days left</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=12&amp;order_dir=ASC&amp;TN=4976\">Title</a></th>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5708,86\">5708</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2016 Jun\n</td>\n<td valign=\"top\">\n2016 Jul\n</td>\n<td valign=\"top\">\nv080506\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -batch should be the default\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5290,86\">5290</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ndefect\n</td>\n<td valign=\"top\">\n3\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Nov\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\noutput of condor_q -analyze is often misleading or wrong\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5844,86\">5844</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n3\n</td>\n<td valign=\"top\">\n2016 Aug\n</td>\n<td valign=\"top\">\n2016 Sep\n</td>\n<td valign=\"top\">\nv080507\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -job-ads should support json,xml,new input\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5490,86\">5490</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n3\n</td>\n<td valign=\"top\">\n2016 Jan\n</td>\n<td valign=\"top\">\n2016 Feb\n</td>\n<td valign=\"top\">\nv080502\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nadd a -batch-name argument to condor_submit and condor_submit_dag\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5271,86\">5271</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n3\n</td>\n<td valign=\"top\">\n2015 Sep\n</td>\n<td valign=\"top\">\n2016 Feb\n</td>\n<td valign=\"top\">\nv080502\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q should show only current owner's jobs by default\n</td>\n</tr>\n<tr bgcolor=\"#cacae5\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5711,86\">5711</a></td>\n<td valign=\"top\">\nnew\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n4\n</td>\n<td valign=\"top\">\n2016 Jun\n</td>\n<td valign=\"top\">\n2016 Nov\n</td>\n<td valign=\"top\">\nv080509\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -batch -run should list machines\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5874,86\">5874</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n4\n</td>\n<td valign=\"top\">\n2016 Aug\n</td>\n<td valign=\"top\">\n2016 Sep\n</td>\n<td valign=\"top\">\nv080507\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -batch should show completed and total for non-dag jobs\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=3743,86\">3743</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ntodo\n</td>\n<td valign=\"top\">\n4\n</td>\n<td valign=\"top\">\n2013 Jul\n</td>\n<td valign=\"top\">\n2016 May\n</td>\n<td valign=\"top\">\nv080502\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -dag doesn't use a projection to query job ads\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5428,86\">5428</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n4\n</td>\n<td valign=\"top\">\n2015 Dec\n</td>\n<td valign=\"top\">\n2016 Jan\n</td>\n<td valign=\"top\">\nv080502\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q should make use of full width of console for output\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\njohnkn\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=11,86\">11</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ndefect\n</td>\n<td valign=\"top\">\n5\n</td>\n<td valign=\"top\">\n2009 Jan\n</td>\n<td valign=\"top\">\n2016 Jan\n</td>\n<td valign=\"top\">\nv080502\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ncondor_q -run -format produces broken output\n</td>\n</tr>\n</tbody></table></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=11\" onclick=\"get_ticket_and_populate_wrapper('11'); return false;\" title=\"condor_q -run -format produces broken output\">#11</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -run -format produces broken output</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3743\" onclick=\"get_ticket_and_populate_wrapper('3743'); return false;\" title=\"condor_q -dag doesn't use a projection to query job ads\">#3743</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -dag doesn't use a projection to query job ads</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5271\" onclick=\"get_ticket_and_populate_wrapper('5271'); return false;\" title=\"condor_q should show only current owner's jobs by default\">#5271</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q should show only current owner's jobs by default</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5290\" onclick=\"get_ticket_and_populate_wrapper('5290'); return false;\" title=\"output of condor_q -analyze is often misleading or wrong\">#5290</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\noutput of condor_q -analyze is often misleading or wrong</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5428\" onclick=\"get_ticket_and_populate_wrapper('5428'); return false;\" title=\"condor_q should make use of full width of console for output\">#5428</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q should make use of full width of console for output</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5490\" onclick=\"get_ticket_and_populate_wrapper('5490'); return false;\" title=\"add a -batch-name argument to condor_submit and condor_submit_dag\">#5490</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nadd a -batch-name argument to condor_submit and condor_submit_dag</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=5684\" onclick=\"get_ticket_and_populate_wrapper('5684'); return false;\" title=\"python bindings for condor_q v3 query can't do all v8.5 features\">#5684</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\npython bindings for condor_q v3 query can't do all v8.5 features</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5708\" onclick=\"get_ticket_and_populate_wrapper('5708'); return false;\" title=\"condor_q -batch should be the default\">#5708</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -batch should be the default</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=5711\" onclick=\"get_ticket_and_populate_wrapper('5711'); return false;\" title=\"condor_q -batch -run should list machines\">#5711</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -batch -run should list machines</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5844\" onclick=\"get_ticket_and_populate_wrapper('5844'); return false;\" title=\"condor_q -job-ads should support json,xml,new input\">#5844</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -job-ads should support json,xml,new input</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5874\" onclick=\"get_ticket_and_populate_wrapper('5874'); return false;\" title=\"condor_q -batch should show completed and total for non-dag jobs\">#5874</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -batch should show completed and total for non-dag jobs</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Oct-03 11:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/acbe469cddd5379ff20a5d2d6d30fcddb0bf2a7e\">[49363]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>, have condor_q hold on to each ad until the next ad is parsed - this improves classad cache hit rate and thus parse speed.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-10 20:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6b145cd5561771ea76b666605e9921b709c5343d\">[47701]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>. always use \\n for projection.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-18 12:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cccd0339f3a0dfd1f4ec21d6e089968ae0d59a1c\">[47630]</a></span>: fix previous commit to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span> so that it prints loadaverage properly with condor_status  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-18 12:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e3173c01ad882846ae6a4190d657f7a9c1f84537\">[47628]</a></span>: fix previous commit to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span> so it can still query an 8.2.8 schedd.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-12 13:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/163ace93b7671473ba76c44016f006a23ab1bccb\">[47600]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5271\" onclick=\"get_ticket_and_populate_wrapper('5271'); return false;\" title=\"condor_q should show only current owner's jobs by default\">#5271</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5490\" onclick=\"get_ticket_and_populate_wrapper('5490'); return false;\" title=\"add a -batch-name argument to condor_submit and condor_submit_dag\">#5490</a></span>: documented that condor_q now defaults to showing only the current user's jobs; documented condor_q -batch and -nobatch; fixed some places that still referenced -progress rather than -batch.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-08 18:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b244496944f275fcec907517950268bdac51c3f8\">[47573]</a></span>: Minor version history edits for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5456\" onclick=\"get_ticket_and_populate_wrapper('5456'); return false;\" title=\"Docker universe doesn't update ResidentSetSizeAttribute and others\">#5456</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Feb-08 16:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2f992b37d799a9463c1d65ebc133c126065d49d0\">[47571]</a></span>: rename new condor_q option from -progress to -batch. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-28 16:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bd02f737e692c003193291458eaba1b02f9901be\">[47517]</a></span>: fix for extra blank links of output in condor_q -tot introduces by previous commit to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span> ===VersionHistory:None=== bug never shipped  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-28 09:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4a6b5ee1f7cb14ae475aba677ee62226a1952a3e\">[47502]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5271\" onclick=\"get_ticket_and_populate_wrapper('5271'); return false;\" title=\"condor_q should show only current owner's jobs by default\">#5271</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5490\" onclick=\"get_ticket_and_populate_wrapper('5490'); return false;\" title=\"add a -batch-name argument to condor_submit and condor_submit_dag\">#5490</a></span>, <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=5429\" onclick=\"get_ticket_and_populate_wrapper('5429'); return false;\" title='\"Permission denied\" log messages with HTCondor CE'>#5429</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5459\" onclick=\"get_ticket_and_populate_wrapper('5459'); return false;\" title=\"condor_status should not truncate the name field if terminal is wide\">#5459</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-21 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fef0bb76b929c79c131e929fe4adad884b2a3059\">[47487]</a></span>: incorporate some user feedback for new condor_q -progress feature. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span> print _ in empty number columns by default.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-19 16:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f2acdd14d19c0eaac53bbb43af29db4d7a225b7\">[47483]</a></span>: minor change to output of BATCH_NAME column for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-15 14:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1d08166d59fd46816d14cd6181b445a209eea2d4\">[47461]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>. add -progress option to condor_q which tells it to show only a single line of output for each 'batch' of jobs, where batch is either a dag and it's children, a cluster and it's procs, or multiple clusters that have the same owner and cmd. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Nov-10 16:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/26c8ab1148d7ef521cb385da3bdb58de51ba5f6b\">[46243]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>) Change the build to hurt TJ less.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Nov-10 16:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cfcc759a3c8d3542e80217aaad84eaf6fc20d990\">[46240]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>) Change the build to hurt TJ less.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-01 15:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6da9d26f409b90cadfd879d1124a018050d44a11\">[45912]</a></span>: Add -schedd-constraint to condor_q <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5043\" onclick=\"get_ticket_and_populate_wrapper('5043'); return false;\" title=\"Schedd constraint for condor_q -global\">#5043</a></span>. use of -schedd-constraint implies -global, so it is not an error to use both This is part of the condor_q work for 8.5.x <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4976\" onclick=\"get_ticket_and_populate_wrapper('4976'); return false;\" title=\"Improvements to condor_q for 8.5 series\">#4976</a></span>. This commit includes general cleanup of command line option parsing and cleanup of error messages from missing command line arguments.\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Dec-05 13:52", "status": "resolved", "created": "2015-Apr-02 09:39", "fixed_version": "2015-Apr-02 09:39", "broken_version": "", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
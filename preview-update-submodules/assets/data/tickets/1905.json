{"id": 1905, "title": "Ticket #1905: Make does not rebuild some non-source file dependencies.", "description": "<blockquote>\nHere is a build problem:  Check out and build a version of Condor:\n<div class=\"code\">\n<pre class=\"code\">git clone /p/condor/repository/CONDOR_SRC.git\ncd CONDOR_SRC\ngit checkout 6770c1ff23492cf6c4b84803e74154708d7b799c\nconfigure_uw (or cmake .)\nmake\n</pre></div>\n\nThe code builds with no problem.\n\n<p>Now apply the patch that will be included with this ticket:\n</p><div class=\"code\">\n<pre class=\"code\">patch -p1 &lt; f9fd431-patch\nconfigure_uw (or cmake .)\nmake\n</pre></div>\n\nYou will find that the source will not build without inserting a <code>git clean -dqfx</code> or similar command between the duo of <code>patch</code> and <code>configure_uw</code> commands immediately above.\n\n<p>This appears on files such as param_info.in and syscall_numbers.tmpl</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Feb-08 12:27:04 by tstclair:</em> <br/>\n\nYou should not have to rerun cmake on a patch.  What happens when you apply then make?\n\n<p></p><hr/>\n<em>2011-Feb-08 12:28:52 by nwp:</em> <br/>\n\nThe same thing happens.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/272/f9fd431-patch\">f9fd431-patch</a>\n1594 bytes added by nwp on 2011-Feb-08 18:16:35 UTC.\n<br/>\nPatch to demonstrate problem<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-09 14:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/21a9a0364815cdb2bf36e6cc77161e73f9aaf5ac\">[20354]</a></span>: Fix more potential dependency problems The ticket is <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1905\" onclick=\"get_ticket_and_populate_wrapper('1905'); return false;\" title=\"Make does not rebuild some non-source file dependencies.\">#1905</a></span>  (By Nathan W. Panike )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-09 13:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/185c096ed0ef881e077808a8d8126fc5d6234104\">[20353]</a></span>: Fix another dependency issue in src/h We inadvertently left out a dependency in 9d4ca19ab30b32a9e6a542f303e9aeabb1c19a69 The ticket is <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1905\" onclick=\"get_ticket_and_populate_wrapper('1905'); return false;\" title=\"Make does not rebuild some non-source file dependencies.\">#1905</a></span>  (By Nathan W. Panike )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-08 13:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9d4ca19ab30b32a9e6a542f303e9aeabb1c19a69\">[20328]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1905\" onclick=\"get_ticket_and_populate_wrapper('1905'); return false;\" title=\"Make does not rebuild some non-source file dependencies.\">#1905</a></span>: Update command target dependencies on non-source files.  (By Timothy St. Clair )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Feb-08 13:38", "status": "resolved", "created": "2011-Feb-08 12:14", "fixed_version": "2011-Feb-08 12:14", "broken_version": "v070505", "priority": "5", "subsystem": "Packaging", "assigned_to": "nwp", "derived_from": "", "creator": "nwp", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20110301"}
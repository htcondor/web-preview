{"id": 6359, "title": "Ticket #6359: dprintf inside _set_priv during clone cause problems", "description": "<blockquote>\nIt turns out that the parameter \"dologging\" is not a true/false boolean.  It is an int, and has the (unfortunate) semantics of:\n\n<p><code>0</code>: Don't do logging<br/>\n\n<code>1</code>: Do logging<br/>\n\n<code>999</code>: Definitely don't do logging!\n\n</p><p>The code in _set_priv seemed to work fine before, so I'm only having this change affect the new code I added, which definitely wreaks havoc if a dprintf() happens while we are in the middle of clone()ing.  (This is the 999 case for dologging)\n\n</p><p>The fix is to only dprintf if \"dologging\" is not zero and also not 999.</p></blockquote>", "remarks": "<blockquote>\nNo version history required.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-03 14:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1416ca525271da5f1f0739dd1826d1cfbbe31b39\">[51992]</a></span>: Update dprintf logging code inside _set_priv to be silent during clone()/exec(), remove outdated comment. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6359\" onclick=\"get_ticket_and_populate_wrapper('6359'); return false;\" title=\"dprintf inside _set_priv during clone cause problems\">#6359</a></span>  (By zmiller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Aug-14 15:01", "status": "resolved", "created": "2017-Aug-03 10:47", "fixed_version": "2017-Aug-03 10:47", "broken_version": "v080700", "priority": "2", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "", "creator": "zmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
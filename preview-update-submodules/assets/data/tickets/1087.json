{"id": 1087, "title": "Ticket #1087: condor_userprio -setprio does not report failures", "description": "<blockquote>\n<div class=\"verbatim\">\n<pre>$CondorVersion: 7.4.0 Dec  4 2009 BuildID: Fedora-7.4.0-1.fc12 $\n$CondorPlatform: I386-LINUX_F12 $\n</pre></div>\n\n\n<p>This might be an issue in 7.2.\n\n</p><p>Config...\n\n</p><p></p><div class=\"verbatim\">\n<pre>NEGOTIATOR_DEBUG = D_SECURITY\nALLOW_ADMINISTRATOR = admin@localhost\nSEC_ADMINISTRATOR_AUTHENTICATION = REQUIRED\n</pre></div>\n\n\n<p>Problem...\n\n</p><p>As admin@localhost:\n</p><div class=\"verbatim\">\n<pre>$ condor_userprio -setprio biff@localhost 500\nThe priority of biff@localhost was set to 500.000000\n</pre></div>\n\n\n<p><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NegotiatorLog\" title=\"Negotiator Log\">NegotiatorLog</a></span>:\n</p><div class=\"verbatim\">\n<pre>PERMISSION GRANTED to admin@localhost from host 127.0.0.1 for command 449 (SetPriority), access level ADMINISTRATOR: reason: ADMINISTRATOR authorization policy allows IP address 127.0.0.1; identifiers used for this remote host: 127.0.0.1,localhost,localhost.localdomain,localhost4,localhost4.localdomain4\n</pre></div>\n\n\n<p>As not admin@localhost:\n</p><div class=\"verbatim\">\n<pre>$ condor_userprio -setprio biff@localhost 100\nThe priority of biff@localhost was set to 100.000000\n</pre></div>\n\n\n<p><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NegotiatorLog\" title=\"Negotiator Log\">NegotiatorLog</a></span>:\n</p><div class=\"verbatim\">\n<pre>PERMISSION DENIED to notadmin@localhost from host 127.0.0.1 for command 449 (SetPriority), access level ADMINISTRATOR: reason: ADMINISTRATOR authorization policy contains no matching ALLOW entry for this request; identifiers used for this host: 127.0.0.1,localhost,localhost.localdomain,localhost4,localhost4.localdomain4\n</pre></div>\n\n\n<p>Which actually worked?\n\n</p><p></p><div class=\"verbatim\">\n<pre>$ grep Priority spool/Accountantnew.log | grep -e 500 -e 100\n103 Customer.biff@localhost Priority 500.000000\n</pre></div>\n\n\n<p>I would expect to get an error when notadmin is trying to set the priority.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Aug-23 17:07:50 by adesmet:</em> <br/>\n\nBulk change of target version from v070402 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-Jun-03 13:29", "status": "new", "created": "2010-Jan-02 17:58", "fixed_version": "2010-Jan-02 17:58", "broken_version": "v070400", "priority": "5", "subsystem": "Tools", "assigned_to": "", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
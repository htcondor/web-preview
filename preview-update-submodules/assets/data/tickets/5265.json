{"id": 5265, "title": "Ticket #5265: condor_kbdd should use the MIT Screen Saver extension to get idle time", "description": "<blockquote>\n(see <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5264\" onclick=\"get_ticket_and_populate_wrapper('5264'); return false;\" title=\"condor_kbdd can't authenticate to X Server\">#5264</a></span>)\n\n<p>Apparently, the only reliable way to get the keyboard/mouse idle time from an X server with with the MIT screen saver extension.  We should add support to the keyboard daemon for this.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-22 07:46:28 by tim:</em> <br/>\n\n<strong>CODE REVIEW:</strong> Code looks good. However, we need build requirements to the RPM and deb spec files and get the X11 screen saver development libraries on the build machines.\n\n<p></p><hr/>\n<em>2015-Oct-22 07:58:06 by tim:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>For RPMs: libXScrnSaver-devel\nFor debs: libxss-dev\n</pre></div>\n\n\n<p></p><hr/>\n<em>2015-Oct-22 08:29:47 by tim:</em> <br/>\n\n<strong>CODE REVIEW take two</strong>: 20 seconds is a magic number. Should it be configurable? How did we come up with it?\n\n<p>hasXss is set but never reference. I suspect that some of the code was intended to be surrounded by an \"if (hasXss)\".\n\n</p><p>Should we set _last_event when Querying the screen saver. Otherwise, debug message may be misleading.\n\n</p><p></p><hr/>\n<em>2015-Oct-22 08:46:41 by gthain:</em> <br/>\n\n20 seconds?  Years of careful research.  I'll fix the hasXss.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-22 20:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99b10b0c5ec0ed7d844c575d58bdd2962a842dc4\">[46081]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5265\" onclick=\"get_ticket_and_populate_wrapper('5265'); return false;\" title=\"condor_kbdd should use the MIT Screen Saver extension to get idle time\">#5265</a></span>) Require screen saver dev files  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-22 09:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c822bc64a2318631db94b21587b845a7a2fba4b4\">[46069]</a></span>: Code review changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5265\" onclick=\"get_ticket_and_populate_wrapper('5265'); return false;\" title=\"condor_kbdd should use the MIT Screen Saver extension to get idle time\">#5265</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-22 14:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ebc63852612f45984d16d9f4ad70283142958430\">[45874]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5265\" onclick=\"get_ticket_and_populate_wrapper('5265'); return false;\" title=\"condor_kbdd should use the MIT Screen Saver extension to get idle time\">#5265</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-21 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/093699168b4f1d21807465140b5035e3d6016b98\">[45868]</a></span>: Fix Cmakefile for rhel5 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5265\" onclick=\"get_ticket_and_populate_wrapper('5265'); return false;\" title=\"condor_kbdd should use the MIT Screen Saver extension to get idle time\">#5265</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-20 13:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a1893862ccc4c3332565fcb5080378683e6ac9f3\">[45867]</a></span>: condor_kbdd can now use the mit screen saver extension for idle time <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5265\" onclick=\"get_ticket_and_populate_wrapper('5265'); return false;\" title=\"condor_kbdd should use the MIT Screen Saver extension to get idle time\">#5265</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Oct-23 07:54", "status": "resolved", "created": "2015-Sep-18 14:40", "fixed_version": "2015-Sep-18 14:40", "broken_version": "v080400", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "#5264", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": "20150918"}
{"id": 3317, "title": "Ticket #3317: Blahp altering LD_LIBRARY_PATH can mess up batch system commands", "description": "<blockquote>\nThe blahp adds several directories to LD_LIBRARY_PATH for itself and the scripts it invokes to interact with the local batch system. These additional library search paths are unnecessary for the UW Condor build of the blahp to work properly, since we use the RUNPATH to locate the proper libraries for the blahp's binaries.\n\n<p>But the additional directories can mess up the library resolving of the batch system's command-line tools. A concrete example is when submitting into a Condor installation with a similar but different set of shared libraries than in the blahp's lib directory.\n\n</p><p>We plan to fix this by patching the blahp to not alter LD_LIBRARY_PATH.\n\n</p><p>This issue was originally reported in the OSG JIRA system: <a class=\"external\" href=\"https://jira.opensciencegrid.org/browse/CAMPUS-41\">https://jira.opensciencegrid.org/browse/CAMPUS-41</a></p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-04 11:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/027353aae5530e1c901ecb629948e2b442fec32d\">[34259]</a></span>: edit to change LaTeX formatting of version history item ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3317\" onclick=\"get_ticket_and_populate_wrapper('3317'); return false;\" title=\"Blahp altering LD_LIBRARY_PATH can mess up batch system commands\">#3317</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-12 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/554025a3dfc4aaf0fd5e9ef12b7560f2d80f0db5\">[34084]</a></span>: Blahp shouldn't alter LD_LIBRARY_PATH. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3317\" onclick=\"get_ticket_and_populate_wrapper('3317'); return false;\" title=\"Blahp altering LD_LIBRARY_PATH can mess up batch system commands\">#3317</a></span> The blahp adds several directories to LD_LIBRARY_PATH. The way we build it, this is unnecessary. But we've seen some instances where it screws up some of the command line tools of the local batch system when called by the blahp. So we're disabling the modifications\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Nov-12 16:40", "status": "resolved", "created": "2012-Nov-12 14:58", "fixed_version": "2012-Nov-12 14:58", "broken_version": "v070901", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
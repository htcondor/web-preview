{"id": 3498, "title": "Ticket #3498: Use relative timestamps for condor_status", "description": "<blockquote>\ncondor_status is echoing \"Communications Error\" when the client's absolute (epoch) timestamp is beyond a one minute difference from the time on the collector.  A discussion I had with TJ Knoeller yielded that the timestamp should be relative to the beginning of the conversation instead of based on the time of the client machine.  This issue causes much confusion for users running condor_status from the command line, since \"Communications Error\" doesn't indicate the nature of the problem.  The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CollectorLog\" title=\"Collector Log\">CollectorLog</a></span> on the collector side shows the \"Received an expired query\" line as follows:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">02/18/13 14:19:08 Received TCP command 5 (QUERY_STARTD_ADS) from unauthenticated@unmapped &lt;128.104.101.139:59040&gt;, access level READ\n02/18/13 14:19:08 Calling HandleReq &lt;receive_query_cedar&gt; (0) for command 5 (QUERY_STARTD_ADS) from unauthenticated@unmapped &lt;128.104.101.139:59040&gt;\n02/18/13 14:19:08 Got QUERY_STARTD_ADS\n02/18/13 14:19:08 Received an expired query (old by 22s), ignoring\n02/18/13 14:19:08 Return from HandleReq &lt;receive_query_cedar&gt; (handler: 0.000s, sec: 0.005s, payload: 0.000s)\n02/18/13 14:19:08 Return from Handler &lt;DaemonCommandProtocol::WaitForSocketData&gt; 0.0051s\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2013-Feb-18 14:47", "status": "new", "created": "2013-Feb-18 14:45", "fixed_version": "2013-Feb-18 14:45", "broken_version": "v070904", "priority": "4", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "moate", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
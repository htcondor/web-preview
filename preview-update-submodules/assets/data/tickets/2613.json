{"id": 2613, "title": "Ticket #2613: Add versioning to libcondor_utils", "description": "<blockquote>\nNow that the Condor utilities are stored in a shared library, there's the potential for a Condor binary to find the wrong version of the utilities library at run time, causing unexpected behavior. We should add some kind of versioning to prevent this from happening.\n\n<p>I'm assuming that trying to track compatibility between different versions of Condor is infeasible. This is a private API that we change at will. We are happy to restrict a binary to work only with a libcondor_utils from the same release.\n\n</p><p>There several options:\n</p><ul>\n<li>Set the soname and increment on every release.\n</li><li>Use symbol versioning for everything in libcondor_utils, with the version set to the Condor version.\n</li><li>Include the Condor version in the filename (e.g. libcondor_utils-7.7.5.so).</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-09 14:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/64b0babeab0b06e1a04998a481eeb670e6686feb\">[30559]</a></span>: Fix versioned libcondor_utils on mac. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2613\" onclick=\"get_ticket_and_populate_wrapper('2613'); return false;\" title=\"Add versioning to libcondor_utils\">#2613</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-08 16:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ac081c24cfda9d18ef61141b81eac3f5f8d20ec3\">[30533]</a></span>: Version history for libcondor_utils versioning. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2613\" onclick=\"get_ticket_and_populate_wrapper('2613'); return false;\" title=\"Add versioning to libcondor_utils\">#2613</a></span> ===VersionHistory:Complete===  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-08 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0553664f9beda35dfced49917252d114b835a280\">[30529]</a></span>: Add Condor version to libcondor_utils. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2595\" onclick=\"get_ticket_and_populate_wrapper('2595'); return false;\" title=\"Procd handles stdin/out/err incorrectly\">#2595</a></span> We need some kind of versioning of libcondor_utils to prevent a Condor binary from using an incompatible version. At present, we'll do so by incorporating the Condor version into the library name.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Feb-08 16:44", "status": "resolved", "created": "2011-Nov-02 15:35", "fixed_version": "2011-Nov-02 15:35", "broken_version": "v070703", "priority": "4", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#2132", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 7412, "title": "Ticket #7412: credentials not being properly marked for sweeping by startd/execute", "description": "<blockquote>\nDESY is reporting that credentials are not cleaned up on the execute side when a user is no longer running jobs.  I thought initially it might be a static vs p-slot issue but so far have not been able to reproduce locally. (Everything gets cleaned up as expected).\n\n<p>Found to be a logic bug fixed in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7558\" onclick=\"get_ticket_and_populate_wrapper('7558'); return false;\" title=\"kerb creds not swept after execution\">#7558</a></span> <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99c94c37e54aa003a364badf88dfcd32c1472887\">[59144]</a></span></p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:42:27 by tim:</em> <br/>\n\nBulk change of target version from v080808 to v080809 using ticket-target-mover.\n\n<p></p><hr/>\n<em>2020-Apr-26 11:06:14 by zmiller:</em> <br/>\n\nAnother ticket for the issue was created and the fix commit there.  <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7558\" onclick=\"get_ticket_and_populate_wrapper('7558'); return false;\" title=\"kerb creds not swept after execution\">#7558</a></span> <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99c94c37e54aa003a364badf88dfcd32c1472887\">[59144]</a></span></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Mar-12 15:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99c94c37e54aa003a364badf88dfcd32c1472887\">[59144]</a></span>: Fix logic bug in credential sweeping <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7558\" onclick=\"get_ticket_and_populate_wrapper('7558'); return false;\" title=\"kerb creds not swept after execution\">#7558</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-04 15:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/27e8e1729ba97757221398298d1b7de4e9cc4ef3\">[58591]</a></span>: Add debug messages for credential marking. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7412\" onclick=\"get_ticket_and_populate_wrapper('7412'); return false;\" title=\"credentials not being properly marked for sweeping by startd/execute\">#7412</a></span>  (By zmiller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Apr-26 11:06", "status": "resolved", "created": "2019-Dec-04 14:57", "fixed_version": "2019-Dec-04 14:57", "broken_version": "v080800", "priority": "2", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "", "creator": "zmiller", "rust": "", "customer_group": "cern", "visibility": "public", "notify": "zmiller@cs.wisc.edu, tim@cs.wisc.edu", "due_date": ""}
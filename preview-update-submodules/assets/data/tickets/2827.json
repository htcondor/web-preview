{"id": 2827, "title": "Ticket #2827: HGQ + CC-Limits + CLAIM_PARTITIONABLE_LEFTOVERS", "description": "<blockquote>\ntest config:\n<div class=\"code\">\n<pre class=\"code\">########################################################\n# pSlot overload\nNUM_CPUS=32\n\nSLOT_TYPE_1 = cpus=8\nNUM_SLOTS_TYPE_1 = 1\nSLOT_TYPE_1_PARTITIONABLE=TRUE\n\nSLOT_TYPE_2 = cpus=8\nNUM_SLOTS_TYPE_2 = 1\nSLOT_TYPE_2_PARTITIONABLE=TRUE\n\nSLOT_TYPE_3 = cpus=8\nNUM_SLOTS_TYPE_3 = 1\nSLOT_TYPE_3_PARTITIONABLE=TRUE\n\nSLOT_TYPE_4 = cpus=8\nNUM_SLOTS_TYPE_4 = 1\nSLOT_TYPE_4_PARTITIONABLE=TRUE\n\n########################################################\n# Test for concurrency limits\nXSW_LIMIT=4\n\n########################################################\n## Test for HGQ\nGROUP_NAMES = group_one, group_two\nGROUP_QUOTA_group_one = 8\nGROUP_QUOTA_group_two = 8\n\nGROUP_AUTOREGROUP_group_one = TRUE\nGROUP_AUTOREGROUP_group_two = TRUE\n\n</pre></div>\n\n\n<p><strong>Step 1:</strong>\nSubmit job with cc-limits\n</p><div class=\"code\">\n<pre class=\"code\">executable=/bin/sleep\narguments=300\nconcurrency_limits = XSW\n+AccountingGroup = \"group_one.user\"\n</pre></div>\n\n\n<p><strong>Result of Step 1:</strong>\nWill hand out pSlot Claim for all 4 slots.\n\n</p><p><strong>Step 2:</strong>\nSubmit same job w/o cc-limits e.g. user+group == same\n</p><div class=\"code\">\n<pre class=\"code\">executable=/bin/sleep\narguments=300\n+AccountingGroup = \"group_one.user\"\n</pre></div>\n\n\n<p><strong>Results of step 2:</strong>\nSchedd uses claim to match pSlot and uses all slots blowing past HGQ</p></blockquote>", "remarks": "<blockquote>\ngittrac fail, dup of <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=2826\" onclick=\"get_ticket_and_populate_wrapper('2826'); return false;\" title=\"HGQ + CC-Limits + CLAIM_PARTITIONABLE_LEFTOVERS\">#2826</a></span></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2012-Feb-14 11:10", "status": "abandoned", "created": "2012-Feb-14 11:08", "fixed_version": "2012-Feb-14 11:08", "broken_version": "v070705", "priority": "2", "subsystem": "Daemons", "assigned_to": "tannenba", "derived_from": "#2818", "creator": "tstclair", "rust": "", "customer_group": "users", "visibility": "public", "notify": "tstclair@redhat.com, eje@cs.wisc.edu", "due_date": ""}
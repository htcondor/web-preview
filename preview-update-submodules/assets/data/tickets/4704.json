{"id": 4704, "title": "Ticket #4704: ShadowLog spurious \"Can't open directory\"", "description": "<blockquote>\nThe <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ShadowLog\" title=\"Shadow Log\">ShadowLog</a></span> frequently has D_ALWAYS messages in the form\n<div class=\"code\">\n<pre class=\"code\">11/05/14 17:49:07 (2.0) (15133): Can't open directory \"/tmp/a/condor-8.2.3-x86_64_RedHat6-stripped/local.puffin/spool/2/0/cluster2.proc0.subproc0.tmp\" as PRIV_USER, errno: 2 (No such file or directory)\n11/05/14 17:49:07 (2.0) (15133): Can't open directory \"/tmp/a/condor-8.2.3-x86_64_RedHat6-stripped/local.puffin/spool/2/0/cluster2.proc0.subproc0\" as PRIV_USER, errno: 2 (No such file or directory)\n</pre></div>\n\n\n<p>This appears to be normal behavior, so logging this is misleading noise and a red-herring when tracking down unexpected behavior.\n\n</p><p>The code emitting the message is in Directory::Rewind (<a class=\"file\" href=\"rlog?f=src/condor_utils/directory.cpp\">/src/condor_utils/directory.cpp</a> around line 750).  Perhaps failure to find a file in Directory::Rewind isn't an error worth logging at D_ALWAYS.  Or perhaps whenever code is calling this should preemptively check for the directory's existence before creating the Directory object.\n\n</p><p>Reproduction:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">tar xzf /p/condor/public/binaries/v8.2/8.2.3/condor-8.2.3-x86_64_RedHat6-stripped.tar.gz\ncd condor-8.2.3-x86_64_RedHat6-stripped/\n./condor_install --make-personal-condor\nsource condor.sh\ncondor_master\nmkdir submit\ncd submit\ncat &gt; submit &lt;&lt;END\nuniverse=vanilla\nexecutable=/bin/date\nlog=log\nqueue\nEND\ncondor_submit submit\ncondor_wait log\ncat ../local.*/log/ShadowLog\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2014-Nov-05 17:53", "status": "new", "created": "2014-Nov-05 17:53", "fixed_version": "2014-Nov-05 17:53", "broken_version": "v080203", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 5966, "title": "Ticket #5966: Prohibit '.' and '+' in node names", "description": "<blockquote>\nIt would be good to prohibit '.' and '+' in node names, since those are used as separators for multiple DAGs and splices.</blockquote>", "remarks": "<blockquote>\nCode is in following branch waiting for review:\n\n<p>remotes/origin/gt5966-dagman-jobname-illegal-chars\n\n</p><p></p><hr/>\n<em>2017-Apr-13 10:54:32 by wenger:</em> <br/>\n\n<strong>CODE REVIEW</strong> (partial)\n\n<p>I haven't had a chance to look at everything yet, but there are a few issues:\n</p><ol>\n<li>The version history item is in the 8.7.0 section, not the 8.7.2 section.\n</li><li>I'd like to see the error message use the ILLEGAL_CHARS #define instead of having its own, separate copy of which characters are illegal.\n</li><li>See CONDOR_SRC/src/CODING_GUIDELINES for some information about coding style -- I prefer quite a bit of whitespace in for, if, etc., and you're not consistent with this in your new code.\n</li><li>I'd like to see a test for this.\n</li></ol>\n\n<p>I'm also a little worried that something funky is going on with your branch (your commits are not showing up for this ticket, for example).  So we should figure that out before you merge.\n\n</p><p></p><hr/>\n<em>2017-Apr-21 11:35:14 by coatsworth:</em> <br/>\n\nHi Kent, I've updated my remote branch as per your comments. A couple notes:\n\n<p>* Coding style: I've done my best to keep my style consistent with what's described in the CONDOR_SRC/src/CODING_GUIDELINES file. However there are inconsistencies in the files I'm working on, so I've done my best to make my changes \"fit in\" with the existing code. Let me know what you think, if you're not happy with it then let's discuss more in person.\n\n</p><p>* Test is added, but we ran into the problem of parse errors not being handled correctly on Windows. I've included a workaround, but we should look into this problem separately (<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=6231\" onclick=\"get_ticket_and_populate_wrapper('6231'); return false;\" title=\"DAGMan parse failures not handled correctly on Windows\">#6231</a></span>).\n\n</p><p>* Commit messages still not showing up below. I have no idea why. Is this a big concern?\n\n</p><p></p><hr/>\n<em>2017-May-17 12:59:39 by wenger:</em> <br/>\n\nMark, I'm in the process of looking at this now.  As far as the commit messages not showing up in the ticket, I'm not sure what's going on -- I start mine with \"Gittrac #XXXX\", and that seems to work; on the other hand, one of yours shows up with the format you're using (ironically, it has the wrong ticket number -- it's not actually a commit for this ticket).\n\n<p></p><hr/>\n<em>2017-May-17 13:24:49 by wenger:</em> <br/>\n\n<strong>CODE REVIEW</strong>\n\n<p>Looks good -- go ahead and merge if you've run a workspace build/test on all platforms...\n\n</p><p></p><hr/>\n<em>2017-Jun-19 13:20:53 by tim:</em> <br/>\n\n<strong>DOC REVIEW:</strong> Looks good</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7403\" onclick=\"get_ticket_and_populate_wrapper('7403'); return false;\" title=\"Knob DAGMan illegal character checking\">#7403</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nKnob DAGMan illegal character checking</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-20 10:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c57f47cfd06dea2d7e3cbee12de20ae2ebb646c8\">[50671]</a></span>: Debugging for Windows, now using debug_error (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-19 15:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/733d224f6b7a34b287ad8ca83361a533d02d550f\">[50670]</a></span>: Debugging Windows tests, switched to vanilla universe (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-19 10:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/64ca456218348870e397ef26ba0b76ed677498e3\">[50669]</a></span>: Changed executable for hopeful Windows compliance (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-18 17:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ffb9f508c079566fab56c247c4e9b0458bcc024c\">[50668]</a></span>: Changed job executable, added debugging for Windows (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-17 14:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6eaf0905c2557c33275d71b4de8263bbd20f0985\">[50496]</a></span>: Removed debug code from curl_plugin, never should have been committed in first place (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-13 17:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/746ec233ab61319f14598d65c85cbaafe929ce99\">[50664]</a></span>: Fixed parse.cpp formatting, moved documentation to correct version (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-12 15:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4dd37264323e2b20f45e283bf74ccfc4f4ead431\">[50662]</a></span>: Updated documentation to reflect <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobName\" title=\"Job Name\">JobName</a></span> changes (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-12 14:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0ce6f6c340b0988d86edfb8ced285dfa8228acd3\">[50661]</a></span>: Modified DAGMan parse.cpp to check for illegal chars in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobName\" title=\"Job Name\">JobName</a></span> (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5966\" onclick=\"get_ticket_and_populate_wrapper('5966'); return false;\" title=\"Prohibit '.' and '+' in node names\">#5966</a></span>)  (By Mark Coatsworth )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jun-19 13:20", "status": "resolved", "created": "2016-Oct-13 14:41", "fixed_version": "2016-Oct-13 14:41", "broken_version": "v080507", "priority": "4", "subsystem": "Dag", "assigned_to": "coatsworth", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, coatsworth@cs.wisc.edu", "due_date": ""}
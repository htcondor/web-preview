{"id": 3431, "title": "Ticket #3431: Remove blahp's dependence on external Globus tools", "description": "<blockquote>\nIn several locations, the blahp depends on an external Globus installation, whose location is indicated by the environment variable GLOBUS_LOCATION. It runs the programs grid-proxy-info and grid-proxy-init as part of job proxy delegation. And it uses GLOBUS_LOCATION to set LD_LIBRARY_PATH for some tools.\n\n<p>The setting of LD_LIBRARY_PATH is unnecessary in HTCondor's build of the blahp.\n\n</p><p>The call-outs to grid-proxy-info and grid-proxy-init can be replaced by linking in the GSI libraries and calling the relevant functions directly.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-30 11:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6c08af51861e7d97a8e7ffa51b453a5157ea23dc\">[34797]</a></span>: tiny typo fix in 7.9.4 version history item ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3431\" onclick=\"get_ticket_and_populate_wrapper('3431'); return false;\" title=\"Remove blahp's dependence on external Globus tools\">#3431</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-10 15:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8cf4dcbb9ee11bd0fc48c90298e2bf86df3c04ac\">[34603]</a></span>: Docs for blahp not needing Globus. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3431\" onclick=\"get_ticket_and_populate_wrapper('3431'); return false;\" title=\"Remove blahp's dependence on external Globus tools\">#3431</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-10 15:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0145b53c34b73737e4f3615c047f81b24b15a7f7\">[34602]</a></span>: Stop setting GLOBUS_LOCATION for the blahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3431\" onclick=\"get_ticket_and_populate_wrapper('3431'); return false;\" title=\"Remove blahp's dependence on external Globus tools\">#3431</a></span> We've patched the blahp so that it no longer refers to GLOBUS_LOCATION. Thus, we no longer need to set it.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-10 11:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1b6c9c8cbdd8ecb76d57264559e6b2e715f38a81\">[34583]</a></span>: Blahp no longer uses GLOBUS_LOCATION to set LD_LIBRARY_PATH <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3431\" onclick=\"get_ticket_and_populate_wrapper('3431'); return false;\" title=\"Remove blahp's dependence on external Globus tools\">#3431</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-10 11:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/acf864b992dce239f44d738342877190a9c6016b\">[34582]</a></span>: Blahp no longer calls grid-proxy-info/init. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3431\" onclick=\"get_ticket_and_populate_wrapper('3431'); return false;\" title=\"Remove blahp's dependence on external Globus tools\">#3431</a></span> When a job has an X509 proxy, the blahp calls $GLOBUS_LOCATION/bin/grid-proxy-info and $GLOBUS_LOCATION/bin/grid-proxy-init as part of delegating the proxy. Replace those calls with direct calls to the equivalent GSI functions.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Jan-10 15:29", "status": "resolved", "created": "2013-Jan-10 11:54", "fixed_version": "2013-Jan-10 11:54", "broken_version": "v070903", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#3015", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
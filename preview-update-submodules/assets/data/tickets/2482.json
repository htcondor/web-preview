{"id": 2482, "title": "Ticket #2482: Dynamically link externals on Mac OS X", "description": "<blockquote>\nDynamically link libraries from the externals on Mac to the same degree that we do on Linux. Since dynamically libraries work a little differently on Mac, this requires some extra build steps.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-12 11:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ba42fd27eb60ddec6a1f281510503b395c565cf5\">[27782]</a></span>: Document dynamic linking of externals on mac. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2482\" onclick=\"get_ticket_and_populate_wrapper('2482'); return false;\" title=\"Dynamically link externals on Mac OS X\">#2482</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-30 13:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f5f876323b303161df333da971eb059f1b7a65d0\">[27552]</a></span>: Fix rewriting of dynamic library paths for some binaries. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2482\" onclick=\"get_ticket_and_populate_wrapper('2482'); return false;\" title=\"Dynamically link externals on Mac OS X\">#2482</a></span> Binaries that are part of The Tool weren't having their dynamic libraries paths being rewritten properly. Now, rewriting is done as part of creation of the binary, rather than as an install step. And binaries named 'condor' are treated correctly.\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-21 17:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99c35b70097ef972ef4baae701454454f70f7d4f\">[27324]</a></span>: Fix condor_install to handle @executable_path in dynamic library paths. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2482\" onclick=\"get_ticket_and_populate_wrapper('2482'); return false;\" title=\"Dynamically link externals on Mac OS X\">#2482</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-21 15:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fff55fcd57a1a16bf6a16dbd9be7e2a2a383c5a9\">[27315]</a></span>: Allow test binaries to find dynamic libraries on Mac. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2482\" onclick=\"get_ticket_and_populate_wrapper('2482'); return false;\" title=\"Dynamically link externals on Mac OS X\">#2482</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Sep-20 15:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7b22ef261123e4e611e8ce56703a336ac9468e38\">[27305]</a></span>: Dynamically link externals libraries on Mac. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2482\" onclick=\"get_ticket_and_populate_wrapper('2482'); return false;\" title=\"Dynamically link externals on Mac OS X\">#2482</a></span> Globus, VOMS, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, and PCRE libraries are are now dynamically linked on the Mac as they are on Linux. This required some changes to the build: * Use the -x argument with strip. * Rewrite dynamic library paths in libraries and executables to be \u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Oct-12 11:14", "status": "resolved", "created": "2011-Sep-20 15:18", "fixed_version": "2011-Sep-20 15:18", "broken_version": "v070600", "priority": "4", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#1135", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
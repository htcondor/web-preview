{"id": 3259, "title": "Ticket #3259: condor_schedd can EXCEPT when acting on SUSPEND_JOBS", "description": "<blockquote>\nFound by Red Hat QE Daniel Horak.\n\n<p></p><div class=\"verbatim\">\n<pre>$ echo queue | condor_submit -a universe=local -a cmd=/bin/sleep -a args=1d\n1 job(s) submitted to cluster 1.\n$ echo queue | condor_submit -a universe=scheduler -a cmd=/bin/sleep -a args=1d\n1 job(s) submitted to cluster 2.\n$ condor_suspend 1 or 2\n</pre></div>\n\n\n<p>condor_schedd will have EXCEPTd. Find,\n\n</p><p></p><div class=\"verbatim\">\n<pre>ERROR \"unknown action (8 Suspend) in abort_job_myself()\" at line 1870 in file .../src/condor_schedd.V6/schedd.cpp\n</pre></div>\n\n\n<p>or\n\n</p><p></p><div class=\"verbatim\">\n<pre>ERROR \"bad action (8 Suspend) in abort_job_myself()\" at line 2094 in file .../src/condor_schedd.V6/schedd.cpp\n</pre></div>\n\n\n<p>in LOG/ScheddLog.\n\n</p><p>Suspend is not supported for the Local or Scheduler universe.\n\n</p><p>The condor_schedd MUST NOT exit from these interactions.\n\n</p><p>condor_suspend SHOULD report an error.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2012-Oct-25 17:52:16 by johnkn:</em> <br/>\n\nBulk change of target version from v070806 to v070807 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-17 12:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc44d21f3f2ab12627a000d75dc44361f60f89b7\">[34405]</a></span>: Add version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 09:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0e4c89ced18c49007f3d2e22fde45584ed3af0ef\">[33609]</a></span>: Report error when trying to suspend local or scheduler universe jobs, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span> Committer: Timothy St. Clair  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 09:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/341a30735fc39fd97f5809f24941ec7367d6bff5\">[33608]</a></span>: Prevent Schedd EXCEPT when SUSPEND/CONTINUE_JOBS is requested for a scheduler universe job, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span> Committer: Timothy St. Clair  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 09:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cf4ca3b1c070bceaf4fef3885eb65d98b5475925\">[33607]</a></span>: Prevent Schedd EXCEPT when SUSPEND/CONTINUE_JOB is requested for a local universe job, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span> Committer: Timothy St. Clair  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 07:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b73846ed3c91ee52f30ff2f8db922d1d3d77b079\">[33606]</a></span>: Report error when trying to suspend local or scheduler universe jobs, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 07:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/135bd7eadd56b9544fb39e45522aa45fba4a098c\">[33605]</a></span>: Prevent Schedd EXCEPT when SUSPEND/CONTINUE_JOBS is requested for a scheduler universe job, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span>  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-09 07:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6e278522fa08ed58b29777582e2214ea7f52666c\">[33604]</a></span>: Prevent Schedd EXCEPT when SUSPEND/CONTINUE_JOB is requested for a local universe job, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3259\" onclick=\"get_ticket_and_populate_wrapper('3259'); return false;\" title=\"condor_schedd can EXCEPT when acting on SUSPEND_JOBS\">#3259</a></span>  (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Feb-23 19:22", "status": "resolved", "created": "2012-Oct-09 07:21", "fixed_version": "2012-Oct-09 07:21", "broken_version": "v070702", "priority": "3", "subsystem": "Daemons", "assigned_to": "matt", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu, tstclair@redhat.com", "due_date": ""}
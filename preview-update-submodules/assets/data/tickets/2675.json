{"id": 2675, "title": "Ticket #2675: RFE: a \"unit-testing\" mode for the negotiator", "description": "<blockquote>\nThere has been a proposal for supporting a \"unit testing\" mode for the negotiator, where the slot and job classads are read from files, and the negotiator outputs another file that represents the matches it makes.\n\n<p>The motivations are:\n\n</p><p>(a) getting better coverage of the many negotiation-related features without adding a lot of testing time due to latencies for spinning up pools, waiting for jobs to start up, etc. and\n\n</p><p>(b) improved isolation: by running the negotiator in such a mode, we would have more detailed information on whether a regression is in the negotiator or elsewhere.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Dec-13 14:49:04 by eje:</em> <br/>\n\nOn the output side, perhaps a new log mode (or modes) could be supported that generates negotiator log output that is designed for easy parsing, unit testing, etc.   D_UNITTEST, or D_PARSEABLE?\n\n<p>If we went this route, we would have to consider how to handle log output currently associated with D_ALWAYS.  Perhaps begin each log output line with some nice easily greppable flag, \"UNITTEST\", etc.\n\n</p><p>Might be interesting to have all logging output flagged with the dprintf flags, for grepping on any tag.  D_ALWAYS, D_FULLDEBUG, etc.   not sure how to handle multiples, e.g. dprintf(D_MATCH|D_FULLDEBUG...).\n\n</p><p></p><hr/>\n<em>2012-Jun-25 14:15:42 by tstclair:</em> <br/>\n\nMinor mod atop of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2541\" onclick=\"get_ticket_and_populate_wrapper('2541'); return false;\" title=\"Memory utilization of classads (revised)\">#2541</a></span> will allow for boost::test usage across condor.\n<hr/>\n<em>2012-Oct-22 14:59:14 by zmiller:</em> <br/>\n\nBulk change of target version from v070901 to v070902 using ./ticket-target-mover.\n<hr/>\n<em>2012-Dec-11 16:37:58 by johnkn:</em> <br/>\n\nBulk change of target version from v070902 to v070903 using ./ticket-target-mover.\n<hr/>\n<em>2013-Jan-22 10:54:51 by johnkn:</em> <br/>\n\nBulk change of target version from v070903 to v070904 using ./ticket-target-mover.\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2711\" onclick=\"get_ticket_and_populate_wrapper('2711'); return false;\" title=\"RFE: new 'unit testing' parsable dprintf flag\">#2711</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRFE: new 'unit testing' parsable dprintf flag</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Apr-22 11:10", "status": "new", "created": "2011-Nov-30 15:43", "fixed_version": "2011-Nov-30 15:43", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "eje", "derived_from": "#2515", "creator": "eje", "rust": "", "customer_group": "other", "visibility": "public", "notify": "eje@cs.wisc.edu, tannenba@cs.wisc.edu, gthain@cs.wisc.edu, tstclair@redhat.com", "due_date": ""}
{"id": 4672, "title": "Ticket #4672: Shadow does not initialize supplemental groups properly, part deux", "description": "<blockquote>\nWhen the shadow is recycled to run another job, the job owner's supplemental groups are lost. This can cause the shadow to fail to access job files, like the job event log.\n\n<p>This is a follow-on to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4437\" onclick=\"get_ticket_and_populate_wrapper('4437'); return false;\" title=\"Shadow does not initialize supplemental groups properly\">#4437</a></span>, which fixed a similar bug that occurred when the shadow first starts up.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-04 10:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f0fc113e637673836ec9c507dbd775b454822034\">[41571]</a></span>: minor edit of 8.2.4 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4672\" onclick=\"get_ticket_and_populate_wrapper('4672'); return false;\" title=\"Shadow does not initialize supplemental groups properly, part deux\">#4672</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-23 16:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/744ae1607660cf3d67260c946f45aa32adbf870b\">[41434]</a></span>: Shadow loses user supplemental groups on recycle. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4672\" onclick=\"get_ticket_and_populate_wrapper('4672'); return false;\" title=\"Shadow does not initialize supplemental groups properly, part deux\">#4672</a></span> When the shadow is recycled to run another job, it re-initializes the user priv, and loses the supplemental groups in the process. The fix is to not be in the user priv state when calling init_user_ids().  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Oct-29 15:56", "status": "resolved", "created": "2014-Oct-23 14:16", "fixed_version": "2014-Oct-23 14:16", "broken_version": "v080202", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "jfrey", "derived_from": "#4437", "creator": "jfrey", "rust": "", "customer_group": "debian", "visibility": "public", "notify": "", "due_date": ""}
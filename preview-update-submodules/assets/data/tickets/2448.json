{"id": 2448, "title": "Ticket #2448: RPM should ship with empty condor-config.local", "description": "<blockquote>\n<span class=\"section\"><h2>The Problem</h2></span>\nThe Condor RPM is pretty nice. It includes a local_config_dir (<code>/etc/condor/config.d</code>). I want to use this in OSG: I want to install the default Condor RPM with no changes, then customize it by dropping files into the config.d directory. This would be sweet.\n\n<p>Unfortunately, two things collide:\n\n</p><p></p><ol>\n<li>The Condor RPM has a condor_config.local that defines several parameters including daemon_list.\n</li><li>The rules for reading configuration files are that the config.d directory is read first, then the condor_config.local file:\n<a class=\"external\" href=\"http://www.cs.wisc.edu/condor/manual/v7.6/3_3Configuration.html#param:LocalConfigDir\">http://www.cs.wisc.edu/condor/manual/v7.6/3_3Configuration.html#param:LocalConfigDir</a>\n</li></ol>\n\n<p>This means that without being tricky (see workaround below), users cannot override anything in the condor_config.local by dropping files into the config.d directory. I think that Condor should encourage people to use this method of configuration and should make it as easy as possible outside of the box. It's nice for users to leave the Condor configuration files unchanged (and only add to config.d) because \"rpm -q --verify condor\" will tell you that the Condor files haven't been changed.\n\n</p><p><span class=\"section\"></span></p><h2>Proposed Change</h2>\nSpecifically, I recommend:\n\n<p></p><ol>\n<li>You should ship an empty condor_config.local file.\n</li><li>If you think you need any of the configuration that exists in the condor_config.local file, you should push it into the condor_config that ships with the RPM.\n</li><li>You should make this change in the stable series.\n</li></ol>\n\n<p><span class=\"section\"></span></p><h2>Workaround </h2>\nThere is a workaround, but it's ugly. A user like me can put the following into a file in the config.d directory:\n\n<p></p><div class=\"verbatim\">\n<pre>LOCAL_CONFIG_FILE =\nREQUIRE_LOCAL_CONFIG_FILE = FALSE\nDAEMON_LIST = MASTER, SCHEDD\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Sep-09 08:11:10 by matt:</em> <br/>\n\nYou should look at how the Red Hat RPMs handle this, it has evolved since your first snapshot of our spec and default config.\n\n<p></p><hr/>\n<em>2015-Feb-11 16:01:51 by bbockelm:</em> <br/>\n\nI believe this is already done in a different ticket.  Marking as abandoned.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Feb-11 16:02", "status": "abandoned", "created": "2011-Sep-08 15:07", "fixed_version": "2011-Sep-08 15:07", "broken_version": "v070603", "priority": "2", "subsystem": "Packaging", "assigned_to": "", "derived_from": "", "creator": "roy", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
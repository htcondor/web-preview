{"id": 2566, "title": "Ticket #2566: race condition in condor_history", "description": "<blockquote>\ncondor_history may skip over some jobs if rotation of the history file happens between the time condor_history builds a list of the history filenames and the time it opens \"history\".  The problem is that \"history\" may get renamed in the interim.\n\n<p>Igor suspects he encountered a case where condor_history skipped over a bunch of jobs.  The above race condition <em>may</em> explain it, but we are not sure it is what really happened.\n\n</p><p>How to fix: do not rename the main history file.  When it is initially created, name it \"history.&lt;timestamp&gt;\", like the names of the rotated history files.  Then \"rotation\" just means we delete one history file and open a new history file, but no files get renamed.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2011-Oct-19 16:33", "status": "new", "created": "2011-Oct-19 16:33", "fixed_version": "2011-Oct-19 16:33", "broken_version": "v070000", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "isfiligoi@ucsd.edu,dan@hep.wisc.edu", "due_date": ""}
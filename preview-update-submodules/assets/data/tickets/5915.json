{"id": 5915, "title": "Ticket #5915: annex-related code cleanup?", "description": "<blockquote>\n<ul>\n<li><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BoincResource\" title=\"Boinc Resource\">BoincResource</a></span> * member in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GenericGahpClient\" title=\"Generic Gahp Client\">GenericGahpClient</a></span> shouldn't be there.\n</li></ul>\n\n<p>The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GenericGahpClient\" title=\"Generic Gahp Client\">GenericGahpClient</a></span> shouldn't need to know about <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BoincResources\" title=\"Boinc Resources\">BoincResources</a></span> at all, much less carry around a pointer to one.  It wasn't initially worth the trouble to rewrite now_pending() (and virtualize it and make a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BoincGahpClient\" title=\"Boinc Gahp Client\">BoincGahpClient</a></span> subclass?) to remove it, but it would be cleaner without it.\n\n</p><p></p><ul>\n<li>PutTargets.cpp has a lot of ASSERTs in it.\n</li></ul>\n\n<p>We may want convert some of those ASSERTs into failures, instead.\n\n</p><p></p><ul>\n<li>In ReplyAndClean.cpp, we don't cancel the event gahp's timer.  It happens to share a timer with the non-even gahp, but that might not always be true.  If it's safe to cancel a timer twice, we should just cancel the timer associated with each gahp we're delete()ing.\n\n<p></p></li><li>Move readShortFile() into the util lib?</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2016-Sep-21 13:36", "status": "new", "created": "2016-Sep-21 13:36", "fixed_version": "2016-Sep-21 13:36", "broken_version": "v080508", "priority": "4", "subsystem": "Grid", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
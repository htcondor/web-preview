{"id": 20, "title": "Ticket #20: Random failures of the eventlog tests on AIX", "description": "<blockquote>\nThe eventlog regressions tests fail seemingly randomly, and only on AIX.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 10:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8b9f6d842ab7db473fca067f8f66bfd9998761f3\">[13458]</a></span>: Removed some debug code from the eventlog rotation tests <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 10:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7faafeb3714847bd518342c6313c24020f30ed74\">[13450]</a></span>: Removed some debug code from the eventlog rotation tests <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e4fbe98cdbe5725a1455f2c9e07265d7873018a7\">[13457]</a></span>: Replaced some commented out code with a \"do nothing\" comment <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3888c1b2ecbde1a17818b10784615277481f9732\">[13456]</a></span>: A simple script that I use to run the eventlog tests -- this should never be used in any automated tests <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/508391db525b6a1756d129ee526ed81b8c7ab9fe\">[13455]</a></span>: Finished the rework required to get the eventlog rotation tests using the actual file sizes and rotations rather than some bogus number of events as it was previously. Conflicts: src/condor_c++_util/user_log.cpp <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/33cb7f0dffc0f80071a077450b873755e4504329\">[13454]</a></span>: Added --max-{rotations,sequence,global,user} parameters, and use a derived version of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> to track rotation events <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/878920389b9a8cdc15e7ef612758d34cde0dc1ff\">[13453]</a></span>: Made the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> class derivable, and added some empty methods that the tests will use to track rotation events. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/176244c6b33688245aeb13998602dcaeb6b3e98a\">[13452]</a></span>: Added the ability to handle long options <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b60dcc823718b48bf18e4c6739070ac2088e3ec2\">[13451]</a></span>: Fixed some bad intention (tab/space) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-15 09:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/56ef009f514be5eae9e1dfaf32b2aee608f93575\">[13448]</a></span>: Replaced some commented out code with a \"do nothing\" comment <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/700fe8862d5b1da8bca3d1e4e4747bac3399bfe7\">[13446]</a></span>: A simple script that I use to run the eventlog tests -- this should never be used in any automated tests <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3ee7684c8e8292dbb6e91e4842f5f6d2b7a16141\">[13445]</a></span>: Finished the rework required to get the eventlog rotation tests using the actual file sizes and rotations rather than some bogus number of events as it was previously. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0398f2a24b3495ec2434944a8d54f11f155cf848\">[13444]</a></span>: Added --max-{rotations,sequence,global,user} parameters, and use a derived version of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> to track rotation events <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/67b562f326b0bbd2e2525b16acafd05a939b98ad\">[13443]</a></span>: Made the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> class derivable, and added some empty methods that the tests will use to track rotation events. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3d8b57f00608344269cc6bc8bd36d3824acfdfee\">[13442]</a></span>: Added the ability to handle long options <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jan-14 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/58f075e5360570308ea77ea9775aee5195c088c7\">[13441]</a></span>: Fixed some bad intention (tab/space) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=20\" onclick=\"get_ticket_and_populate_wrapper('20'); return false;\" title=\"Random failures of the eventlog tests on AIX\">#20</a></span> (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 13:15", "status": "resolved", "created": "2009-Jan-15 11:11", "fixed_version": "2009-Jan-15 11:11", "broken_version": "", "priority": "3", "subsystem": "Tests", "assigned_to": "nleroy", "derived_from": "", "creator": "nleroy", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
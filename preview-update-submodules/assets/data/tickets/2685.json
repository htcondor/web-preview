{"id": 2685, "title": "Ticket #2685: improve support for heterogeneous GPU resources in one machine", "description": "<blockquote>\nWe'd like to be able to tell Condor that a given startd has N GPUs, and then have Condor hand them out as dynamic resources (like CPU or memory, except most jobs would request 0 of them unless they explicitly ask for &gt;0).\n\n<p>It's possible a server may have &gt;1 flavor of GPU (e.g. 1 model Foo 2000 and 2 model Bar 5000s) , so this probably needs to more flexible than a static \"GPU\" resource type.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Dec-02 16:39:57 by tstclair:</em> <br/>\n\nThere are a number of ticket all associated with this idea, we should link them all and mark for next developer series.\n\n<p></p><hr/>\n<em>2012-Feb-10 14:49:23 by pfc:</em> <br/>\n\nUpdated priority to match Todd's new scheme (1=fire, 2=soon, 3=time permitting, 4=not yet prioritized, 5=wishlist/ideas).\n\n<p></p><hr/>\n<em>2012-Sep-20 10:52:33 by tstclair:</em> <br/>\n\nWhat's up with *this?\n<hr/>\n<em>2012-Oct-22 14:59:14 by zmiller:</em> <br/>\n\nBulk change of target version from v070901 to v070902 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2012-Nov-27 14:25:55 by pfc:</em> <br/>\n\nPer our conversation in the 11/27/12 call, if it's hard to solve this generally but you can give us a constrained version of this with 1 and only 1 GPU per job, it would be extremely useful and ease our dynamic slot deployment.\n<hr/>\n<em>2012-Dec-11 16:37:58 by johnkn:</em> <br/>\n\nBulk change of target version from v070902 to v070903 using ./ticket-target-mover.\n<hr/>\n<em>2013-Jan-22 10:54:51 by johnkn:</em> <br/>\n\nBulk change of target version from v070903 to v070904 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2013-Mar-05 08:24:51 by pfc:</em> <br/>\n\nWhat's the status of this?  Is it blocked on Todd's grand scheme for GPUs?  If there's another ticket or wiki page with more info, please link to it from here.\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2013-Jul-25 10:03:23 by pfc:</em> <br/>\n\nTemporarily bumping this down to priority==3 since we have a number of other priority==2 issues right now.\n\n<p></p><hr/>\n<em>2013-Jul-25 10:06:40 by tstclair:</em> <br/>\n\nPeter - How does this differ from (<a class=\"external\" href=\"https://htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=2905\">https://htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=2905</a>)?\n\n<p></p><hr/>\n<em>2013-Jul-25 11:56:14 by pfc:</em> <br/>\n\nGreat question.  In practice they've overlapped, except this ticket involves the complication of heterogenous GPUs in one machine, where sometimes you might need one specific model or the other, but sometimes you can take whichever's available.  This isn't possible when they're defined as distinct resource types since you can't say \"I need 1 foo OR 1 bar\" via the request_* syntax -- and on the flip side, you can't define them all as one type and use slot attributes and job requirements to select the right kind (like you could OS or ARCH, for example) because there's no way to advertise the different attrs with dynamic slots.\n\n<p>So maybe the \"let us define custom GPU resources\" part of this ticket (which is now solved for internally GPU-homogenous machines) can be considered addressed by <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2905\" onclick=\"get_ticket_and_populate_wrapper('2905'); return false;\" title=\"RFE: adding local resource limits to partionable slots\">#2905</a></span>, and this ticket can morph into the specific \"support for heterogeneous GPU resources in one machine\" issue, which is lower priority (maybe even priority==4 for now, I think).</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3386\" onclick=\"get_ticket_and_populate_wrapper('3386'); return false;\" title=\"RFE: GPU discovery and ClassAd Update\">#3386</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRFE: GPU discovery and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> Update</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2015-Sep-21 11:43", "status": "defer", "created": "2011-Dec-02 14:37", "fixed_version": "2011-Dec-02 14:37", "broken_version": "v070900", "priority": "5", "subsystem": "Daemons", "assigned_to": "tannenba", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu,tstclair@redhat.com, tannenba@cs.wisc.edu, eje@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
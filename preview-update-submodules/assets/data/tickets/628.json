{"id": 628, "title": "Ticket #628: Create test for DAG recovery across schedd upgrade/restart", "description": "<blockquote>\nFake this by touching condor_schedd binary.</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2012-Oct-16 15:16:58 by wenger:</em> <br/>\n\nAlso see <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3250\" onclick=\"get_ticket_and_populate_wrapper('3250'); return false;\" title=\"Create script to preserve DAGs across 7.8.5 upgrade at LIGO\">#3250</a></span>...\n\n<p></p><hr/>\n<em>2012-Oct-18 14:48:25 by wenger:</em> <br/>\n\nAs per discussion with Todd T -- the test needs to check that the restart has completed, not just rely on a sleep...\n\n<p></p><hr/>\n<em>2012-Oct-23 11:13:08 by wenger:</em> <br/>\n\nOkay, this should be all set to go, but I'm not going to resolve the ticket until I see the test run in the batlab...\n\n<p></p><hr/>\n<em>2012-Oct-24 13:38:45 by wenger:</em> <br/>\n\nThis has now run successfully in the batlab, so I'm going to resolve it.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-23 11:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6a60714263ed78711475e30067b2dc11d26cc82f\">[33742]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=628\" onclick=\"get_ticket_and_populate_wrapper('628'); return false;\" title=\"Create test for DAG recovery across schedd upgrade/restart\">#628</a></span>: the test script now removes the DAG lock file if it exists; added the test to the list to get run.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-22 18:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2e164adfbc96487cbb9d90a4a5a074c5640519c7\">[33741]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8fc97be6d43146582c49c892892b4023681a1319\">[33705]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/43bff866c3adcd5b56a6a0a56d1a3551e7222b3c\">[33706]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2660bfaf08ef9abdf7a17d91715829271064316f\">[33707]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ee7d5fbefb8165519efd462777b75cc8b7751f53\">[33708]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/62ef5e4fc49be94efffad32e612ec7ad9d85780a\">[33711]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b0eda79c17dcecbf59cd25ff88d56f41aa85219a\">[33713]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1eacfe43eccc239123f3b755bc3a1061fb88f847\">[33715]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/238784adde32424550508238868e13f54c75b167\">[33718]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/89198b834f4c54bd5584e26af9ac8fccf5af6153\">[33728]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8159345f59bda3a9090d61166e264b07bcd50318\">[33739]</a></span>, Merge branch 'master' of /p/condor/repository/CONDOR_SRC Hmm -- not sure why this merge is happening -- I just committed some brand-new files (new test for gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=628\" onclick=\"get_ticket_and_populate_wrapper('628'); return false;\" title=\"Create test for DAG recovery across schedd upgrade/restart\">#628</a></span>)...  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-22 18:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7ad9fa1d8ee67f42d872791a0e1e849cf9a8b1f\">[33740]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=628\" onclick=\"get_ticket_and_populate_wrapper('628'); return false;\" title=\"Create test for DAG recovery across schedd upgrade/restart\">#628</a></span>: committing the test (but it's not yet enabled because I'm still tracking down some funky behavior when it's run against 7.8.4).  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Oct-24 13:39", "status": "defer", "created": "2009-Jul-16 09:59", "fixed_version": "2009-Jul-16 09:59", "broken_version": "v070300", "priority": "5", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "a19456", "customer_group": "ligo", "visibility": "public", "notify": "wenger@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 2396, "title": "Ticket #2396: Scheduler universe jobs can't run if executable is spooled", "description": "<blockquote>\nIf a scheduler universe job's executable is spooled via 'condor_submit -spool' or Condor-C, the schedd will fail to start the job and will put the hold on hold with hold reason \"File '...' is missing or not executable\".\n\n<p>The problem is that when a job's files are spooled, the Cmd attribute is altered to be the basename of the executable and the Iwd attribute is altered to be the job's spool directory. When determining the path of the job's executable in Scheduler::start_sched_universe_job(), the schedd assumes Cmd contains the full path to the file.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Aug-17 15:03:07 by jfrey:</em> <br/>\n\nFix committed to V7_6-branch for 7.6.4.\n\n<p></p><hr/>\n<em>2011-Aug-17 15:10:59 by zmiller:</em> <br/>\n\n<strong>REVIEWED, LOOKS GOOD</strong></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-17 14:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/178acc7748c41cc6372ca9a6509e34694d6b5142\">[26826]</a></span>: Fix scheduler universe jobs with spooled files. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2396\" onclick=\"get_ticket_and_populate_wrapper('2396'); return false;\" title=\"Scheduler universe jobs can't run if executable is spooled\">#2396</a></span> If a job has its files spooled, the Cmd attribute will be the basename of the executable. Scheduler::start_sched_universe_job() expected Cmd to contain the full path, so starting the job would fail.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Aug-17 15:25", "status": "resolved", "created": "2011-Aug-17 12:01", "fixed_version": "2011-Aug-17 12:01", "broken_version": "v070602", "priority": "4", "subsystem": "Daemons", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
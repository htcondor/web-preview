{"id": 1035, "title": "Ticket #1035: Attributes disappearing from input piped to the job fetch hook", "description": "<blockquote>\n<div class=\"code\">\n<pre class=\"code\">Can anyone from the Condor team tell me under what circumstances I could expect the 'Requirements' attribute to be not just an unset string, but completley missing from a slot's ClassAd?\n\nThanks!\n\n- Ian\n\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Ian Chesal\n&gt; &gt; Sent: Thursday, December 03, 2009 11:54 AM\n&gt; &gt; To: 'Condor-Users Mail List'\n&gt; &gt; Subject: Attributes disappearing from input piped to the job\n&gt; &gt; fetch hook\n&gt; &gt;\n&gt; &gt; This is very odd.\n&gt; &gt;\n&gt; &gt; My job fetch hook parses stdin, which should be the class ad\n&gt; &gt; for the machine, and fills in an internal data structure\n&gt; &gt; based on the stdin. In order to figure out if the machine is\n&gt; &gt; trying to be restarted or shut down my hook script checks\n&gt; &gt; attributes like START and REQUIREMENTS.\n&gt; &gt;\n&gt; &gt; In one of my pools, after some period of time, the class ad\n&gt; &gt; passed to my hook script has missing attributes. Specifically\n&gt; &gt; the REQUIREMENTS attribute for the machine disappears.\n&gt; &gt;\n&gt; &gt; Restart Condor on the machine fixes the problem.\n&gt; &gt;\n&gt; &gt; I have my hook script dumping the stdin to stderr for\n&gt; &gt; debugging right now. Here you can see what Condor was telling\n&gt; &gt; my hook script, note the missing requirements attribute in the output:\n&gt; &gt;\n&gt; &gt; 12/3 11:42:27 Warning, hook\n&gt; &gt; /tools/arc/scripts/hooks/arc_job_fetch (pid 2879) printed to\n&gt; &gt; stderr: DEBUG IAN: mytype = \"Machine\"\n&gt; &gt; DEBUG IAN: targettype = \"Job\"\n&gt; &gt; DEBUG IAN: name = \"slot2@TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: rank = 1\n&gt; &gt; DEBUG IAN: cpubusy = ((LoadAvg - CondorLoadAvg) &gt;= 0.500000)\n&gt; &gt; DEBUG IAN: mycurrenttime = 1259858546\n&gt; &gt; DEBUG IAN: machine = \"TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: publicnetworkipaddr = \"&lt;137.57.142.51:32802&gt;\"\n&gt; &gt; DEBUG IAN: collector_host_string = \"to-condor.altera.com\"\n&gt; &gt; DEBUG IAN: starter_job_environment = \"\n&gt; &gt; PATH=.:/opt/bin:/tools/condor/current/linux32/bin:/tools/condo\n&gt; &gt; r/current/linux32/sbin:/tools/perl/current/linux32/bin:/usr/X1\n&gt; &gt; 1R6/bin:/usr/bin:/bin:~/bin:~/sbin ARC_TOOLS=/tools   \"\n&gt; &gt; DEBUG IAN: logdir = \"/build/arc/log\"\n&gt; &gt; DEBUG IAN: alteramachineclass = 2200\n&gt; &gt; DEBUG IAN: alteraisdesktop = FALSE\n&gt; &gt; DEBUG IAN: alteraexecuteenabled = TRUE\n&gt; &gt; DEBUG IAN: alteratoolcacheenabled = TRUE\n&gt; &gt; DEBUG IAN: arcsite = to\n&gt; &gt; DEBUG IAN: arcgroup1 = \"swip\"\n&gt; &gt; DEBUG IAN: arcgroup2 = \"sse\"\n&gt; &gt; DEBUG IAN: arcgroup3 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup4 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup5 = \"\"\n&gt; &gt; DEBUG IAN: alteraoperatingsystem = \"CENT4\"\n&gt; &gt; DEBUG IAN: alteraarchitecture = \"AMD64\"\n&gt; &gt; DEBUG IAN: has_nx = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_start_time = 1080\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_end_time = 360\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_start_time = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_end_time = 1439\n&gt; &gt; DEBUG IAN: altera_desktop_user_idle_time = 300\n&gt; &gt; DEBUG IAN: altera_num_vms_for_desktop_executor = 0\n&gt; &gt; DEBUG IAN: condor = TRUE\n&gt; &gt; DEBUG IAN: perl = TRUE\n&gt; &gt; DEBUG IAN: perl_site_lib = TRUE\n&gt; &gt; DEBUG IAN: acewin = TRUE\n&gt; &gt; DEBUG IAN: abctools = TRUE\n&gt; &gt; DEBUG IAN: alterabatchclientversion = 1.000000\n&gt; &gt; DEBUG IAN: arccacheenabled = TRUE\n&gt; &gt; DEBUG IAN: strict_groups = 1\n&gt; &gt; DEBUG IAN: condorversion = \"$CondorVersion: 7.2.2 Mar 23 2009\n&gt; &gt; BuildID: 140637 PRE-RELEASE-UWCS $\"\n&gt; &gt; DEBUG IAN: condorplatform = \"$CondorPlatform: I386-LINUX_RHEL5 $\"\n&gt; &gt; DEBUG IAN: slotid = 2\n&gt; &gt; DEBUG IAN: virtualmemory = 1042279\n&gt; &gt; DEBUG IAN: totaldisk = 115387128\n&gt; &gt; DEBUG IAN: disk = 28846782\n&gt; &gt; DEBUG IAN: condorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: loadavg = 0.590000\n&gt; &gt; DEBUG IAN: keyboardidle = 1132510\n&gt; &gt; DEBUG IAN: consoleidle = 1132510\n&gt; &gt; DEBUG IAN: memory = 1967\n&gt; &gt; DEBUG IAN: cpus = 1\n&gt; &gt; DEBUG IAN: startdipaddr = \"&lt;137.57.142.51:32802&gt;\"\n&gt; &gt; DEBUG IAN: arch = \"X86_64\"\n&gt; &gt; DEBUG IAN: opsys = \"LINUX\"\n&gt; &gt; DEBUG IAN: uiddomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: filesystemdomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: hasioproxy = TRUE\n&gt; &gt; DEBUG IAN: checkpointplatform = \"LINUX X86_64 2.6.x normal 0xffffe000\"\n&gt; &gt; DEBUG IAN: totalvirtualmemory = 4169116\n&gt; &gt; DEBUG IAN: totalcpus = 4\n&gt; &gt; DEBUG IAN: totalmemory = 7870\n&gt; &gt; DEBUG IAN: kflops = 1041508\n&gt; &gt; DEBUG IAN: mips = 3020\n&gt; &gt; DEBUG IAN: lastbenchmark = 1259847554\n&gt; &gt; DEBUG IAN: totalloadavg = 3.590000\n&gt; &gt; DEBUG IAN: totalcondorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: clockmin = 701\n&gt; &gt; DEBUG IAN: clockday = 4\n&gt; &gt; DEBUG IAN: totalslots = 4\n&gt; &gt; DEBUG IAN: hasfiletransfer = TRUE\n&gt; &gt; DEBUG IAN: hasperfileencryption = TRUE\n&gt; &gt; DEBUG IAN: hasreconnect = TRUE\n&gt; &gt; DEBUG IAN: hasmpi = TRUE\n&gt; &gt; DEBUG IAN: hastdp = TRUE\n&gt; &gt; DEBUG IAN: hasjobdeferral = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalconfig = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalstdin = TRUE\n&gt; &gt; DEBUG IAN: starterabilitylist =\n&gt; &gt; \"HasFileTransfer,HasPerFileEncryption,HasReconnect,HasMPI,HasT\n&gt; &gt; DP,HasJobDeferral,HasJICLocalConfig,HasJICLocalStdin,HasVM\"\n&gt; &gt; DEBUG IAN: hasvm = FALSE\n&gt; &gt; DEBUG IAN: hibernationlevel = 0\n&gt; &gt; DEBUG IAN: hibernationstate = \"NONE\"\n&gt; &gt; DEBUG IAN: canhibernate = TRUE\n&gt; &gt; DEBUG IAN: hardwareaddress = \"00:14:4f:28:62:5e\"\n&gt; &gt; DEBUG IAN: subnet = \"255.255.255.0\"\n&gt; &gt; DEBUG IAN: iswakeonlansupported = TRUE\n&gt; &gt; DEBUG IAN: iswakeonlanenabled = FALSE\n&gt; &gt; DEBUG IAN: iswakeable = FALSE\n&gt; &gt; DEBUG IAN: wakeonlansupportedflags = \"UniCast\n&gt; &gt; Packet,MultiCast Packet,BroadCast Packet,Magic Packet\"\n&gt; &gt; DEBUG IAN: wakeonlanenabledflags = \"NONE\"\n&gt; &gt; DEBUG IAN: cpubusytime = 59\n&gt; &gt; DEBUG IAN: cpuisbusy = TRUE\n&gt; &gt; DEBUG IAN: timetolive = 2147483647\n&gt; &gt; DEBUG IAN: state = \"Unclaimed\"\n&gt; &gt; DEBUG IAN: enteredcurrentstate = 1259816952\n&gt; &gt; DEBUG IAN: activity = \"Idle\"\n&gt; &gt; DEBUG IAN: enteredcurrentactivity = 1259816952\n&gt; &gt; DEBUG IAN: totaltimeowneridle = 8\n&gt; &gt; DEBUG IAN: totaltimeunclaimedidle = 439492\n&gt; &gt; DEBUG IAN: totaltimeunclaimedbenchmarking = 60\n&gt; &gt; DEBUG IAN: totaltimeclaimedidle = 107\n&gt; &gt; DEBUG IAN: totaltimeclaimedbusy = 674838\n&gt; &gt; DEBUG IAN: totaltimepreemptingvacating = 1\n&gt; &gt; DEBUG IAN: start = ((TRUE =?= TRUE) &amp;&amp; (((FALSE =?= TRUE) &amp;&amp;\n&gt; &gt; (((TRUE =!= TRUE) || (((FALSE =?= TRUE) &amp;&amp; ((((((ClockDay &gt; 0\n&gt; &gt; &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080 &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp;\n&gt; &gt; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp; (ClockMin &gt;= 1080 ||\n&gt; &gt; ClockMin &lt;= 360)))) || ((ClockDay == 0 || ClockDay == 6) &amp;&amp;\n&gt; &gt; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin &lt;= 1439)) || ((1439\n&gt; &gt; &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;= 1439)))))) &amp;&amp; (((LoadAvg\n&gt; &gt; - CondorLoadAvg) &lt;= 0.300000) || (State != \"Unclaimed\" &amp;&amp;\n&gt; &gt; State != \"Owner\")) &amp;&amp; (KeyboardIdle &gt;= 300)) || ((SlotID &lt;=\n&gt; &gt; 0))) =!= TRUE)) || ((FALSE =!= TRUE) &amp;&amp; FALSE))) =?= FALSE))\n&gt; &gt; || ((FALSE =!= TRUE) &amp;&amp; (((TRUE =!= TRUE) || (((FALSE =?=\n&gt; &gt; TRUE) &amp;&amp; ((((((ClockDay &gt; 0 &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080\n&gt; &gt; &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp;\n&gt; &gt; (ClockMin &gt;= 1080 || ClockMin &lt;= 360)))) || ((ClockDay == 0\n&gt; &gt; || ClockDay == 6) &amp;&amp; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin\n&gt; &gt; &lt;= 1439)) || ((1439 &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;=\n&gt; &gt; 1439)))))) &amp;&amp; (((LoadAvg - CondorLoadAvg) &lt;= 0.300000) ||\n&gt; &gt; (State != \"Unclaimed\" &amp;&amp; State != \"Owner\")) &amp;&amp; (KeyboardIdle\n&gt;&gt; &gt; &gt;= 300)) || ((SlotID &lt;= 0))) =!= TRUE)) || ((FALSE =!= TRUE)\n&gt; &gt; &amp;&amp; FALSE))) =?= FALSE))))\n&gt; &gt;\n&gt; &gt; 12/3 11:42:27 DaemonCore: return from reaper for pid 2879\n&gt; &gt;\n&gt; &gt; And here is the output right after I issue a condor_restart\n&gt; &gt; against the machine but before Condor restarts. Note that\n&gt; &gt; requirements is back, but empty, which is what we expect when\n&gt; &gt; a restart is issued:\n&gt; &gt;\n&gt; &gt; 12/3 11:42:27 DaemonCore: pid 2873 exited with status 0,\n&gt; &gt; invoking reaper 1 &lt;HookClientMgr Output Reaper&gt;\n&gt; &gt; 12/3 11:42:27 Warning, hook\n&gt; &gt; /tools/arc/scripts/hooks/arc_job_fetch (pid 2873) printed to\n&gt; &gt; stderr: DEBUG IAN: mytype = \"Machine\"\n&gt; &gt; DEBUG IAN: targettype = \"Job\"\n&gt; &gt; DEBUG IAN: name = \"slot4@TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: rank = 1\n&gt; &gt; DEBUG IAN: cpubusy = ((LoadAvg - CondorLoadAvg) &gt;= 0.500000)\n&gt; &gt; DEBUG IAN: mycurrenttime = 1259858546\n&gt; &gt; DEBUG IAN: machine = \"TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: publicnetworkipaddr = \"&lt;137.57.142.51:32802&gt;\"\n&gt; &gt; DEBUG IAN: collector_host_string = \"to-condor.altera.com\"\n&gt; &gt; DEBUG IAN: starter_job_environment = \"\n&gt; &gt; PATH=.:/opt/bin:/tools/condor/current/linux32/bin:/tools/condo\n&gt; &gt; r/current/linux32/sbin:/tools/perl/current/linux32/bin:/usr/X1\n&gt; &gt; 1R6/bin:/usr/bin:/bin:~/bin:~/sbin ARC_TOOLS=/tools   \"\n&gt; &gt; DEBUG IAN: logdir = \"/build/arc/log\"\n&gt; &gt; DEBUG IAN: alteramachineclass = 2200\n&gt; &gt; DEBUG IAN: alteraisdesktop = FALSE\n&gt; &gt; DEBUG IAN: alteraexecuteenabled = TRUE\n&gt; &gt; DEBUG IAN: alteratoolcacheenabled = TRUE\n&gt; &gt; DEBUG IAN: arcsite = to\n&gt; &gt; DEBUG IAN: arcgroup1 = \"swip\"\n&gt; &gt; DEBUG IAN: arcgroup2 = \"sse\"\n&gt; &gt; DEBUG IAN: arcgroup3 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup4 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup5 = \"\"\n&gt; &gt; DEBUG IAN: alteraoperatingsystem = \"CENT4\"\n&gt; &gt; DEBUG IAN: alteraarchitecture = \"AMD64\"\n&gt; &gt; DEBUG IAN: has_nx = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_start_time = 1080\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_end_time = 360\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_start_time = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_end_time = 1439\n&gt; &gt; DEBUG IAN: altera_desktop_user_idle_time = 300\n&gt; &gt; DEBUG IAN: altera_num_vms_for_desktop_executor = 0\n&gt; &gt; DEBUG IAN: condor = TRUE\n&gt; &gt; DEBUG IAN: perl = TRUE\n&gt; &gt; DEBUG IAN: perl_site_lib = TRUE\n&gt; &gt; DEBUG IAN: acewin = TRUE\n&gt; &gt; DEBUG IAN: abctools = TRUE\n&gt; &gt; DEBUG IAN: alterabatchclientversion = 1.000000\n&gt; &gt; DEBUG IAN: arccacheenabled = TRUE\n&gt; &gt; DEBUG IAN: strict_groups = 1\n&gt; &gt; DEBUG IAN: condorversion = \"$CondorVersion: 7.2.2 Mar 23 2009\n&gt; &gt; BuildID: 140637 PRE-RELEASE-UWCS $\"\n&gt; &gt; DEBUG IAN: condorplatform = \"$CondorPlatform: I386-LINUX_RHEL5 $\"\n&gt; &gt; DEBUG IAN: slotid = 4\n&gt; &gt; DEBUG IAN: virtualmemory = 1042279\n&gt; &gt; DEBUG IAN: totaldisk = 115387128\n&gt; &gt; DEBUG IAN: disk = 28846782\n&gt; &gt; DEBUG IAN: condorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: loadavg = 1.000000\n&gt; &gt; DEBUG IAN: keyboardidle = 0\n&gt; &gt; DEBUG IAN: consoleidle = 1132510\n&gt; &gt; DEBUG IAN: memory = 1967\n&gt; &gt; DEBUG IAN: cpus = 1\n&gt; &gt; DEBUG IAN: startdipaddr = \"&lt;137.57.142.51:32802&gt;\"\n&gt; &gt; DEBUG IAN: arch = \"X86_64\"\n&gt; &gt; DEBUG IAN: opsys = \"LINUX\"\n&gt; &gt; DEBUG IAN: uiddomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: filesystemdomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: hasioproxy = TRUE\n&gt; &gt; DEBUG IAN: checkpointplatform = \"LINUX X86_64 2.6.x normal 0xffffe000\"\n&gt; &gt; DEBUG IAN: totalvirtualmemory = 4169116\n&gt; &gt; DEBUG IAN: totalcpus = 4\n&gt; &gt; DEBUG IAN: totalmemory = 7870\n&gt; &gt; DEBUG IAN: kflops = 1041508\n&gt; &gt; DEBUG IAN: mips = 3020\n&gt; &gt; DEBUG IAN: lastbenchmark = 1259847554\n&gt; &gt; DEBUG IAN: totalloadavg = 3.590000\n&gt; &gt; DEBUG IAN: totalcondorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: clockmin = 701\n&gt; &gt; DEBUG IAN: clockday = 4\n&gt; &gt; DEBUG IAN: totalslots = 4\n&gt; &gt; DEBUG IAN: hasfiletransfer = TRUE\n&gt; &gt; DEBUG IAN: hasperfileencryption = TRUE\n&gt; &gt; DEBUG IAN: hasreconnect = TRUE\n&gt; &gt; DEBUG IAN: hasmpi = TRUE\n&gt; &gt; DEBUG IAN: hastdp = TRUE\n&gt; &gt; DEBUG IAN: hasjobdeferral = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalconfig = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalstdin = TRUE\n&gt; &gt; DEBUG IAN: starterabilitylist =\n&gt; &gt; \"HasFileTransfer,HasPerFileEncryption,HasReconnect,HasMPI,HasT\n&gt; &gt; DP,HasJobDeferral,HasJICLocalConfig,HasJICLocalStdin,HasVM\"\n&gt; &gt; DEBUG IAN: hasvm = FALSE\n&gt; &gt; DEBUG IAN: hibernationlevel = 0\n&gt; &gt; DEBUG IAN: hibernationstate = \"NONE\"\n&gt; &gt; DEBUG IAN: canhibernate = TRUE\n&gt; &gt; DEBUG IAN: hardwareaddress = \"00:14:4f:28:62:5e\"\n&gt; &gt; DEBUG IAN: subnet = \"255.255.255.0\"\n&gt; &gt; DEBUG IAN: iswakeonlansupported = TRUE\n&gt; &gt; DEBUG IAN: iswakeonlanenabled = FALSE\n&gt; &gt; DEBUG IAN: iswakeable = FALSE\n&gt; &gt; DEBUG IAN: wakeonlansupportedflags = \"UniCast\n&gt; &gt; Packet,MultiCast Packet,BroadCast Packet,Magic Packet\"\n&gt; &gt; DEBUG IAN: wakeonlanenabledflags = \"NONE\"\n&gt; &gt; DEBUG IAN: cpubusytime = 436477\n&gt; &gt; DEBUG IAN: cpuisbusy = TRUE\n&gt; &gt; DEBUG IAN: timetolive = 2147483647\n&gt; &gt; DEBUG IAN: state = \"Unclaimed\"\n&gt; &gt; DEBUG IAN: enteredcurrentstate = 1259610891\n&gt; &gt; DEBUG IAN: activity = \"Idle\"\n&gt; &gt; DEBUG IAN: enteredcurrentactivity = 1259847554\n&gt; &gt; DEBUG IAN: totaltimeowneridle = 8\n&gt; &gt; DEBUG IAN: totaltimeunclaimedidle = 761124\n&gt; &gt; DEBUG IAN: totaltimeunclaimedbenchmarking = 191\n&gt; &gt; DEBUG IAN: totaltimeclaimedidle = 127\n&gt; &gt; DEBUG IAN: totaltimeclaimedbusy = 353055\n&gt; &gt; DEBUG IAN: totaltimepreemptingvacating = 1\n&gt; &gt; DEBUG IAN: start = ((TRUE =?= TRUE) &amp;&amp; (((FALSE =?= TRUE) &amp;&amp;\n&gt; &gt; (((TRUE =!= TRUE) || (((FALSE =?= TRUE) &amp;&amp; ((((((ClockDay &gt; 0\n&gt; &gt; &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080 &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp;\n&gt; &gt; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp; (ClockMin &gt;= 1080 ||\n&gt; &gt; ClockMin &lt;= 360)))) || ((ClockDay == 0 || ClockDay == 6) &amp;&amp;\n&gt; &gt; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin &lt;= 1439)) || ((1439\n&gt; &gt; &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;= 1439)))))) &amp;&amp; (((LoadAvg\n&gt; &gt; - CondorLoadAvg) &lt;= 0.300000) || (State != \"Unclaimed\" &amp;&amp;\n&gt; &gt; State != \"Owner\")) &amp;&amp; (KeyboardIdle &gt;= 300)) || ((SlotID &lt;=\n&gt; &gt; 0))) =!= TRUE)) || ((FALSE =!= TRUE) &amp;&amp; FALSE))) =?= FALSE))\n&gt; &gt; || ((FALSE =!= TRUE) &amp;&amp; (((TRUE =!= TRUE) || (((FALSE =?=\n&gt; &gt; TRUE) &amp;&amp; ((((((ClockDay &gt; 0 &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080\n&gt; &gt; &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp;\n&gt; &gt; (ClockMin &gt;= 1080 || ClockMin &lt;= 360)))) || ((ClockDay == 0\n&gt; &gt; || ClockDay == 6) &amp;&amp; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin\n&gt; &gt; &lt;= 1439)) || ((1439 &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;=\n&gt; &gt; 1439)))))) &amp;&amp; (((LoadAvg - CondorLoadAvg) &lt;= 0.300000) ||\n&gt; &gt; (State != \"Unclaimed\" &amp;&amp; State != \"Owner\")) &amp;&amp; (KeyboardIdle\n&gt;&gt; &gt; &gt;= 300)) || ((SlotID &lt;= 0))) =!= TRUE)) || ((FALSE =!= TRUE)\n&gt; &gt; &amp;&amp; FALSE))) =?= FALSE))))\n&gt; &gt; DEBUG IAN: requirements =\n&gt; &gt;\n&gt; &gt; And here is is after the restart is completed, now it\n&gt; &gt; contains a string as expected, that isn't false:\n&gt; &gt;\n&gt; &gt; 12/3 11:45:19 DaemonCore: pid 4603 exited with status 0,\n&gt; &gt; invoking reaper 1 &lt;HookClientMgr Output Reaper&gt;\n&gt; &gt; 12/3 11:45:19 Warning, hook\n&gt; &gt; /tools/arc/scripts/hooks/arc_job_fetch (pid 4603) printed to\n&gt; &gt; stderr: DEBUG IAN: mytype = \"Machine\"\n&gt; &gt; DEBUG IAN: targettype = \"Job\"\n&gt; &gt; DEBUG IAN: name = \"slot1@TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: rank = 1\n&gt; &gt; DEBUG IAN: cpubusy = ((LoadAvg - CondorLoadAvg) &gt;= 0.500000)\n&gt; &gt; DEBUG IAN: mycurrenttime = 1259858716\n&gt; &gt; DEBUG IAN: machine = \"TO-SWCF0026.altera.com\"\n&gt; &gt; DEBUG IAN: publicnetworkipaddr = \"&lt;137.57.142.51:39394&gt;\"\n&gt; &gt; DEBUG IAN: collector_host_string = \"to-condor.altera.com\"\n&gt; &gt; DEBUG IAN: starter_job_environment = \"\n&gt; &gt; PATH=.:/opt/bin:/tools/condor/current/linux32/bin:/tools/condo\n&gt; &gt; r/current/linux32/sbin:/tools/perl/current/linux32/bin:/usr/X1\n&gt; &gt; 1R6/bin:/usr/bin:/bin:~/bin:~/sbin ARC_TOOLS=/tools   \"\n&gt; &gt; DEBUG IAN: logdir = \"/build/arc/log\"\n&gt; &gt; DEBUG IAN: alteramachineclass = 2200\n&gt; &gt; DEBUG IAN: alteraisdesktop = FALSE\n&gt; &gt; DEBUG IAN: alteraexecuteenabled = TRUE\n&gt; &gt; DEBUG IAN: alteratoolcacheenabled = TRUE\n&gt; &gt; DEBUG IAN: arcsite = to\n&gt; &gt; DEBUG IAN: arcgroup1 = \"swip\"\n&gt; &gt; DEBUG IAN: arcgroup2 = \"sse\"\n&gt; &gt; DEBUG IAN: arcgroup3 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup4 = \"\"\n&gt; &gt; DEBUG IAN: arcgroup5 = \"\"\n&gt; &gt; DEBUG IAN: alteraoperatingsystem = \"CENT4\"\n&gt; &gt; DEBUG IAN: alteraarchitecture = \"AMD64\"\n&gt; &gt; DEBUG IAN: has_nx = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_start_time = 1080\n&gt; &gt; DEBUG IAN: altera_desktop_weekday_end_time = 360\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_start_time = 0\n&gt; &gt; DEBUG IAN: altera_desktop_weekend_end_time = 1439\n&gt; &gt; DEBUG IAN: altera_desktop_user_idle_time = 300\n&gt; &gt; DEBUG IAN: altera_num_vms_for_desktop_executor = 0\n&gt; &gt; DEBUG IAN: condor = TRUE\n&gt; &gt; DEBUG IAN: perl = TRUE\n&gt; &gt; DEBUG IAN: perl_site_lib = TRUE\n&gt; &gt; DEBUG IAN: acewin = TRUE\n&gt; &gt; DEBUG IAN: abctools = TRUE\n&gt; &gt; DEBUG IAN: alterabatchclientversion = 1.000000\n&gt; &gt; DEBUG IAN: arccacheenabled = TRUE\n&gt; &gt; DEBUG IAN: strict_groups = 1\n&gt; &gt; DEBUG IAN: condorversion = \"$CondorVersion: 7.2.2 Mar 23 2009\n&gt; &gt; BuildID: 140637 PRE-RELEASE-UWCS $\"\n&gt; &gt; DEBUG IAN: condorplatform = \"$CondorPlatform: I386-LINUX_RHEL5 $\"\n&gt; &gt; DEBUG IAN: slotid = 1\n&gt; &gt; DEBUG IAN: virtualmemory = 1042477\n&gt; &gt; DEBUG IAN: totaldisk = 115386124\n&gt; &gt; DEBUG IAN: disk = 28846532\n&gt; &gt; DEBUG IAN: condorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: loadavg = 1.000000\n&gt; &gt; DEBUG IAN: keyboardidle = 9\n&gt; &gt; DEBUG IAN: consoleidle = 1132736\n&gt; &gt; DEBUG IAN: memory = 1967\n&gt; &gt; DEBUG IAN: cpus = 1\n&gt; &gt; DEBUG IAN: startdipaddr = \"&lt;137.57.142.51:39394&gt;\"\n&gt; &gt; DEBUG IAN: arch = \"X86_64\"\n&gt; &gt; DEBUG IAN: opsys = \"LINUX\"\n&gt; &gt; DEBUG IAN: uiddomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: filesystemdomain = \"altera.com\"\n&gt; &gt; DEBUG IAN: hasioproxy = TRUE\n&gt; &gt; DEBUG IAN: checkpointplatform = \"LINUX X86_64 2.6.x normal 0xffffe000\"\n&gt; &gt; DEBUG IAN: totalvirtualmemory = 4169908\n&gt; &gt; DEBUG IAN: totalcpus = 4\n&gt; &gt; DEBUG IAN: totalmemory = 7870\n&gt; &gt; DEBUG IAN: kflops = 1048346\n&gt; &gt; DEBUG IAN: mips = 2996\n&gt; &gt; DEBUG IAN: lastbenchmark = 1259858716\n&gt; &gt; DEBUG IAN: totalloadavg = 3.210000\n&gt; &gt; DEBUG IAN: totalcondorloadavg = 0.000000\n&gt; &gt; DEBUG IAN: clockmin = 705\n&gt; &gt; DEBUG IAN: clockday = 4\n&gt; &gt; DEBUG IAN: totalslots = 4\n&gt; &gt; DEBUG IAN: hasfiletransfer = TRUE\n&gt; &gt; DEBUG IAN: hasperfileencryption = TRUE\n&gt; &gt; DEBUG IAN: hasreconnect = TRUE\n&gt; &gt; DEBUG IAN: hasmpi = TRUE\n&gt; &gt; DEBUG IAN: hastdp = TRUE\n&gt; &gt; DEBUG IAN: hasjobdeferral = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalconfig = TRUE\n&gt; &gt; DEBUG IAN: hasjiclocalstdin = TRUE\n&gt; &gt; DEBUG IAN: starterabilitylist =\n&gt; &gt; \"HasFileTransfer,HasPerFileEncryption,HasReconnect,HasMPI,HasT\n&gt; &gt; DP,HasJobDeferral,HasJICLocalConfig,HasJICLocalStdin,HasVM\"\n&gt; &gt; DEBUG IAN: hasvm = FALSE\n&gt; &gt; DEBUG IAN: hibernationlevel = 0\n&gt; &gt; DEBUG IAN: hibernationstate = \"NONE\"\n&gt; &gt; DEBUG IAN: canhibernate = TRUE\n&gt; &gt; DEBUG IAN: hardwareaddress = \"00:14:4f:28:62:5e\"\n&gt; &gt; DEBUG IAN: subnet = \"255.255.255.0\"\n&gt; &gt; DEBUG IAN: iswakeonlansupported = TRUE\n&gt; &gt; DEBUG IAN: iswakeonlanenabled = FALSE\n&gt; &gt; DEBUG IAN: iswakeable = FALSE\n&gt; &gt; DEBUG IAN: wakeonlansupportedflags = \"UniCast\n&gt; &gt; Packet,MultiCast Packet,BroadCast Packet,Magic Packet\"\n&gt; &gt; DEBUG IAN: wakeonlanenabledflags = \"NONE\"\n&gt; &gt; DEBUG IAN: cpubusytime = 3\n&gt; &gt; DEBUG IAN: cpuisbusy = TRUE\n&gt; &gt; DEBUG IAN: timetolive = 2147483647\n&gt; &gt; DEBUG IAN: state = \"Unclaimed\"\n&gt; &gt; DEBUG IAN: enteredcurrentstate = 1259858716\n&gt; &gt; DEBUG IAN: activity = \"Idle\"\n&gt; &gt; DEBUG IAN: enteredcurrentactivity = 1259858716\n&gt; &gt; DEBUG IAN: totaltimeowneridle = 3\n&gt; &gt; DEBUG IAN: start = ((TRUE =?= TRUE) &amp;&amp; (((FALSE =?= TRUE) &amp;&amp;\n&gt; &gt; (((TRUE =!= TRUE) || (((FALSE =?= TRUE) &amp;&amp; ((((((ClockDay &gt; 0\n&gt; &gt; &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080 &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp;\n&gt; &gt; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp; (ClockMin &gt;= 1080 ||\n&gt; &gt; ClockMin &lt;= 360)))) || ((ClockDay == 0 || ClockDay == 6) &amp;&amp;\n&gt; &gt; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin &lt;= 1439)) || ((1439\n&gt; &gt; &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;= 1439)))))) &amp;&amp; (((LoadAvg\n&gt; &gt; - CondorLoadAvg) &lt;= 0.300000) || (State != \"Unclaimed\" &amp;&amp;\n&gt; &gt; State != \"Owner\")) &amp;&amp; (KeyboardIdle &gt;= 300)) || ((SlotID &lt;=\n&gt; &gt; 0))) =!= TRUE)) || ((FALSE =!= TRUE) &amp;&amp; FALSE))) =?= FALSE))\n&gt; &gt; || ((FALSE =!= TRUE) &amp;&amp; (((TRUE =!= TRUE) || (((FALSE =?=\n&gt; &gt; TRUE) &amp;&amp; ((((((ClockDay &gt; 0 &amp;&amp; ClockDay &lt; 6) &amp;&amp; ((360 &gt; 1080\n&gt; &gt; &amp;&amp; (ClockMin &gt;= 1080 &amp;&amp; ClockMin &lt;= 360)) || (360 &lt; 1080 &amp;&amp;\n&gt; &gt; (ClockMin &gt;= 1080 || ClockMin &lt;= 360)))) || ((ClockDay == 0\n&gt; &gt; || ClockDay == 6) &amp;&amp; ((1439 &gt; 0 &amp;&amp; (ClockMin &gt;= 0 &amp;&amp; ClockMin\n&gt; &gt; &lt;= 1439)) || ((1439 &lt; 0 &amp;&amp; (ClockMin &gt;= 0 || ClockMin &lt;=\n&gt; &gt; 1439)))))) &amp;&amp; (((LoadAvg - CondorLoadAvg) &lt;= 0.300000) ||\n&gt; &gt; (State != \"Unclaimed\" &amp;&amp; State != \"Owner\")) &amp;&amp; (KeyboardIdle\n&gt;&gt; &gt; &gt;= 300)) || ((SlotID &lt;= 0))) =!= TRUE)) || ((FALSE =!= TRUE)\n&gt; &gt; &amp;&amp; FALSE))) =?= FALSE))))\n&gt; &gt; DEBUG IAN: requirements = (START) &amp;&amp; (IsValidCheckpointPlatform)\n&gt; &gt; DEBUG IAN: isvalidcheckpointplatform = (((TARGET.JobUniverse\n&gt; &gt; == 1) == FALSE) || ((MY.CheckpointPlatform =!= UNDEFINED) &amp;&amp;\n&gt; &gt; ((TARGET.Last\n&gt; &gt;\n&gt; &gt; 12/3 11:45:19 State change: Finished fetching work successfully\n&gt; &gt;\n&gt; &gt; Bug?\n&gt; &gt;\n&gt; &gt; - Ian\n\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Aug-23 17:07:50 by adesmet:</em> <br/>\n\nBulk change of target version from v070402 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2012-Oct-17 12:12", "status": "new", "created": "2009-Dec-10 12:03", "fixed_version": "2009-Dec-10 12:03", "broken_version": "v070400", "priority": "2", "subsystem": "Unknown", "assigned_to": "", "derived_from": "", "creator": "tstclair", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
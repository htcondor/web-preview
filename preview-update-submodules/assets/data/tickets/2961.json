{"id": 2961, "title": "Ticket #2961: Roadmap for v7.9 development series", "description": "<blockquote>\n<em>Note: For each item, need to create/add links to design documents and subtickets</em>\n\n<p><span class=\"subsection\"></span></p><h3>Enhancement items on the radar from UW</h3>\n\n<p><span class=\"subsubsection\"></span></p><h4>UW Mission-Critical Priority</h4>\n\n<p></p><ol>\n<li><span class=\"wiki\"><a href=\"wiki?p=StreamingCe\" title=\"Streaming Ce\">Streaming CE</a></span>.\n</li><li>Continue work on Partitionable Slots. (<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=3241\" onclick=\"get_ticket_and_populate_wrapper('3241'); return false;\" title=\"Partitionable Slots enhancements for 7.9\">#3241</a></span>)\n</li><li>BOSCO File Transfer.  Provide explicit job sandbox movement operations to move files in the event that a schedd does not share a file system with the head (submit) node of a cluster where the blahp is launched. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2386\" onclick=\"get_ticket_and_populate_wrapper('2386'); return false;\" title=\"Add file transfer to BOSCO\">#2386</a></span>)\n</li></ol>\n\n<p><span class=\"subsubsection\"></span></p><h4>UW High Priority</h4>\n\n<p></p><ol>\n<li>Remove barriers that prevent Condor-C from serving as a CE <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1376\" onclick=\"get_ticket_and_populate_wrapper('1376'); return false;\" title=\"Condor-C CE checklist\">#1376</a></span>\n</li><li>Ckpt in Vanilla Universe. <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=2007\" onclick=\"get_ticket_and_populate_wrapper('2007'); return false;\" title=\"Can stduniv run as a vanilla job with standalone checkpointing?\">#2007</a></span>\n</li><li>Local Universe jobs managed via a Startd co-located alongside the Schedd. Essentially Local Universe as Vanilla Universe jobs with an additional requirement. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3019\" onclick=\"get_ticket_and_populate_wrapper('3019'); return false;\" title=\"Local universe jobs should run under a startd\">#3019</a></span>\n</li><li>Tool so admin can ask the local startd what is happening.  Simple command-line tool geared towards a Condor-ignorant system administrator that would contact the local startd and report who is using the machine from where. Similar to Unix's <code>who</code>; maybe a <code>condor_who</code> anyone ? <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3046\" onclick=\"get_ticket_and_populate_wrapper('3046'); return false;\" title=\"create a condor_who tool.\">#3046</a></span>\n</li><li>Glideins: Startd chirps back job starts and completions to the job log on submit node.\n</li><li>Homogenize Condor-G error codes (hold reason codes) into categories.\n</li><li>Offload File Transfer from submit machine, via either transferd (as described in bosco file transfer design document) and/or leveraging http proxies.\n</li></ol>\n\n<p><span class=\"subsubsection\"></span></p><h4>UW Medium Priority</h4>\n\n<p></p><ol>\n<li>Interactive Jobs. Leverage ssh_to_job functionality to provide a way for users to request for an interactive shell session to be scheduled on an execute machine. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3088\" onclick=\"get_ticket_and_populate_wrapper('3088'); return false;\" title=\"Interactive job support\">#3088</a></span>\n</li><li>GPU Support.  Have Condor auto-discover NVIDA CUDA GPU resources, publish operational information on these GPUs in machine <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. Sandbox GPU devices so they are only accessible to the job in which they were allocated. Allow GPUs to work w/ partitionable slots.\n</li><li>Overlap file transfer w/ computation.  Allow another job to be launched on the same resource while a starter is busy sending back the output sandbox from a previous job. This work is 80%+ completed on a branch; Fermi is expecting this functionality to make it into v7.9.x as they contributed Parags time last year. In hindsight, I think we made a mistake when we made this work dependent upon hierarchical claims/resource bundles, and instead should pursue the relatively straightforward original idea of allowing the schedd to have multiple activations per claim.\n</li><li>Job Sandboxing. Continue leveraging Linux kernel mechanisms to provide better isolation between slots on the same machine. In particular, in v7.9 interested in providing better Memory (RAM usage) isolation between slots.\n</li><li>DAGMan will use its own event log file.  We could avoid DAGMan problems with file descriptor throttles and more by changing the schedd, shadow, and condor_submit to allow a job to have more than one user log file. So the user could specify whatever log file they wanted in their submit file, but DAGMan wouldn't pay any attention to that file. Instead, DAGMan could specify its own event log file in addition to the user-specified files. That way, DAGMan would only need to read a single log file, and we could solve a bunch of problems at one shot. This would also avoid \"polluting\" the per-job user logs with POST SCRIPT TERMINATED events. (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2807\" onclick=\"get_ticket_and_populate_wrapper('2807'); return false;\" title=\"Have DAGMan use a single node job user log file\">#2807</a></span>)\n</li><li>Secure by default.\n</li><li>IPv6/IPv4 mixed pools.\n</li><li>Minimize Code Paths.\n</li><li>Support for Run as Root.\n</li><li>Multiple jobs per Shadow.\n</li><li>Operational Metrics for people who shower.  <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> is limited and very long in the tooth. Now that we have a mechanism for statistics, the idea is a basic way to present them via a web browser without the need for geeky command-line tools; similar to the usage graphs provided by glideinWMS.\n<ul>\n<li>Potentially relevant:\n<ul>\n<li>Red Hat's contrib module: Plumage - Collector <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> data into MongoDB\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=594\" onclick=\"get_ticket_and_populate_wrapper('594'); return false;\" title=\"CondorView collector should track arbitrary fields\">#594</a></span>: <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> collector should track arbitrary fields - Presumably we'll want to see historic data, not just instantaneous. Someone needs to keep the old data.  The collector does this today (in very limited ways!)\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=595\" onclick=\"get_ticket_and_populate_wrapper('595'); return false;\" title=\"Store CondorView database in more generic format\">#595</a></span>: Store <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> database in more generic format\n</li><li><span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=596\" onclick=\"get_ticket_and_populate_wrapper('596'); return false;\" title=\"Serve CondorView data via SOAP (or other HTTP) interface\">#596</a></span>: Serve <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> data via SOAP (or other HTTP) interface\n</li><li><span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=597\" onclick=\"get_ticket_and_populate_wrapper('597'); return false;\" title=\"New CondorView user interface\">#597</a></span>: New <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> user interface\n</li></ul>\n</li><li>Various statistics we might be interested in (noted as documentation hasn't entirely caught up):\n<ul>\n<li><span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=2197\" onclick=\"get_ticket_and_populate_wrapper('2197'); return false;\" title=\"General statistics architecture for Condor\">#2197</a></span>: General statistics architecture for Condor - See derived tickets\n</li><li><span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2006\" onclick=\"get_ticket_and_populate_wrapper('2006'); return false;\" title=\"RFE: publish some additional performance-related stats in schedd ad\">#2006</a></span>: RFE: publish some additional performance-related stats in schedd ad\n</li></ul>\n</li></ul>\n</li><li>Allow <code>transfer_output_remaps</code> to work with sub-directories.\n</li><li>Better blackhole detection - we can do smarter things than <span class=\"wiki\"><a href=\"wiki?p=AvoidingBlackHoles\" title=\"Avoiding Black Holes\">this recipe</a></span> by involving the startd (or matchmaker?) such that each job need not discover the blackhole on its own.\n</li></ol>\n\n<p><span class=\"subsection\"></span></p><h3>Enhancement items on the radar from Red Hat</h3>\n\n<p></p><ol>\n<li>Combine Collector/Negotiator <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=3007\" onclick=\"get_ticket_and_populate_wrapper('3007'); return false;\" title=\"Plugable collector.\">#3007</a></span>\n</li><li>Collector/Negotiator/ClassAd performance work <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2541\" onclick=\"get_ticket_and_populate_wrapper('2541'); return false;\" title=\"Memory utilization of classads (revised)\">#2541</a></span> <strong>DONE</strong>\n</li><li>PSlots <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=2826\" onclick=\"get_ticket_and_populate_wrapper('2826'); return false;\" title=\"HGQ + CC-Limits + CLAIM_PARTITIONABLE_LEFTOVERS\">#2826</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3435\" onclick=\"get_ticket_and_populate_wrapper('3435'); return false;\" title=\"negotiator-side resource consumption with consumption policies\">#3435</a></span>\n</li><li>Delta Cloud Mods\n</li><li>Move to standards <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=3096\" onclick=\"get_ticket_and_populate_wrapper('3096'); return false;\" title=\"Remove non-standard/home brew classes in pref for updated standards\">#3096</a></span> (General cleanup, readability, and perf)\n</li></ol>\n\n<p><span class=\"subsection\"></span></p><h3>Packaging/Testing items on the radar from UW</h3> <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=3154\" onclick=\"get_ticket_and_populate_wrapper('3154'); return false;\" title=\"Testing Modifications and Requirements for 7.9 Series\">#3154</a></span>\n\n<p></p><ol>\n<li>Clear/reliable mechanism to invoke the test suite outside of NMI. End users (aka Debian) should be able to run the suite.\n</li><li>Improve reliability and performance of test suite. Explicit notification feedback for consumption by functional tests.\n</li><li>Address packaging divergence.\n</li><li>Enhance coverage of tests, especially run-as-root tests.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=1282\" onclick=\"get_ticket_and_populate_wrapper('1282'); return false;\" title=\"update defaults and minimize condor_config(s)\">#1282</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nupdate defaults and minimize condor_config(s)</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2541\" onclick=\"get_ticket_and_populate_wrapper('2541'); return false;\" title=\"Memory utilization of classads (revised)\">#2541</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nMemory utilization of classads (revised)</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2728\" onclick=\"get_ticket_and_populate_wrapper('2728'); return false;\" title=\"RFE: a 1st-class accounting_group 'command' for submit files\">#2728</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRFE: a 1st-class accounting_group 'command' for submit files</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2898\" onclick=\"get_ticket_and_populate_wrapper('2898'); return false;\" title=\"mktime() is dominating compute cycles when used in non-DST timezone\">#2898</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nmktime() is dominating compute cycles when used in non-DST timezone</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=3000\" onclick=\"get_ticket_and_populate_wrapper('3000'); return false;\" title=\"Negotiator Requirements, Design and Testing\">#3000</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nNegotiator Requirements, Design and Testing</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=3007\" onclick=\"get_ticket_and_populate_wrapper('3007'); return false;\" title=\"Plugable collector.\">#3007</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nPlugable collector.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3019\" onclick=\"get_ticket_and_populate_wrapper('3019'); return false;\" title=\"Local universe jobs should run under a startd\">#3019</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nLocal universe jobs should run under a startd</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3046\" onclick=\"get_ticket_and_populate_wrapper('3046'); return false;\" title=\"create a condor_who tool.\">#3046</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncreate a condor_who tool.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=3096\" onclick=\"get_ticket_and_populate_wrapper('3096'); return false;\" title=\"Remove non-standard/home brew classes in pref for updated standards\">#3096</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRemove non-standard/home brew classes in pref for updated standards</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=3154\" onclick=\"get_ticket_and_populate_wrapper('3154'); return false;\" title=\"Testing Modifications and Requirements for 7.9 Series\">#3154</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nTesting Modifications and Requirements for 7.9 Series</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2014-Aug-07 12:24", "status": "resolved", "created": "2012-Apr-27 15:58", "fixed_version": "2012-Apr-27 15:58", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com matt@cs.wisc.edu eje@cs.wisc.edu", "due_date": "PARENT"}
{"id": 7754, "title": "Ticket #7754: Backport flocking fixes from Development", "description": "<blockquote>\nBackport the flocking fixes from the development branch (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7539\" onclick=\"get_ticket_and_populate_wrapper('7539'); return false;\" title=\"Ignore FlockLevel from remote negotiator in schedd\">#7539</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7549\" onclick=\"get_ticket_and_populate_wrapper('7549'); return false;\" title=\"Negotiator prefetch breaks flocking\">#7549</a></span>).</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-31 10:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/80142e50eee3b5ab3419a5698a3ab88f55ee640b\">[60290]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7430\" onclick=\"get_ticket_and_populate_wrapper('7430'); return false;\" title=\"Update condor.spec file to be able to build on Amazon Linux 2\">#7430</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7673\" onclick=\"get_ticket_and_populate_wrapper('7673'); return false;\" title=\"Add Ubuntu 20.04 to list of supported platforms\">#7673</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7704\" onclick=\"get_ticket_and_populate_wrapper('7704'); return false;\" title=\"Ensure condor_gpu_discovery reports CoresPerCU for Volta and later GPU\">#7704</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7711\" onclick=\"get_ticket_and_populate_wrapper('7711'); return false;\" title=\"Update condor_gpu_discovery for Ampere GPUs\">#7711</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7754\" onclick=\"get_ticket_and_populate_wrapper('7754'); return false;\" title=\"Backport flocking fixes from Development\">#7754</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-03 09:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/efd9913068bc0a39df9ffc8953fab6e9a74cd4d7\">[60074]</a></span>: Ignore per user flock level when negotiator contacts schedd <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7539\" onclick=\"get_ticket_and_populate_wrapper('7539'); return false;\" title=\"Ignore FlockLevel from remote negotiator in schedd\">#7539</a></span> Conflicts: src/condor_schedd.V6/schedd.cpp Committer: Tim Theisen <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7754\" onclick=\"get_ticket_and_populate_wrapper('7754'); return false;\" title=\"Backport flocking fixes from Development\">#7754</a></span> (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-03 09:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/06bf22af3dfb2158678da4392b5b5e26b7483dd6\">[60075]</a></span>: Fix flocking when negotiator prefetch is on <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7549\" onclick=\"get_ticket_and_populate_wrapper('7549'); return false;\" title=\"Negotiator prefetch breaks flocking\">#7549</a></span> CHTC reports that the number of flocking out jobs has almost completely gone to zero. Investigation shows that with negotiator rrl prefetch on, (now the default), the negotiator sends an END NEGOTIATE command after the prefetch, as well as after the negotiation\u00a0[...]\n (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-03 09:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0efc6317aa5337475154b55a0c144716defeb4a6\">[60076]</a></span>: Fix code review issues in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7549\" onclick=\"get_ticket_and_populate_wrapper('7549'); return false;\" title=\"Negotiator prefetch breaks flocking\">#7549</a></span> Committer: Tim Theisen <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7754\" onclick=\"get_ticket_and_populate_wrapper('7754'); return false;\" title=\"Backport flocking fixes from Development\">#7754</a></span> (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Sep-17 11:13", "status": "resolved", "created": "2020-Jul-27 08:37", "fixed_version": "2020-Jul-27 08:37", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
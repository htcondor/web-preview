{"id": 7886, "title": "Ticket #7886: starter puts jobs on hold for too much memory incorrectly", "description": "<blockquote>\nCHTC reports that some jobs are going on hold because the OOM killer is reporting that the jobs are using substantially more memory than the user believes they should be.  Other similar jobs run fine, and releasing the held jobs allows them to run to completion.  When this happens, the starter seems to get the OOM signal out of the blue, and is unable to query the procd, with an error like\n\n<p></p><div class=\"code\">\n<pre class=\"code\">09/21/20 07:29:02 (pid:33899) (D_ALWAYS) error getting family usage in VanillaProc::PublishUpdateAd() for pid 33910\n09/21/20 07:29:02 (pid:33899) (D_ALWAYS) Job was held due to OOM event: Job has gone over memory limit of 2048 megabytes. Peak usage: 32683 megabytes.\n</pre></div>\n\n\n<p>Often when this happens, several starters see the problem at exactly the same time.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-19 16:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/96715bba43f1551f8dba02201a9ce2117c648223\">[61519]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7886\" onclick=\"get_ticket_and_populate_wrapper('7886'); return false;\" title=\"starter puts jobs on hold for too much memory incorrectly\">#7886</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Oct-13 07:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/151b620454d1d9615fa506b6e562062422511720\">[61485]</a></span>: Initialize memory usage var in case procd is broken <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7886\" onclick=\"get_ticket_and_populate_wrapper('7886'); return false;\" title=\"starter puts jobs on hold for too much memory incorrectly\">#7886</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Oct-19 16:53", "status": "resolved", "created": "2020-Oct-13 07:26", "fixed_version": "2020-Oct-13 07:26", "broken_version": "v080909", "priority": "1", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
{"id": 171, "title": "Ticket #171: Be able to save output of PRE and POST scripts.", "description": "<blockquote>\nCurrently, stdout and stderr of PRE and POST scripts in DAGMan is lost -- it would be nice to be able to save it somewhere.</blockquote>", "remarks": "<blockquote>\n<em>2013-Dec-13 10:04:29 by wenger:</em> <br/>\n\nI was just thinking about this (after TimC asked about it yesterday), and one question is where the output should go.  In general, the submit file for the job doesn't have to be defined before the PRE script runs, so we can't really do something based on, say, the output value in the submit file.  (And, of course, the user doesn't have to define output.)\n\n<p>Right now I can see two ways to do it:\n</p><ol>\n<li>Add some new keywords to the DAG to specify where the output should go.\n</li><li>Cons up some kind of default, like foo.dag.nodeX.pre.out.\n</li></ol>\n\n<p>I'm kind of leaning towards the second option at this point -- I think having the user add more junk to the DAG file to define where all that output goes seems like a lot of extra complication.\n\n</p><p>I think that if we go with the default option, there should be a DAG-level config macro to define whether or not you want to save that output.  Hmm -- or maybe there should be a config macro to define the filename, something like we're now doing with the default node log file.  That way you could stick your PRE/POST output files in a different directory or something if you wanted...\n\n</p><p></p><hr/>\n<em>2015-Feb-06 10:40:43 by wenger:</em> <br/>\n\nA note from Brian Candler:\n\n<p></p><pre>  #!/bin/sh\n  exec &gt;mypre.out 2&gt;mypre.err\n  ... continue with rest of script ...\n</pre>\n\n<p>(The \"exec\" keyword by itself, not followed by any other command, just\nredirects the stdout and/or stderr of the shell itself)</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=6087\" onclick=\"get_ticket_and_populate_wrapper('6087'); return false;\" title=\"Be able to set environment for DAG pre/post scripts\">#6087</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nBe able to set environment for DAG pre/post scripts</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2017-May-17 10:30", "status": "new", "created": "2009-Jan-30 13:54", "fixed_version": "2009-Jan-30 13:54", "broken_version": "v070200", "priority": "4", "subsystem": "Dag", "assigned_to": "coatsworth", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, cat@cs.wisc.edu, coatsworth@cs.wisc.edu", "due_date": ""}
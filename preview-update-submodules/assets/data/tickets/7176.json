{"id": 7176, "title": "Ticket #7176: Add condor_gpu_utilization and monitoring information to manual", "description": "<blockquote>\nGPU monitoring needs more documentation.\n\n<p>While we're thinking about it, we should turn it back on by default.\n\n</p><p>While we're thinking about it, we should adjust <code>SYSTEM_STARTD_JOB_ATTRS</code>:\n</p><ul>\n<li>Add CPUsUsage, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MemoryUsage\" title=\"Memory Usage\">MemoryUsage</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DiskUsage\" title=\"Disk Usage\">DiskUsage</a></span>.  This may required manually adding\n    the referenced attributes in those expressions.\n</li><li>Add GPUsUsage and GPUsMemoryUsage if GPU monitoring is enabled.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2019-Aug-01 14:44:35 by tlmiller:</em> <br/>\n\nDocumentation written, email sent to LIGO.\n\n<p></p><hr/>\n<em>2019-Aug-01 15:55:24 by tlmiller:</em> <br/>\n\nTurned on monitoring by default.\n\n<p></p><hr/>\n<em>2019-Aug-01 15:56:01 by tlmiller:</em> <br/>\n\nNeed to determine if Uptime* attributes ever make it to the collector.\n\n<p></p><hr/>\n<em>2019-Aug-01 16:18:11 by tlmiller:</em> <br/>\n\nNo, they don't, and specifically so; I think I considered them part of the implementation details at the time I wrote the code.  Will ponder.\n\n<p>(Also, the Uptime...Seconds attribute is not Usage, so if we're going to do this, we may want to actually calculate it.)\n\n</p><p></p><hr/>\n<em>2019-Aug-14 14:46:26 by tlmiller:</em> <br/>\n\nSee <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7201\" onclick=\"get_ticket_and_populate_wrapper('7201'); return false;\" title=\"Advertise GPUs*Usage for startd/slots\">#7201</a></span> for advertising slot/machine GPU usage numbers.\n\n<p></p><hr/>\n<em>2019-Aug-14 14:46:56 by tlmiller:</em> <br/>\n\nAlso, the CPUsUsage documentation turns out to be wrong.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-14 11:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e9a0cc105bc7dc03e1e7c301a720219ce26b32a3\">[58469]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7097\" onclick=\"get_ticket_and_populate_wrapper('7097'); return false;\" title=\"condor_annex -setup UX improvements\">#7097</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7162\" onclick=\"get_ticket_and_populate_wrapper('7162'); return false;\" title=\"Add python binding for token request\">#7162</a></span>) Release notes.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-20 13:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/86dd0452a6cd6a84fd39af3f5be89521947d592e\">[57706]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Correct documentation for CPUsUsage.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-08 15:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7f0053a2b1765a3d7a6fade2e5aedb87e7322de\">[57635]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Add CPUsUsage, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MemoryUsage\" title=\"Memory Usage\">MemoryUsage</a></span> (and its referent, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResidentSetSize\" title=\"Resident Set Size\">ResidentSetSize</a></span>), and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DiskUsage\" title=\"Disk Usage\">DiskUsage</a></span> to SYSTEM_STARTD_ATTRS.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-08 15:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7acd91d67be7c9cd524b64ee5e23f6ff2c6c56ae\">[57634]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Add GPUsUsage and GPUsMemoryUsage to STARTD_JOB_ATTRS in the GPU monitoring meta-knob.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-01 14:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b4a4ed33e292fdd0102106d55c1d642824a5c418\">[57543]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Expand GPU monitoring documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-01 14:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/64a124fd8ea4c0eaf6c9af4184209c63543b8901\">[57542]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Re-enable the GPU monitor by default.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-01 14:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f7cdafcef17536fe753195b7949266323f379417\">[57540]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7176\" onclick=\"get_ticket_and_populate_wrapper('7176'); return false;\" title=\"Add condor_gpu_utilization and monitoring information to manual\">#7176</a></span>) Expand GPU monitoring documentation.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Aug-20 13:35", "status": "resolved", "created": "2019-Jul-31 13:22", "fixed_version": "2019-Jul-31 13:22", "broken_version": "", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, pcouvare@caltech.edu", "due_date": ""}
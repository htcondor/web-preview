{"id": 5278, "title": "Ticket #5278: Add new CCB tests w/ shared port enabled.", "description": "<blockquote>\nAs of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5103\" onclick=\"get_ticket_and_populate_wrapper('5103'); return false;\" title=\"USE_SHARED_PORT should be on by default in 8.5 series\">#5103</a></span>, we explicitly disable shared port in the CCB tests because the tests break that way.  See the first commit to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5072\" onclick=\"get_ticket_and_populate_wrapper('5072'); return false;\" title=\"Write test for v1/original Sinful string interconversion.\">#5072</a></span> (and follow-up in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5200\" onclick=\"get_ticket_and_populate_wrapper('5200'); return false;\" title=\"Resolve race condition in unit_test_sinful.\">#5200</a></span>) for the explanation and work-around code.  That code must either be used explicitly (shared out of a .pm) in the three new CCB+SP tests (lib_ccb_startd,  lib_ccb_schedd, lib_ccb_schedd_privnet), or made part of the standard test utilities for starting a personal condor (check, after the final config files are written, if both CCB and shared port are on; if so, do this magic dance).\n\n<p>That code doesn't currently set the (undocumented) knob CCB_RECONNECT_TIME to 1, which is probably a good idea for test efficiency.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2015-Sep-24 17:45", "status": "new", "created": "2015-Sep-24 17:45", "fixed_version": "2015-Sep-24 17:45", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "", "derived_from": "#5247", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
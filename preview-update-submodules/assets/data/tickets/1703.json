{"id": 1703, "title": "Ticket #1703: allow different semantics for multi-job clusters", "description": "<blockquote>\n(This was requested by Igor.)\n\n<p>Currently, the semantics of multiple-job DAG nodes are that, if any job in the cluster fails, all remaining jobs are removed, and the node is considered failed.  Igor wants to have an option to have different semantics:  if any job succeeds, the node succeeds.\n\n</p><p>We are proposing several changes to implement this:\n1) There would be a new keyword NVARS, which would be similar to VARS, except that it would apply to the DAG semantics of a node, as opposed to getting passed to condor_submit.  So we'd have something like:\n\n</p><p></p><pre>  NVARS A permissive_cluster=\"true\"\n</pre>\n\n<p>We are also proposing new macros RETURN_LIST and RETURN_LIST_LEN that could be passed to a POST script.  RETURN_LIST would be the exit codes for all jobs in the cluster, in procid order.  RETURN_LIST_LEN would be the number of values in RETURN_LIST.  This would enable users to implement more complex semantics if the needed to.  RETURN_LIST and RETURN_LIST_LEN should be defined even if the old node semantics are used.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Mar-31 15:30:25 by wenger:</em> <br/>\n\nAlso see gittrac <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=349\" onclick=\"get_ticket_and_populate_wrapper('349'); return false;\" title=\"Allow failure of some procs in multi-proc nodes\">#349</a></span>.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=1704\" onclick=\"get_ticket_and_populate_wrapper('1704'); return false;\" title=\"allow multiple-cluster submits for a DAG node\">#1704</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nallow multiple-cluster submits for a DAG node</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Mar-31 15:30", "status": "new", "created": "2010-Oct-11 11:53", "fixed_version": "2010-Oct-11 11:53", "broken_version": "v070504", "priority": "4", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "wenger@cs.wisc.edu, psilord@cs.wisc.edu, matt@cs.wisc.edu", "due_date": ""}
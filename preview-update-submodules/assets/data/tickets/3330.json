{"id": 3330, "title": "Ticket #3330: ENABLE_ADDRESS_REWRITING not applied to claim request protocol", "description": "<blockquote>\nThe schedd address is sent to the startd in the claim request protocol.  Since it is sent as a CEDAR string rather than a classad address attribute, the CEDAR address rewriting rules have not been automatically applied.  The result is that a schedd on a multi-homed machine will send the same address to all startds it claims, regardless of which network interface the schedd uses to contact them.  The startds may not be able to reach the schedd at the given address.  If so, claim lease renewals will fail if using the startd-sends-alive protocol.\n\n<p>The workaround for this problem is to use PRIVATE_NETWORK_INTERFACE and PRIVATE_NETWORK_NAME.  This is good enough to handle one private network.  If there are multiple disjoint private networks, it is not flexible enough.\n\n</p><p>This problem goes back much further than 7.8.0, but I have not bothered to do the archaeology to trace it back to a precise version.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-17 09:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a383c6870e214064d604c0f612676f2e8434d211\">[34408]</a></span>: minor edit to 7.8.7 version history item ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3330\" onclick=\"get_ticket_and_populate_wrapper('3330'); return false;\" title=\"ENABLE_ADDRESS_REWRITING not applied to claim request protocol\">#3330</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-19 15:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c141bf554c25d3ca677996c4bb874fbd5ebc148e\">[34151]</a></span>: Apply CEDAR address rewriting rules to the schedd address that is sent in the claim request protocol. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3330\" onclick=\"get_ticket_and_populate_wrapper('3330'); return false;\" title=\"ENABLE_ADDRESS_REWRITING not applied to claim request protocol\">#3330</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Dec-03 16:13", "status": "resolved", "created": "2012-Nov-19 15:55", "fixed_version": "2012-Nov-19 15:55", "broken_version": "v070800", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "users", "visibility": "public", "notify": "dan@hep.wisc.edu,gthain@cs.wisc.edu", "due_date": ""}
{"id": 3919, "title": "Ticket #3919: Std univ jobs without ckpt server always log error to SchedLog", "description": "<blockquote>\nLIGO reports that their <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SchedLogs\" title=\"Sched Logs\">SchedLogs</a></span> are filled with the following message:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">09/16/13 08:14:50 (pid:3558) Can't get address for checkpoint server host (NULL): Success\n09/16/13 08:14:50 (pid:3558) Can't get address for checkpoint server host (NULL): Success\n</pre></div>\n\n\n<p>This is because standard universe jobs that have no checkpoint on a checkpoint server (perhaps they are short, and never needed to checkpoint), unconditionally try to remove the checkpoint from the local spool directory and the (nonexistant) checkpoint server.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Sep-16 12:51:21 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>I'd prefer that &amp;#8203;RemoveLocalOrRemoteFi&amp;#8203;le() return 0 when server_host is NULL. 0 indicates success when actually talking to the checkpoint server.\n\n</p><p>Otherwise, this change looks good.\n\n</p><p></p><hr/>\n<em>2013-Sep-17 14:42:19 by pfc:</em> <br/>\n\nCan this be applied to 8.0.3 since it's a bug fix and not a new feature?\n\n<p></p><hr/>\n<em>2013-Sep-18 09:57:07 by gthain:</em> <br/>\n\nAfter discussion with wrangler and reviewer, we've agreed to cherry pick this back to 8.0, but we've missed the 8.0.3 windows, so it will go into 8.0.4.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-14 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/10f3c4ec4e73cc53aa981cc880b3916d097d12f2\">[37843]</a></span>: within 8.0.4 version history, bring in same edited text as is in the 8.1.2 version history. <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-24 14:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cfc2732b104f31d79f9078f6562d765d5dce2e6b\">[37710]</a></span>: edit 8.1.2 version history item <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-18 10:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/15c7d1d5efb2005f95c51f7dd14318462862f86a\">[37644]</a></span>: Document <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span> in the stable series.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-18 09:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1e9623d3eba5e816eafec3c2811ac45abb14ad7e\">[37643]</a></span>: Add recommended fix as per code review <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-18 09:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a58021f80fe0df475fb1f3c03c12ee3a55295312\">[37642]</a></span>: If no ckpt server used, don't try to remove remote ckpt on exit. <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span> This results in the sched logs filling up with spurious, confusing error messages.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-16 13:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cb68ae59d3f11c18ef15fbba7ae3421e0c948c37\">[37626]</a></span>: Add recommended fix as per code review <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-16 09:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7f236e5d1b5bcf7be9268dfa952e4cbba51bd388\">[37622]</a></span>: Document <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Sep-16 09:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/555a02587672e149518345c5e689eae3069ad8e4\">[37621]</a></span>: If no ckpt server used, don't try to remove remote ckpt on exit. <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3919\" onclick=\"get_ticket_and_populate_wrapper('3919'); return false;\" title=\"Std univ jobs without ckpt server always log error to SchedLog\">#3919</a></span> This results in the sched logs filling up with spurious, confusing error messages.  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Sep-18 10:01", "status": "defer", "created": "2013-Sep-16 09:13", "fixed_version": "2013-Sep-16 09:13", "broken_version": "v080000", "priority": "5", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu,pcouvare@caltech.edu", "due_date": "20130918"}
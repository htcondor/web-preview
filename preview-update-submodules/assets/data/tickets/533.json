{"id": 533, "title": "Ticket #533: DAGMan should ignore -usedagdir when running a rescue DAG", "description": "<blockquote>\nAt least when automatically running a \"new-style\" rescue DAG, DAGMan should ignore the -usedagdir flag.  (If you run the original DAG with -usedagdir, it fails and produces a rescue DAG, and then you re-submit the DAG with the same command-line arguments and DAGMan automatically runs the rescue DAG, the -usedagdir flag conflicts with the DIR specifications on the JOB lines, and the rescue DAG will never even run.)</blockquote>", "remarks": "<blockquote>\nHmm -- there's code in dagman_main.cpp that should do this -- I just need to check that it really works.  wenger 2009-09-01.\n\n<p>Just verified that this works; here's a snippet from dagman.out:\n\n</p><p></p><pre>  02/05 18:22:18 RUNNING RESCUE DAG testdir/diamond.dag.rescue001\n  02/05 18:22:18 Unsetting -useDagDir flag because we're running a rescue DAG\n</pre>\n\n<p>wenger 2010-02-05</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-05 18:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9ed13db25e5136b7332d7bc1b8b926d5806dd69a\">[25238]</a></span>: Documented the new DAGMan NOOP job feature; also clarified the description of DONE; added a note that DIR, NOOP, and DONE must appear in that order; and noted that -usedagdir is now automatically disregarded when running a rescue DAG. (See gittrac <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=1078\" onclick=\"get_ticket_and_populate_wrapper('1078'); return false;\" title=\"Be able to have NOOP jobs in a DAG that are not actually submitted\">#1078</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=533\" onclick=\"get_ticket_and_populate_wrapper('533'); return false;\" title=\"DAGMan should ignore -usedagdir when running a rescue DAG\">#533</a></span>.)  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Feb-05 18:28", "status": "resolved", "created": "2009-Jun-02 11:23", "fixed_version": "2009-Jun-02 11:23", "broken_version": "v070203", "priority": "3", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
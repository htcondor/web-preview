{"id": 1298, "title": "Ticket #1298: Remove condor_reconfig -full", "description": "<blockquote>\nThe -full argument to condor_reconfig is confusing to users and unnecessary. All it does beyond a normal reconfig is clear the passwd_cache on unix. There's a possible concern about an entire pool's daemons hitting the NSS server at once on a pool-wide reconfig, but the same is true for starting up the pool. Any method for staggering the startup of a large pool could be used for reconfiguring it.</blockquote>", "remarks": "<blockquote>\n<em>2010-Mar-18 14:39:09 by jfrey:</em> <br/>\n\nThe schedd seeds the shadow's passwd_cache with usernames it needs to know about. So shadows don't put any additional load on the NSS server on a full reconfig.\n\n<p></p><hr/>\n<em>2010-Mar-18 14:40:27 by jfrey:</em> <br/>\n\nThe eventd (condor-eventd.V2) confusing a full reconfig with an initial call to config(). This can be fixed at the same time.\n\n<p></p><hr/>\n<em>2010-Mar-18 14:59:46 by matt:</em> <br/>\n\nThe condor_eventd.V2 can probably just be ripped out.\n\n<p></p><hr/>\n<em>2010-Apr-14 13:53:20 by jfrey:</em> <br/>\n\nPushed changes to master for 7.5.3.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-27 10:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/124ad837ebe82fd228f212e3e3507ee42827348b\">[18277]</a></span>: DC_RECONFIG_FULL is now a WRITE-level command. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1298\" onclick=\"get_ticket_and_populate_wrapper('1298'); return false;\" title=\"Remove condor_reconfig -full\">#1298</a></span> DC_RECONFIG and DC_RECONFIG_FULL had different authorization levels (WRITE and ADMINISTRATOR, respectively). Now that we are combining them, we should use the same authorization level. Since there was little difference in what they did, we use the\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-27 10:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6a5cd83971a0c0c18992612e7183df7c2700e136\">[25496]</a></span>: Document removal of condor_reconfig -full. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1298\" onclick=\"get_ticket_and_populate_wrapper('1298'); return false;\" title=\"Remove condor_reconfig -full\">#1298</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-14 11:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fb0bb518155731d53b9b55d7f47a27c8dde2de76\">[17861]</a></span>: All reconfigs are now full. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1298\" onclick=\"get_ticket_and_populate_wrapper('1298'); return false;\" title=\"Remove condor_reconfig -full\">#1298</a></span> Remove the distinction between a regular and full reconfig. The only difference is that a full reconfig clears the passwd_cache on unix. Now, all reconfigs will be full. Commands DC_RECONFIG and DC_RECONFIG_FULL are treated identically.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-14 11:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/32015512282862a424a636a15f13675f395c4f30\">[17860]</a></span>: condor_reconfig always sends DC_RECONFIG_FULL. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1298\" onclick=\"get_ticket_and_populate_wrapper('1298'); return false;\" title=\"Remove condor_reconfig -full\">#1298</a></span> Remove the distinction between a regular and full reconfig. The only difference is that a full reconfig clears the passwd_cache on unix. Now, all reconfigs will be full. The -full argument is still accepted by condor_reconfig, but is ignored.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Apr-14 13:53", "status": "resolved", "created": "2010-Mar-18 14:37", "fixed_version": "2010-Mar-18 14:37", "broken_version": "v070000", "priority": "4", "subsystem": "Daemons", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2682, "title": "Ticket #2682: request: condor_rm -graceful (akin to want_graceful_removal=true)", "description": "<blockquote>\nFrom Stuart's exchange with Todd on Condor-LIGO:\n\n<p></p><div class=\"verbatim\">\n<pre>&gt; As for what I think... essentially what we already have -vs- what you are asking about above differs\n&gt; only at what point is the decision made graceful -vs- hardkill (submit time or removal time).\n\nYes.\n\n&gt; Is the issue that you do not know at submit time if you'd prefer a graceful removal?\n\nIn same cases, yes.\n\n&gt; Why not? What do you know at job removal time that you do not know at job submission time?\n\n1) More time has past and it is not always possible to predict the future, so being able to make a\ndecision at job removal time will always be a nice feature in my opinion simply because more\ninformation is available then.\n\n2) The scenario where there are 2 actors: the job submitter and the cluster admin, and they did not\ncommunicate sufficiently before job submission.\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Dec-02 06:22:48 by matt:</em> <br/>\n\nwant_graceful_removal is a very old (pre-2002) undocumented feature, until <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2536\" onclick=\"get_ticket_and_populate_wrapper('2536'); return false;\" title=\"make upper bound on time spent in Preempting/Vacate explicit\">#2536</a></span>.\n\n<p><span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1198\" onclick=\"get_ticket_and_populate_wrapper('1198'); return false;\" title=\"remove_kill_sig and kill_sig not used by condor_rm in vanilla universe\">#1198</a></span> added remove_kill_sig and kill_sig to the vanilla universe. Their use requires knowledge at submit time.\n\n</p><p>Consider condor_rm -sig SIGNAL that overrides remove_kill_sig.\n\n</p><p></p><hr/>\n<em>2012-Feb-09 22:48:22 by pfc:</em>\n\n<p></p><pre>  Todd: SUBMIT_EXPRS should be a usable workaround; but it only sends it to the parent\n  Stuart: would prefer soft signal to whole process tree\n  Todd: in 7.7.x we added support for cgroups, so as of 7.7.4, you can set remove_kill_sig in SUBMIT_EXPRS and turn on cgroups.</pre>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2891\" onclick=\"get_ticket_and_populate_wrapper('2891'); return false;\" title=\"add classad functions to split user names and slot names\">#2891</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nadd classad functions to split user names and slot names</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-05 15:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4178d53931fb2ffcee3be39f48e3b2fe26b4f4e2\">[30803]</a></span>: another warning fix for <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2682\" onclick=\"get_ticket_and_populate_wrapper('2682'); return false;\" title=\"request: condor_rm -graceful (akin to want_graceful_removal=true)\">#2682</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Sep-21 11:32", "status": "defer", "created": "2011-Dec-01 22:07", "fixed_version": "2011-Dec-01 22:07", "broken_version": "", "priority": "5", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 4896, "title": "Ticket #4896: Make spool permissions more restrictive", "description": "<blockquote>\nLike we did with execute dir permissions long ago, we should make the permissions on the job's spool directories more restrictive (700 vs 755 essentially).  It shouldn't be difficult although the hierarchical directory ownership is a combo of \"condor\" and the user so I just need to be careful.</blockquote>", "remarks": "<blockquote>\n<em>2015-Sep-17 14:53:59 by jfrey:</em> <br/>\n\nThis change doesn't affect the ickpt file that's created when copy_to_spool=True is set in the submit file. That file remains owned by the condor user with permissions 0755 for its entire lifetime, as before.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5645\" onclick=\"get_ticket_and_populate_wrapper('5645'); return false;\" title=\"Schedd EXCEPTs on job proxy update\">#5645</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nSchedd EXCEPTs on job proxy update</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-06 09:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3bdc9b439b50331d9e9bdaba0bce7fa038a6271c\">[45941]</a></span>: Document config knob JOB_SPOOL_PERMISSIONS. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4896\" onclick=\"get_ticket_and_populate_wrapper('4896'); return false;\" title=\"Make spool permissions more restrictive\">#4896</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-05 17:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d55d55691ec0adbb8983f31150dd1a0feb47d12b\">[45931]</a></span>: Version history for more restrictive spool directory permissions. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4896\" onclick=\"get_ticket_and_populate_wrapper('4896'); return false;\" title=\"Make spool permissions more restrictive\">#4896</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Sep-04 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b9a73e453d54467a13ca50e87571466c061ce8b7\">[45797]</a></span>: Make permissions of job spool directories more restrictive. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4896\" onclick=\"get_ticket_and_populate_wrapper('4896'); return false;\" title=\"Make spool permissions more restrictive\">#4896</a></span> Directory permissions are now 0700 by default. They can be relaxed via the new config parameter JOB_SPOOL_PERMISSIONS, which works like the existing parameter JOB_EXECDIR_PERMISSIONS.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Oct-06 11:35", "status": "resolved", "created": "2015-Feb-18 11:14", "fixed_version": "2015-Feb-18 11:14", "broken_version": "v080300", "priority": "2", "subsystem": "Security", "assigned_to": "jfrey", "derived_from": "", "creator": "zmiller", "rust": "s8520", "customer_group": "support", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": "20150313"}
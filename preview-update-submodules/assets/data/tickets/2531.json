{"id": 2531, "title": "Ticket #2531: unit test PASS and FAIL macros should include/use __FILE__", "description": "<blockquote>\nThe PASS, FAIL, and ABORT macros (<a class=\"file\" href=\"rlog?f=src/condor_unit_tests/emit.h\">/src/condor_unit_tests/emit.h</a>) call into Emitter::emit_result_success,\nEmitter::emit_result_failure, and\nEmitter::emit_result_abort respectively, automatically passing in __LINE__.  This is used to help identify the source.  Unfortunately tests are scattered across many files (good) and the __LINE__ isn't enough to quickly find a test.\n\n<p>Proposed: the Emitter::emit_result_* functions should also take a const char * to the filename, and emit it along with the line number.  The PASS, FILE, and ABORT macros would include __FILE__ to automatically correctly set it.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-Jul-16 12:51:49 by adesmet:</em> <br/>\n\nimplemented</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-16 12:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9149a2b037a299f7339bb5df055782bbb57890d1\">[32792]</a></span>: Show failing/passing/aborting line in unit tests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2531\" onclick=\"get_ticket_and_populate_wrapper('2531'); return false;\" title=\"unit test PASS and FAIL macros should include/use __FILE__\">#2531</a></span> Non-user facing.  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Jul-16 12:52", "status": "resolved", "created": "2011-Oct-07 16:36", "fixed_version": "2011-Oct-07 16:36", "broken_version": "v070700", "priority": "4", "subsystem": "Tests", "assigned_to": "adesmet", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 257, "title": "Ticket #257: Track file sizes in checkpoints", "description": "<blockquote>\nThis is part of the large patch set contributed by Dan Forrest.\n\n<p>This patch includes information about the sizes of a stduniv application's files in  the file table in its checkpoint. This avoided a problem that Dan often tripped over where an application would:\n\n</p><p></p><ol>\n<li>run for a while\n</li><li>produce a periodic checkoint\n</li><li>run for while longer adding more data to its files\n</li><li>get evicted without producing a checkpoint\n</li><li>restore from the periodic checkpoint\n</li></ol>\n\n<p>At this point, the data that was added after the periodic checkpoint was taken but before it was evicted is still in the files, and if the application appends to a file that data will remain there (and likely end up being duplicated). Tracking the file size in the file table allows files to be truncated to the size stored in the checkpoint when an application is resumed. I'm not certain, but the above scenario may only be a problem for compressed files.\n\n</p><p>Chunks from the annotated diff of Dan's changes (which Todd has) that are associated with this ticket are labeled with a (8).</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2010-Jan-31 13:21", "status": "new", "created": "2009-Feb-25 16:29", "fixed_version": "2009-Feb-25 16:29", "broken_version": "", "priority": "4", "subsystem": "Std", "assigned_to": "", "derived_from": "#2", "creator": "gquinn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
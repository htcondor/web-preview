{"id": 691, "title": "Ticket #691: Race condition during initialization of event log", "description": "<blockquote>\nIn looking more closely at the event log writing code (ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=601\" onclick=\"get_ticket_and_populate_wrapper('601'); return false;\" title=\"Event log rotation on Win32 probably broken with &gt;1 writer process\">#601</a></span>), I discovered a race condition in the event log initialization code...  If two processes of code run the initialization code at the same time, two header records could be written.  This seems very unlikely, but should be fixed.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-26 22:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/14a1ce2568000cd8a76a774c3ca1ba61da4771f6\">[15519]</a></span>: Fixed potential race condition in event log initialization (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=691\" onclick=\"get_ticket_and_populate_wrapper('691'); return false;\" title=\"Race condition during initialization of event log\">#691</a></span>)  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-26 16:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a9f076d75ffce34076147fe48c47eb9ec5fdfc5f\">[15511]</a></span>: Fixed potential race condition in event log initialization (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=691\" onclick=\"get_ticket_and_populate_wrapper('691'); return false;\" title=\"Race condition during initialization of event log\">#691</a></span>)  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 08:36", "status": "resolved", "created": "2009-Aug-25 11:28", "fixed_version": "2009-Aug-25 11:28", "broken_version": "v070000", "priority": "4", "subsystem": "Daemons", "assigned_to": "nleroy", "derived_from": "#601", "creator": "nleroy", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
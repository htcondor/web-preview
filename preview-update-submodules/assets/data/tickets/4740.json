{"id": 4740, "title": "Ticket #4740: condor_q -analyze somtimes gives bogus results", "description": "<blockquote>\nThe final clause of condor_q -analyze (and -better), sometimes give clearly bogus results, showing 0 matches and a REMOVE recommendation when there are actually non-zero matches.\n\n<p>This bug is made obvious by the fact that with -better-analyze, the clause above it shows correct counts for slots matched and the counts disagree with those shown in the final clause.\n\n</p><p>One example is given in rust a27467.\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">&gt; cq -better-analyze 222.0\n\n-- Submitter: xxxxxxx : &lt;10.7.3.10:33951&gt; : xxxxxxxxx\nUser priority for xxxx@xxxx.xxxx is not available, attempting to\nanalyze without it.\n---\n222.000:  Run analysis summary.  Of 160 machines,\n      0 are rejected by your job's requirements\n      8 reject your job because of their own requirements\n      0 match and are already running your jobs\n      0 match but are serving other users\n      0 are available to run your job\n        No successful match recorded.\n        Last failed match: Wed Oct 22 08:03:32 2014\n\n        Reason for last match failure: no match found\n\nThe Requirements expression for your job is:\n\n    ( Machine != \"condor-69.xxx.xxx\" ) &amp;&amp; ( TARGET.Arch == \"X86_64\" )\n&amp;&amp;\n    ( TARGET.OpSys == \"LINUX\" ) &amp;&amp; ( TARGET.Disk &gt;= RequestDisk ) &amp;&amp;\n    ( TARGET.HasFileTransfer )\n\nYour job defines the following attributes:\n\n    DiskUsage = 30000\n    RequestDisk = 30000\n\nThe Requirements expression for your job reduces to these conditions:\n\n         Slots\nStep    Matched  Condition\n-----  --------  ---------\n[0]         160  Machine != \"condor-69.xxx.xxx\"\n[1]         160  TARGET.Arch == \"X86_64\"\n[3]         160  TARGET.OpSys == \"LINUX\"\n[5]         160  TARGET.Disk &gt;= RequestDisk\n[7]         160  TARGET.HasFileTransfer\n\nSuggestions:\n\n    Condition                         Machines Matched    Suggestion\n    ---------                         ----------------    ----------\n1   ( Machine != \"condor-69.xxx.xxx\" )0                   REMOVE\n2   ( TARGET.Arch == \"X86_64\" )       160\n3   ( TARGET.OpSys == \"LINUX\" )       160\n4   ( TARGET.Disk &gt;= 30000 )          160\n5   ( TARGET.HasFileTransfer )        160\n\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Feb-04 09:59", "status": "new", "created": "2014-Nov-24 10:17", "fixed_version": "2014-Nov-24 10:17", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "a27467", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
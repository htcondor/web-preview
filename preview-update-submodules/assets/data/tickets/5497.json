{"id": 5497, "title": "Ticket #5497: test needed for condor_q defaulting to MyJobs only", "description": "<blockquote>\nA test is needed for the new default behavior of condor_q where it will show only the current user's jobs unless told otherwise or the current user is a queue superuser.  The test should\n\n<p>One possible way to create a job queue that contains multiple users even when running on a personal condor is to set\n</p><div class=\"snip\">\n<pre class=\"sniplabel\">add to condor configuration</pre>\n<pre class=\"snip\">QUEUE_ALL_USERS_TRUSTED=True\n</pre></div>\n\nand then set the owner explicitly in the submit file.\n<div class=\"snip\">\n<pre class=\"sniplabel\">add to submit file</pre>\n<pre class=\"snip\">+owner=\"fakeuser\"\n</pre></div>\n\n\n<p>This technique can be used to produce a schedd queue that has multiple users in it. (Note that some, but not all of the jobs in the queue must be owned by the current user). Then the test can\n\n</p><p></p><ul>\n<li>run <code>condor_q</code> with no arguments and verify that only jobs owned by the current user are returned.\n</li><li>run <code>condor_q &lt;clusterid&gt;</code> and verify that only jobs from that cluster id are returned.\n</li><li>repeat the above using a clusterid that is not owned by the current user.\n</li><li>run <code>condor_q -all</code> and verify that all jobs are returned\n</li><li>run <code>condor_q &lt;username&gt;</code> and verify that only jobs from that user are returned\n</li><li>run <code>condor_q &lt;user1&gt; &lt;user2&gt;</code> and verify that only jobs from either of those users are returned.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2016-Nov-16 10:09", "status": "new", "created": "2016-Jan-28 13:29", "fixed_version": "2016-Jan-28 13:29", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "johnkn", "derived_from": "#5247", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
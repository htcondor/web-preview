{"id": 3415, "title": "Ticket #3415: Cream grid jobs fail when no input or output files to transfer", "description": "<blockquote>\nWhen a Cream grid job has no input files or no output files to be transferred, the gridmanager passes invalid URLs of <code>NULL</code> to the nordugrid_gahp for file transfer. The gahp responds with an error message of \"Transfer failed: globus_ftp_client: an invalid value for url was used\". The job ends up on hold with this as the hold reason.\n\n<p>The trouble is that the <code>CreamJob</code> always instantiates a <code>TransferRequest</code> for staging, regardless of whether there are any files to stage. But <code>TransferRequest</code> doesn't expect to be invoked with an empty list of transfers.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-26 10:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d427520ed77ad1c7295199106eb253259be3ac74\">[35016]</a></span>: improve formatting of 7.8.8 version history item ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3415\" onclick=\"get_ticket_and_populate_wrapper('3415'); return false;\" title=\"Cream grid jobs fail when no input or output files to transfer\">#3415</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-07 17:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1c1f325fba4d4504d53db5507f8a20ea665040c1\">[34552]</a></span>: Docs for cream file transfer bug. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3415\" onclick=\"get_ticket_and_populate_wrapper('3415'); return false;\" title=\"Cream grid jobs fail when no input or output files to transfer\">#3415</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-07 17:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c343e7090af04d1057f6e0df7bdf4dc78d916ab0\">[34551]</a></span>: Cream grid jobs fail when no input or output files to transfer. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3415\" onclick=\"get_ticket_and_populate_wrapper('3415'); return false;\" title=\"Cream grid jobs fail when no input or output files to transfer\">#3415</a></span> Fix <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TransferRequest\" title=\"Transfer Request\">TransferRequest</a></span> to behave intelligently when created with an empty list of transfers. Before, it would issue a transfer command with \"NULL\" for source and destination, which fails, causing Cream jobs to go on hold.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Jan-07 17:07", "status": "resolved", "created": "2013-Jan-07 16:57", "fixed_version": "2013-Jan-07 16:57", "broken_version": "v070800", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "a24590", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
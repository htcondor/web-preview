{"id": 6397, "title": "Ticket #6397: Update parsing of old ClassAds strings in python bindings.", "description": "<blockquote>\nTo properly handle parsing of old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> strings in the python bindings in 8.6.x, we copied a couple of functions from the Condor utils library. These functions rewrite a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> expression to convert the string escaping syntax from old to new format, as the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> library didn't understand the old syntax in 8.6. In 8.7, the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> library does understand the old escaping syntax, so we can remove these copied functions from the python bindings.</blockquote>", "remarks": "<blockquote>\n<em>2017-Sep-07 16:05:38 by jfrey:</em> <br/>\n\nThe bug in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6382\" onclick=\"get_ticket_and_populate_wrapper('6382'); return false;\" title=\"Python bindings parse old ClassAds with new ClassAds escaping rules\">#6382</a></span> was already fixed in 8.7.x by changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6130\" onclick=\"get_ticket_and_populate_wrapper('6130'); return false;\" title=\"speed up reading a Classad from a socket\">#6130</a></span>. The code added for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6382\" onclick=\"get_ticket_and_populate_wrapper('6382'); return false;\" title=\"Python bindings parse old ClassAds with new ClassAds escaping rules\">#6382</a></span> causes new breakage, so removing it restores the status quo for 8.7. No version history is required.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Sep-07 13:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7fe4c84e0dda09f1930901a319c1062d524b279b\">[52287]</a></span>: Clarify that ClassAd::InsertViaCache() uses old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> syntax. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6397\" onclick=\"get_ticket_and_populate_wrapper('6397'); return false;\" title=\"Update parsing of old ClassAds strings in python bindings.\">#6397</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Sep-07 13:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a6564ad337e1621170e6d318f44c9685650fe652\">[52286]</a></span>: Remove <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> string escape conversion from python bindings. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6397\" onclick=\"get_ticket_and_populate_wrapper('6397'); return false;\" title=\"Update parsing of old ClassAds strings in python bindings.\">#6397</a></span> The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> library can now understand old string escaping syntax, so the conversion function is no longer required.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Sep-07 16:05", "status": "resolved", "created": "2017-Sep-07 10:44", "fixed_version": "2017-Sep-07 10:44", "broken_version": "", "priority": "3", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#6382", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
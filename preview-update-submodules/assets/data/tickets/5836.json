{"id": 5836, "title": "Ticket #5836: Modify systemd profile to start HTCondor after LDAP", "description": "<blockquote>\nIn <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span>, we made sure the HTCondor would come up after NIS was available. We should do the same for LDAP.</blockquote>", "remarks": "<blockquote>\n<em>2016-Aug-08 17:35:49 by tim:</em> <br/>\n\nIn addition, the HTCondor team asked for the restart time to be set to 1minute.\n\n<p></p><hr/>\n<em>2016-Sep-15 10:13:51 by blin:</em> <br/>\n\n<strong>Code review:</strong> Looks good to me\n\n<p></p><hr/>\n<em>2016-Sep-20 08:59:17 by blin:</em> <br/>\n\nI was reading the systemd docs last night and realized that the changes in this ticket and <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span> are incorrect. The <code>Wants</code> and <code>After</code> lvalues should live under the <code>[Unit]</code> section rather than the <code>[Service]</code> section. There should also only be specified once as space-separated lists, otherwise I believe previous values will be overwritten. I've attached a patch, fixing this. Sorry for catching this late.\n\n<p></p><hr/>\n<em>2016-Sep-20 10:17:52 by tim:</em> <br/>\n\nThank you for the additional information.\n\n<p></p><hr/>\n<em>2016-Sep-20 12:03:53 by blin:</em> <br/>\n\n<strong>Code Review:</strong> Looks much better, thanks!</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/968/0001-Fix-ypbind-nslcd-service-dependencies.patch\">0001-Fix-ypbind-nslcd-service-dependencies.patch</a>\n1068 bytes added by blin on 2016-Sep-20 13:59:33 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-20 11:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c9dc0fc900f9f8474fa91b91c9ec0901f535827\">[49235]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5836\" onclick=\"get_ticket_and_populate_wrapper('5836'); return false;\" title=\"Modify systemd profile to start HTCondor after LDAP\">#5836</a></span>) Address comments from code review.  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-11 16:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0c456bfe9e09594fabd05bad3a8f74c4c819fc5d\">[48998]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5836\" onclick=\"get_ticket_and_populate_wrapper('5836'); return false;\" title=\"Modify systemd profile to start HTCondor after LDAP\">#5836</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-11 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5a9c4f6ac097e6c8c2f967013ecb9aac703a63e9\">[48995]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5836\" onclick=\"get_ticket_and_populate_wrapper('5836'); return false;\" title=\"Modify systemd profile to start HTCondor after LDAP\">#5836</a></span>) Systemd: Start HTCondor after LDAP available  (By Tim Theisen )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Sep-20 14:03", "status": "resolved", "created": "2016-Aug-08 17:31", "fixed_version": "2016-Aug-08 17:31", "broken_version": "v080400", "priority": "2", "subsystem": "Packaging", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
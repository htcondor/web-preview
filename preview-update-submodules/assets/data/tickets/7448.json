{"id": 7448, "title": "Ticket #7448: Review and fixup tokens CLI arcana", "description": "<blockquote>\nThere are a few pieces of the <code>condor_token_*</code> commands that are likely incorrect.  For example, <code>myDistro-&gt;Init</code> is not uniformly called, meaning that the <code>-debug</code> flag doesn't work correctly.\n\n<p>Let's review some of these detailed behavior and get them straightened out.</p></blockquote>", "remarks": "<blockquote>\n<em>2020-Jan-15 14:49:36 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good to me.\n</p><hr/>\n<em>2020-Apr-10 07:46:37 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-May-02 17:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/44a475b2d9fe9039e99d8e79c88d41ec8595e733\">[59559]</a></span>: Add version history for condor_token CLI bugfixes. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Feb-13 13:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b2572a7d41f10cc2da7e36c829940fb533b450df\">[58950]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>) Progress towards v2.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jan-29 16:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1e1bba60e937c545fe29b61b132188f03c252e0c\">[58949]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>) Record what changes are made to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=InputFiles\" title=\"Input Files\">InputFiles</a></span> for v2.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jan-20 15:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0caa3f51c991470e8d10f495bac880a2b8552075\">[58948]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>) Allow the list of output files and the list of checkpoint files to be different.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jan-16 10:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/da2298f0c94e862930c24598b0f41bacbe8378e3\">[58947]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>) Remove dead code.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jan-15 14:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b1e770c73bfc25a180282e3ef3e51e4ecaa3c3ab\">[58861]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>) Fix stray space in usage message.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-30 21:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b4df576c17b2cc13039881bbe5fc2ab3ae38f03\">[58859]</a></span>: Implement missing code for -reqid. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span> It appears `condor_token_request_list` meant to allow the user to filter based on request ID but that this code was never originally implemented.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-28 08:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b91ccffbbd14ae155eadf4916a7e7703c1d20358\">[58858]</a></span>: Fix debug logging for condor_token_* tools. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span> This correctly initializes the dprintf subsystem so the `-debug` flag in conjunction with `TOOL_DEBUG` works as expected.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-28 08:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e810bc325208991ac9e800ba75862669ee9832ab\">[58857]</a></span>: Fix incorrect help message. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7448\" onclick=\"get_ticket_and_populate_wrapper('7448'); return false;\" title=\"Review and fixup tokens CLI arcana\">#7448</a></span>  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-May-02 17:46", "status": "resolved", "created": "2019-Dec-26 20:34", "fixed_version": "2019-Dec-26 20:34", "broken_version": "", "priority": "2", "subsystem": "Tools", "assigned_to": "bbockelm", "derived_from": "#7445", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bbockelman@morgridge.org, tlmiller@cs.wisc.edu", "due_date": ""}
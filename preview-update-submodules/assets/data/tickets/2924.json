{"id": 2924, "title": "Ticket #2924: condor rpm doesn't make condor_root_switchboard setuid", "description": "<blockquote>\nFor privsep to work, /usr/sbin/condor_root_switchboard needs to be setuid root.  The condor rpm (probably not the .deb either) doesn't set this binary to be setuid, so privsep doesn't work out of the box.</blockquote>", "remarks": "<blockquote>\n<em>2012-Apr-06 11:28:34 by gthain:</em> <br/>\n\nI've added a fix to the rpm spec file, but not the debian or tar.gz.  The only way to do this is one place is to make the install rule for the binary set the setuid bit, but that requires running fakeroot everywhere.\n\n<p>I'm also leery about changing the .deb immediately before the push to get condor into deb 7, don't want deb folks to think we're sneaking a setuid program in at the last minute.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-06 11:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e52ce1eea2ca3bbe010bfd0755a4a8eb2a70d408\">[31538]</a></span>: Make condor_root_switchboard setuid in the rpm <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2924\" onclick=\"get_ticket_and_populate_wrapper('2924'); return false;\" title=\"condor rpm doesn't make condor_root_switchboard setuid\">#2924</a></span> and only the rpm  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-May-11 14:34", "status": "resolved", "created": "2012-Apr-05 16:05", "fixed_version": "2012-Apr-05 16:05", "broken_version": "v070700", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "danb@cs.wisc.edu", "due_date": ""}
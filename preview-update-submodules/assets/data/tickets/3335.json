{"id": 3335, "title": "Ticket #3335: condor_q analysis improvements for 7.9 series", "description": "<blockquote>\nMaster ticket for changes related to improvements to condor_q -analyze and -better-analyze for the 7.9 series.  See attached design document.</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2013-May-21 14:46:36 by smoler:</em> <br/>\n\nInfo from TJ about where condor_q ended up.\n\n<p>Usage:\n\n</p><p></p><pre>    [general-opts] are\n        -global                 Query all Schedulers in this pool\n        -submitter &lt;submitter&gt;  Get queue of specific submitter\n        -name &lt;name&gt;            Name of Scheduler\n        -pool &lt;host&gt;            Use host as the central manager to query\n        -jobads &lt;file&gt;          Read queue from a file of job ClassAds\n        -userlog &lt;file&gt;         Read queue from a user log file\n        -constraint &lt;expr&gt;      Add constraint on job ClassAds\n    [restriction-list] each restriction may be one of\n        &lt;cluster&gt;               Get information about specific cluster\n        &lt;cluster&gt;.&lt;proc&gt;        Get information about specific job\n        &lt;owner&gt;                 Information about jobs owned by &lt;owner&gt;\n    [output-opts] are\n        -cputime                Display CPU_TIME instead of RUN_TIME\n        -currentrun             Display times only for current run\n        -debug                  Display debugging info to console\n        -dag                    Sort DAG jobs under their DAGMan\n        -expert                 Display shorter error messages\n        -globus                 Get information about jobs of type globus\n        -goodput                Display job goodput statistics\n        -help [Universe|State]  Display this screen, JobUniverses, JobStates\n        -hold                   Get information about jobs on hold\n        -io                     Show information regarding I/O\n        -run                    Get information about running jobs\n        -stream-results         Produce output as jobs are fetched\n        -version                Print the Condor Version and exit\n        -wide                   Widescreen output\n        -autoformat[:V,ntlh] &lt;attr&gt; [attr2 [attr3 ...]]\n                                Print attr(s) with automatic formatting\n        -format &lt;fmt&gt; &lt;attr&gt;    Print attribute attr using format fmt\n        -long                   Display entire ClassAds\n        -xml                    Display entire ClassAds, but in XML\n        -attributes X,Y,...     Attributes to show in -xml and -long\n    [analyze-opts] are\n        -analyze[:&lt;qual&gt;]       Perform matchmaking analysis on jobs\n        -better-analyze[:&lt;qual&gt;]        Perform more detailed match analysis\n            &lt;qual&gt; is a comma separated list of one or more of\n            priority    Consider user priority during analysis\n            summary     Show a one-line summary for each job or machine\n            reverse     Analyze machines rather than jobs\n        -machine &lt;name&gt;         Machine name or slot name for analysis\n        -mconstraint &lt;expr&gt;     Machine constraint for analysis\n        -slotads &lt;file&gt;         Read Machine ClassAds for analysis from &lt;file&gt;\n                                &lt;file&gt; can be the output of condor_status -long\n        -userprios &lt;file&gt;       Read user priorities for analysis from &lt;file&gt;\n                                &lt;file&gt; can be the output of condor_userprio -l\n        -nouserprios            Don't consider user priority during analysis\n        -reverse                Analyze Machine requirements against jobs\n        -verbose                Show progress and machine names in results\n</pre>\n\n<p>What's new from 7.8 series:\n\n</p><p></p><pre>  -jobads,  -userlog, &lt;qual&gt; on -analyze and -better-analyze, -machine,\n  -mconstraint, -slotads, -userprios, -nouserprios, -reverse, -verbose,\n  -autoformat\n</pre>\n\n<p><code>-jobads &lt;file&gt;</code>  reads job classads from a file rather than from the schedd.  this file can be the output of condor_q -long.\n\n</p><p><code>-userlog &lt;file&gt;</code> - reads job classads from a user/job log rather than the schedd.  only a few fields of the job ad can be read from the userlog, but this is sufficient to determine the job status, and avoids loading the schedd when polling to see if the job has started or completed.\n\n</p><p><code>-machine &lt;slot_or_machine_name&gt;</code> - analyze only this slot or machine, rather than the whole pool.  use only one of -machine or -mconstraint.\n\n</p><p><code>-mconstraint &lt;expr&gt;</code>  - analyze only slots that match this expression, rather than the whole pool.  may also be specified as -slotconstraint. use only one of either -machine or -mconstraint.\n\n</p><p><code>-slotads &lt;file&gt;</code> - read slot/machine ads from a file rather than the collector.  this file can be the output of condor_status -long.\n\n</p><p><code>-userprios &lt;file&gt;</code> - read user priorities from a file rather than from the negotiator. this file can be the output of condor_userprio -long.  this option forces the priority qualifier for -analyze and -better.\n\n</p><p><code>-nouserprios</code> - analyze without considering user priority, this is now the default unless -userprios &lt;file&gt; is specified or the priority qualifier is passed to -analyze or -better.\n\n</p><p><code>-reverse</code> - another way to specify reverse analyze,  see -analyze:reverse.\n\n</p><p><code>-verbose</code> - include additional information about the progress of analyze and the names of machines that matched or did not match. not all machine names are output, the limit is about 1k.\n\n</p><p><code>-analyze</code> and <code>-better-analyze</code> now have optional qualifiers,  one or more qualifiers may be specified, comma or : separated, without spaces. Like this  <code>-analyze:summary,reverse</code>.  qualifiers may be abbreviated <code>sum</code>, <code>rev</code> &amp; <code>pri</code>.\n\n</p><p><code>priority</code> - consider user priority when doing analysis.  this will fetch priorities from the negotiator unless <code>-userprios &lt;file&gt;</code> is also specified.  Fetching user priorities from the negotiator may take a few minutes - it may wait until the negotiation cycle has ended.\n\n</p><p> <code>reverse</code> - analyze slot (machine) Requirements and START expression against jobs. (default is job Requirements against machines).\n\n</p><p> <code>summary</code> - print one line per job (or machine if used with reverse).\n\n</p><p>Sample output is:\n\n</p><p></p><div class=\"verbatim\">\n<pre>[johnkn@submit-1 ~]$ condor_q -analyze:summary\n\n-- Submitter: submit-1.chtc.wisc.edu : &lt;128.104.100.43:9618?sock=11794_95bb_3&gt; : submit-1.chtc.wisc.edu\nAnalyzing matches for 5979 slots\n               Autocluster    Matches     Machine     Running Serving\n JobId        Members/Idle Requirements Rejects Job  Users Job Other User Available Owner\n------------- ------------ ------------ ----------- ----------- ---------- --------- -----\n25764522.0    7/0                  5910         820 7/10       5046        34 cehall\n25764682.0    9/0                  2172         603 9/9       1531        29 cehall\n25765082.0    18/0                 2172         603 18/9       1531        29 cehall\n25765900.0    1/0                  2172         603 1/9       1531        29 cehall\n\n</pre></div>\n\n\n<p></p><div class=\"verbatim\">\n<pre>[johnkn@submit-1 ~]$ condor_q -ana:sum,rev\n\n\n-- Submitter: submit-1.chtc.wisc.edu : &lt;128.104.100.43:9618?sock=11794_95bb_3&gt; : submit-1.chtc.wisc.edu\nAnalyzing matches for 2885 jobs\n                                    Slot  Slot's Req    Job's Req     Both\nName                                Type  Matches Job Matches Slot    Match %\n------------------------            ---- ------------ ------------ ----------\nslot1@INFO-LSS-D037-W.ad.wisc.edu   Stat         2729 0       0.00\nslot2@INFO-LSS-D037-W.ad.wisc.edu   Stat         2729 0       0.00\nslot1@aci-001.chtc.wisc.edu         Part            0 2793       0.00\nslot1_1@aci-001.chtc.wisc.edu       Dyn          2644 2792      91.37\nslot1_2@aci-001.chtc.wisc.edu       Dyn          2623 2601      85.10\nslot1_3@aci-001.chtc.wisc.edu       Dyn          2644 2632      85.82\nslot1_4@aci-001.chtc.wisc.edu       Dyn          2644 2792      91.37\nslot1@aci-002.chtc.wisc.edu         Part            0 2633       0.00\nslot1_10@aci-002.chtc.wisc.edu      Dyn          2623 2601      85.10\n</pre></div>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3302\" onclick=\"get_ticket_and_populate_wrapper('3302'); return false;\" title=\"condor_q -analyze takes a long time in chtc pool\">#3302</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q -analyze takes a long time in chtc pool</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"pending\" href=\"/wiki-archive/tickets/?ticket=3413\" onclick=\"get_ticket_and_populate_wrapper('3413'); return false;\" title=\"condor_q shows jobs grouped by dag even when -dag is not specified.\">#3413</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q shows jobs grouped by dag even when -dag is not specified.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3414\" onclick=\"get_ticket_and_populate_wrapper('3414'); return false;\" title=\"condor_q should be able to analyze machine START expressions\">#3414</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q should be able to analyze machine START expressions</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3416\" onclick=\"get_ticket_and_populate_wrapper('3416'); return false;\" title=\"condor_q analyze doesn't handle complex requirements.\">#3416</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncondor_q analyze doesn't handle complex requirements.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3653\" onclick=\"get_ticket_and_populate_wrapper('3653'); return false;\" title=\"examples showing condor_q -analyze need updating\">#3653</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nexamples showing condor_q -analyze need updating</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/659/condor_q_analysis_improvements.doc\">condor_q_analysis_improvements.doc</a>\n31232 bytes added by johnkn on 2012-Nov-21 22:07:58 UTC.\n<br/>\nDesign doc for queue analysis improvments<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-May-21 15:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dcd25b416cd019e9c3d9190ef84e31b93d0a7533\">[35793]</a></span>: even more final details and add examples to condor_q man page ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-22 12:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cbf97a012377a4aac611ed2a11cd4ffbe8dd83ee\">[34998]</a></span>: final details into condor_q man page ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-21 13:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/44226ffcd043f5f012b6744cdf30e1f0c5d651a8\">[34993]</a></span>: lots more updates to condor_q man page ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-21 11:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9aae7da161a03a449e6c69651862b2c7942d3e04\">[34988]</a></span>: condor_q man page updates. man page not yet completed. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-19 16:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/34848804d1213a007e456cae05d4d02607d0aeb6\">[34972]</a></span>: condor_q man page updates ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-18 11:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/25fac57afac77583dcaa9679e8518075ea051774\">[34944]</a></span>: Edit condor_q man page to document changes for new analysis options <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-18 11:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ed09158c14d6a4130948df1832454a0ce6274ed9\">[34943]</a></span>: Edit condor_q man page to document changes for new analysis options <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Feb-01 14:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/40e85af804f75b4fafbf535693017e4f5fa9c2a5\">[34822]</a></span>: Improve filtering of 'interesting' results for condor_q -better-analize <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3416\" onclick=\"get_ticket_and_populate_wrapper('3416'); return false;\" title=\"condor_q analyze doesn't handle complex requirements.\">#3416</a></span>, parent <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-25 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a0f276f97d8b9ebb0e2af64dc8b27fd2b0a429f6\">[34752]</a></span>: reorganize usage for condor_q, group by type: general, output, analyze . <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-10 10:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fd7282c989c0dbb85767b83c057904ef9eae606c\">[34573]</a></span>: change classad analysis class to write errors to a stringstream rather than directly to stderr <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-07 11:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8b616b594985628bf0494e711fa54a0bc037e874\">[34534]</a></span>: remove dead code from condor_q <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-07 10:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/59d8aba291c2d82d0bb582184c687aef934daab3\">[34533]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>) refactor condor_q to separate out the various ways of fetching job ads into separate functions. this change removes the sqfp callback from the heart of the condor_q print loop. ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jan-02 16:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1a4a1abef1180073adfd2aede96d3d022a325f00\">[34532]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3414\" onclick=\"get_ticket_and_populate_wrapper('3414'); return false;\" title=\"condor_q should be able to analyze machine START expressions\">#3414</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>) analyze only one job from each autocluster when doing reverse analysis in condor_q this change includes some refactoring of the condor_q printing code as a step toward consolidating the show_queue and show_queue_buffered code paths. An additional void* argument was added for use by some\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-27 14:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8691ff025e30eb8ad6226b4bf91c264c8f5b5b72\">[34490]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3414\" onclick=\"get_ticket_and_populate_wrapper('3414'); return false;\" title=\"condor_q should be able to analyze machine START expressions\">#3414</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>). add -nouserprio switch to condor_q -analyze. clean up usage, change -better-analyze to do more detailed analysis of Requirements expression than -analyze does. sort machine ads before reverse analyze. fix a bug in the count of jobs matching START expression in reverse analyze. ===VersionHistory:Pending===\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-17 09:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f8c75fb03714c4f2a699666c1d94f0cb3a2eda6e\">[34399]</a></span>: Fix <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PrettyPrintExprTree\" title=\"Pretty Print Expr Tree\">PrettyPrintExprTree</a></span> so that it properly handles the case where a &amp;&amp; or || falls at 80 columns (or whatever the current width is). <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3416\" onclick=\"get_ticket_and_populate_wrapper('3416'); return false;\" title=\"condor_q analyze doesn't handle complex requirements.\">#3416</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-13 17:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e52c195c9094e23641d7c55ecd5a104ca517eaef\">[34386]</a></span>: add -reverse and -machineconstraint to condor_q for use with condor_q -analyze. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3414\" onclick=\"get_ticket_and_populate_wrapper('3414'); return false;\" title=\"condor_q should be able to analyze machine START expressions\">#3414</a></span> parent <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> -reverse requests analysis of Machine's START expression -machineconstraint sets a constraint for the query to the collector that gets machines to match against. ===VersionHistory:None=== none for this\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-13 17:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3f9e6b4fb20f01958b5d7b885c01df3927b6e34d\">[34384]</a></span>: More intelligent pretty-printing of requirements expression for condor_q -analyze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> This check-in also contains some experimental code for detailed analysis of requirements clauses, but this code is not yet enabled. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-13 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/342a5f9ffce85f44491fbd6a363a7635db5f7833\">[34383]</a></span>: detail level control for expermimental condor_q -anaylze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3416\" onclick=\"get_ticket_and_populate_wrapper('3416'); return false;\" title=\"condor_q analyze doesn't handle complex requirements.\">#3416</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-13 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ce227254e3c2d891013ba2139a4953e092645e17\">[34382]</a></span>: More intelligent pretty-printing of requirements expression for condor_q -analyze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> This check-in also contains some experimental code for detailed analysis of requirements clauses, but this code is not yet enabled. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-13 16:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e7c9b4e5e63a45cb0ee9e31e71f6e7652d6f31ee\">[34380]</a></span>: add -reverse and -machineconstraint to condor_q for use with condor_q -analyze. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3414\" onclick=\"get_ticket_and_populate_wrapper('3414'); return false;\" title=\"condor_q should be able to analyze machine START expressions\">#3414</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> -reverse requests analysis of Machine's START expression -machineconstraint sets a constraint for the query to the collector that gets machines to match against. ===VersionHistory:None=== none for this commit,\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-03 16:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5851fdde524124b5e50e93d324a383e6490da22f\">[34251]</a></span>: detail level control for expermimental condor_q -anaylze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-03 16:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c83c1fa89f0b08312fec52a9534c2b20e6537fc9\">[34250]</a></span>: More intelligent pretty-printing of requirements expression for condor_q -analyze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> This check-in also contains some experimental code for detailed analysis of requirements clauses, but this code is not yet enabled. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Dec-03 16:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc54b61b8bb037d9648ff840e38a8678bb72ae02\">[34252]</a></span>: detail level control for expermimental condor_q -anaylze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-19 17:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/733f86d1968a815cfd2671969ea791599521428a\">[34156]</a></span>: More intelligent pretty-printing of requirements expression for condor_q -analyze <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span> This check-in also contains some experimental code for detailed analysis of requirements clauses, but this code is not yet enabled. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-02 15:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9d4325083563de97c4cb17761a851cb14bbad19b\">[33966]</a></span>: add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=InsertFromFile\" title=\"Insert From File\">InsertFromFile</a></span> with to compatible <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> class, part of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3335\" onclick=\"get_ticket_and_populate_wrapper('3335'); return false;\" title=\"condor_q analysis improvements for 7.9 series\">#3335</a></span>. as part of this fix, added std::string helper functions readLine and starts_with to stl_string_utils. ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-May-21 15:50", "status": "resolved", "created": "2012-Nov-21 16:07", "fixed_version": "2012-Nov-21 16:07", "broken_version": "v070800", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu, tstclair@redhat.com", "due_date": ""}
{"id": 4141, "title": "Ticket #4141: Add support for non-fungible user-defined slot resources", "description": "<blockquote>\nCertain kinds of slot resources are not fungable - a specific instance of the resource must be assigned to a specific slot in order to things to work correctly.\n\n<p>HTCondor should support this by allowing user defined resources to be enumerated (rather than just having a total number available).  By enumerating the resource, HTCondor is instructed to assign specific members of the enumeration when allocating resources of that type.\n\n</p><p>So, for instance to use enumerated GPUs, you would configure\n\n</p><p></p><pre>    MACHINE_RESOURCE_GPU = A, B, C, D\n</pre>\n\n<p>This would declare that there are 4 resources of type GPU, and the specific instances have the names A, B, C and D.  When resources are divided into slots, slots that are allocated a GPU will also be assigned a specific one.  So a slot that was assigned 2 GPUs would not only have the attribute\n\n</p><p></p><pre>    GPU = 2\n</pre>\n\n<p>It would also have\n\n</p><p></p><pre>    AssignedGPU = A,B</pre>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Feb-26 13:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/14294b3ef1e052caf9d50683a7c98ce132c0e875\">[39483]</a></span>: change description of MACHINE_RESOURCE_&lt;name&gt; documentation for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4141\" onclick=\"get_ticket_and_populate_wrapper('4141'); return false;\" title=\"Add support for non-fungible user-defined slot resources\">#4141</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-30 11:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6f16f7db6917466805e1ca159e893575f9226706\">[39264]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4141\" onclick=\"get_ticket_and_populate_wrapper('4141'); return false;\" title=\"Add support for non-fungible user-defined slot resources\">#4141</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4148\" onclick=\"get_ticket_and_populate_wrapper('4148'); return false;\" title=\"Pass non-fungible slot resource IDs to the job via environment\">#4148</a></span> (children of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3386\" onclick=\"get_ticket_and_populate_wrapper('3386'); return false;\" title=\"RFE: GPU discovery and ClassAd Update\">#3386</a></span>)  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-17 17:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/691acacc7778fddb6e34f547f99c805747568156\">[39197]</a></span>: fix implemtation of MACHINE_RESOURCE_INVENTORY_* to handle non-fungible resources <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4141\" onclick=\"get_ticket_and_populate_wrapper('4141'); return false;\" title=\"Add support for non-fungible user-defined slot resources\">#4141</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-30 09:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c3e1273a31f9cb34cbb36032234abaab6c712cec\">[39103]</a></span>: add configuration and assignment of non-fungible user-defined resources <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4141\" onclick=\"get_ticket_and_populate_wrapper('4141'); return false;\" title=\"Add support for non-fungible user-defined slot resources\">#4141</a></span> User defined resources like MACHINE_RESOURCE_GPU now accept an enumerated list of IDs OR a count of available resources, when a count is used, then the resource is considered fungible, but when a list of ids is used, the number\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Feb-26 14:08", "status": "resolved", "created": "2013-Dec-27 16:42", "fixed_version": "2013-Dec-27 16:42", "broken_version": "v080100", "priority": "3", "subsystem": "DaemonsExecNode", "assigned_to": "johnkn", "derived_from": "#3386", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": ""}
{"id": 1164, "title": "Ticket #1164: Switch from old ClassAd to new ClassAd API", "description": "<blockquote>\nPer <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=131\" onclick=\"get_ticket_and_populate_wrapper('131'); return false;\" title=\"Decide between old and new Class Ad Libraries\">#131</a></span>, our goal is that 7.6.0 will have a new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> backend, but using te old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> interface.  For 7.7.0, we should start replacing calls into the old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> interface with calls into the new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> interface.  This will simplify the code and expose additional functionality.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-13 19:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7f6646fc6815901019e2ec1c43f1d988d168cca5\">[19648]</a></span>: Make <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyType\" title=\"My Type\">MyType</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TargetType\" title=\"Target Type\">TargetType</a></span> optional in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> wire protocol. <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=1164\" onclick=\"get_ticket_and_populate_wrapper('1164'); return false;\" title=\"Switch from old ClassAd to new ClassAd API\">#1164</a></span> In new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyType\" title=\"My Type\">MyType</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TargetType\" title=\"Target Type\">TargetType</a></span> are ordinary attributes and not even required in an ad. However, in the wire protocol inherited from old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, values for these attributes are always transmitted. If the sender didn't set values,\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-01 11:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d4e2e0312fb0a243357277e91d846f1865887294\">[17054]</a></span>: Replace usage of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CurrentTime\" title=\"Current Time\">CurrentTime</a></span> with time() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> expressions. <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=1164\" onclick=\"get_ticket_and_populate_wrapper('1164'); return false;\" title=\"Switch from old ClassAd to new ClassAd API\">#1164</a></span> In new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CurrentTime\" title=\"Current Time\">CurrentTime</a></span> is not a special attribute. In both old and new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, time() acts the same as <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CurrentTime\" title=\"Current Time\">CurrentTime</a></span> in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Oct-02 17:09", "status": "new", "created": "2010-Jan-29 15:19", "fixed_version": "2010-Jan-29 15:19", "broken_version": "v070700", "priority": "2", "subsystem": "Unknown", "assigned_to": "", "derived_from": "#131", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 4027, "title": "Ticket #4027: config should allow # inside of multi-line declarations", "description": "<blockquote>\nUsers generally expect in config files that the line comment character # can be used at the start of lines that follow a line continuation to comment them out.  like this\n\n<p></p><pre>    ALLOW_WRITE = $(MARY) \\\n    $(JOE) \\\n    # $(FRED) \\\n    $(SALLY)\n</pre>\n\n<p>Users expect that the result of parsing this will be\n\n</p><p></p><pre>    ALLOW_WRITE = $(MARY) $(JOE) $(SALLY)\n</pre>\n\n<p>But instead, the config parsing code give us this\n\n</p><p></p><pre>    ALLOW_WRITE = $(MARY) $(JOE) # $(FRED) $(SALLY)\n</pre>\n\n<p>A different but related problem is that comment lines that end in a continuation character will 'eat' the next line, which is probably not what the user intended.  Thus\n\n</p><p></p><pre>    # this is the allow list\\\n    ALLOW_WRITE = $(MARY) $(JOE) $(SALLY)\n</pre>\n\n<p>will result in undefined ALLOW_WRITE, this can be surprising also.\n\n</p><p>The config parsing code should be modified so that both of these cases behave\nin the expected ways.  In effect lines that are comments should end at the newline, ignoring any continuation characters that may exist.  But lines that are not comments should treat a # after the continuation character as if the line following the # did not exist EXCEPT to notice whether that line has a continuation character of it's own.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-18 15:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/29c4eb8b487e0823528d0503561b7d44bf28d08b\">[39045]</a></span>: documentation and 8.1.3 version history item for change in interaction of configuration parsing of line continuation characters and comments <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4027\" onclick=\"get_ticket_and_populate_wrapper('4027'); return false;\" title=\"config should allow # inside of multi-line declarations\">#4027</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fa9bf8a42ae0995e8d0848ea865110251be7beed\">[38082]</a></span>: config will allow comments inside multi-line declarations <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4027\" onclick=\"get_ticket_and_populate_wrapper('4027'); return false;\" title=\"config should allow # inside of multi-line declarations\">#4027</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Dec-23 17:10", "status": "resolved", "created": "2013-Oct-31 16:21", "fixed_version": "2013-Oct-31 16:21", "broken_version": "v080100", "priority": "4", "subsystem": "Libs", "assigned_to": "johnkn", "derived_from": "#3820", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
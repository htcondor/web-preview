{"id": 7096, "title": "Ticket #7096: SubmitResult.num_procs() wrong for late materialization", "description": "<blockquote>\nQuick diagnostic script below, which submits a cluster with late materialization enabled:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">import htcondor\n\nsub = htcondor.Submit({\"executable\": \"/bin/sleep\", \"arguments\": \"1\", \"max_idle\": \"5\"})\n\nprint(\"submit\", sub)\n\nschedd = htcondor.Schedd()\nwith schedd.transaction() as txn:\n    result = sub.queue_with_itemdata(txn, 5)\n\nprint(result)\nprint(\"clusterid\", result.cluster())\nprint(\"clusterad\", result.clusterad())\nprint(\"first_proc\", result.first_proc())\nprint(\"num_procs\", result.num_procs())\n</pre></div>\n\n\n<p>This will report that <code>num_procs</code> is <code>0</code> for any count. TJ suspects that it looks for the number of materialized jobs at submit time.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2019-Jun-04 16:33", "status": "new", "created": "2019-Jun-04 16:33", "fixed_version": "2019-Jun-04 16:33", "broken_version": "", "priority": "4", "subsystem": "PythonBinding", "assigned_to": "johnkn", "derived_from": "", "creator": "karpel", "rust": "", "customer_group": "other", "visibility": "public", "notify": "karpel@wisc.edu, johnkn@cs.wisc.edu", "due_date": ""}
{"id": 2515, "title": "Ticket #2515: Regression testing for Hierarchical Group Quotas", "description": "<blockquote>\nInspired by <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2514\" onclick=\"get_ticket_and_populate_wrapper('2514'); return false;\" title=\"Regression test for partitionable slots\">#2514</a></span>, we should also have some basic regression testing for Hierarchical Group Quotas.\n\n<p>As one example, I think the testing scenario described for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2299\" onclick=\"get_ticket_and_populate_wrapper('2299'); return false;\" title=\"memory leaks in negotiator\">#2299</a></span> has good coverage of HGQ functionality.\n\n</p><p>Also attaching a tarball of some of the early functional tests for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1393\" onclick=\"get_ticket_and_populate_wrapper('1393'); return false;\" title=\"Implement tiered groups and hierarchical fairshare\">#1393</a></span></p></blockquote>", "remarks": "<blockquote>\n<em>2012-Feb-02 13:05:52 by eje:</em> <br/>\n\nAdded a smoke test based on one of the original functional tests for \"round robin\" and \"allocation rounds\", which simultaneously tests those two features, plus basic hierarchical group quotas and GROUP_ACCEPT_SURPLUS, so it has decent coverage of basic HGQ functions for a single smoke test.\n\n<p>We are planning to eventually add a larger number of \"unit-test\" style tests for the negotiator when that is supported, however I think that one or two of these \"system-level\" tests are also a good idea.\n\n</p><p></p><hr/>\n<em>2012-Feb-02 17:14:00 by eje:</em> <br/>\n\nAdded a second smoke test for autoregroup behavior and GROUP_SORT_EXPR.  I think these two make a good pair of system-level HGQ tests, with coverage of the most critical HGQ features.\n\n<p></p><hr/>\n<em>2012-Mar-07 10:25:37 by gthain:</em> <br/>\n\nSeeing some occasional random failures for the hgq tests...</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2675\" onclick=\"get_ticket_and_populate_wrapper('2675'); return false;\" title='RFE: a \"unit-testing\" mode for the negotiator'>#2675</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRFE: a \"unit-testing\" mode for the negotiator</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/472/hfs_func_tests.tgz\">hfs_func_tests.tgz</a>\n6567 bytes added by eje on 2011-Sep-30 17:35:51 UTC.\n<br/>\nSome functional tests for Hierarchical Group Quotas<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-06 09:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b8cb701aa55035833c8517b81c8f07af46720451\">[30125]</a></span>: Commented out collector-addr file config - implicated in test fail on MacOS ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2515\" onclick=\"get_ticket_and_populate_wrapper('2515'); return false;\" title=\"Regression testing for Hierarchical Group Quotas\">#2515</a></span>  (By Erik Erlandson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-02 17:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5b1b109ca0f8de9ff31922c7345eb2b87a0a8581\">[30110]</a></span>: Added second smoke test for HGQ job_hgq_autoregroup_basic_van.run ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2515\" onclick=\"get_ticket_and_populate_wrapper('2515'); return false;\" title=\"Regression testing for Hierarchical Group Quotas\">#2515</a></span>  (By Erik Erlandson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-02 12:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3a991d04b37f1c32c97d5eaa2ad789dd69e91945\">[30097]</a></span>: Added HGQ smoke test job_hgq_negfail_basic_van.run ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2515\" onclick=\"get_ticket_and_populate_wrapper('2515'); return false;\" title=\"Regression testing for Hierarchical Group Quotas\">#2515</a></span>  (By Erik Erlandson )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-May-03 09:16", "status": "resolved", "created": "2011-Sep-30 12:35", "fixed_version": "2011-Sep-30 12:35", "broken_version": "", "priority": "3", "subsystem": "Tests", "assigned_to": "gthain", "derived_from": "#1393", "creator": "eje", "rust": "", "customer_group": "other", "visibility": "public", "notify": "eje@cs.wisc.edu, dan@hep.wisc.edu, tstclair@redhat.com, matt@cs.wisc.edu", "due_date": ""}
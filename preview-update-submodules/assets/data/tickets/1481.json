{"id": 1481, "title": "Ticket #1481: shadow recycling and SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION conflict", "description": "<blockquote>\nPeter Doherty reported in condor-users (Shadow errors after installing 7.5.3) the following errors:\n\n<p></p><div class=\"verbatim\">\n<pre>06/30/10 21:59:37 (2284464.0) (30749): SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION: failed to create security session for &lt;10.200.4.14:56387&gt;#1277942747#3#..., so will fall back on security negotiation\n06/30/10 21:59:37 (2284464.0) (30749): SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION: failed to create security session for filetrans.&lt;10.200.4.14:56387&gt;#1277942747#3#..., so will fall back on security negotiation\n</pre></div>\n\n\n<p>This is caused by shadow recycling, so the workaround is to set SHADOW_WORKLIFE=0.  The problem is that the non-negotiated session is created but never deleted, so if the shadow tries to run another job on the same claim, it fails to create the session, because it conflicts with the existing session left behind by the previous run.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-01 03:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/58b9c572e308aee02efb719bbc0c0b2285ed199e\">[18534]</a></span>: Fixed conflict between shadow recycling and SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1481\" onclick=\"get_ticket_and_populate_wrapper('1481'); return false;\" title=\"shadow recycling and SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION conflict\">#1481</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jul-13 08:33", "status": "resolved", "created": "2010-Jul-01 03:53", "fixed_version": "2010-Jul-01 03:53", "broken_version": "v070503", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "dan@hep.wisc.edu tstclair@redhat.com", "due_date": ""}
{"id": 5814, "title": "Ticket #5814: Update systemd file to have HTCondor start after NIS", "description": "<blockquote>\nLIGO reports after they upgraded to RHEL7, whenever they reboot a submit machine, the first few jobs the schedd attempts to either reconnect or restart end up on hold. The reason is they are using NIS and systemd, and systemd on RHEL7 starts up services in parallel, resulting in HTCondor starting up before NIS is ready, and thus HTCondor's attempts to map usernames to uids fail. TimT investigating how we can tune our systemd integration.\n\n<p>Our systemd unit file should indicate the HTCondor should start after NIS.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Sep-15 10:13:33 by blin:</em> <br/>\n\n<strong>Code review:</strong> Looks good to me\n\n<p></p><hr/>\n<em>2016-Sep-20 12:03:38 by blin:</em> <br/>\n\n<strong>Code Review:</strong> Looks good to me after comments in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5386\" onclick=\"get_ticket_and_populate_wrapper('5386'); return false;\" title=\"HTCondor View: fix afterquery error reporting\">#5386</a></span> were addressed.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-20 11:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c9dc0fc900f9f8474fa91b91c9ec0901f535827\">[49235]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5836\" onclick=\"get_ticket_and_populate_wrapper('5836'); return false;\" title=\"Modify systemd profile to start HTCondor after LDAP\">#5836</a></span>) Address comments from code review.  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-30 09:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dd9d81aa8d461a2725e8730eea4904ca900bd232\">[48906]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span>) version history entr  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-30 09:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/694217740c345b0018d6edfc58780eb72faacd6c\">[48905]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5814\" onclick=\"get_ticket_and_populate_wrapper('5814'); return false;\" title=\"Update systemd file to have HTCondor start after NIS\">#5814</a></span>) Start HTCondor after ypbind  (By Tim Theisen )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Sep-20 14:03", "status": "defer", "created": "2016-Jul-28 13:52", "fixed_version": "2016-Jul-28 13:52", "broken_version": "v080400", "priority": "5", "subsystem": "Packaging", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": ""}
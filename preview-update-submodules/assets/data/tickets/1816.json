{"id": 1816, "title": "Ticket #1816: when a daemon does not have UDP, advertise that fact", "description": "<blockquote>\nWhen using TCP_FORWARDING_HOST or WANT_UDP_COMMAND_SOCKET=False, daemons should advertise that they do not have a UDP port so that things connecting to them will know to use TCP.</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2011-Feb-01 16:20:02 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-20 21:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ad8f8d5ebef1d63519acb5df2c061be0884964b6\">[19740]</a></span>: Fix MyType/TargetType compatibility problem. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1816\" onclick=\"get_ticket_and_populate_wrapper('1816'); return false;\" title=\"when a daemon does not have UDP, advertise that fact\">#1816</a></span> parser.ParseClassAd() was getting called after setting <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyType\" title=\"My Type\">MyType</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TargetType\" title=\"Target Type\">TargetType</a></span>, so these attributes were getting cleared. This created compatibility problems when receiving ads from old-classads versions of condor, because they did not send these values\u00a0[...]\n (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Dec-17 18:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f3f28856184370082744df5e446356eaeb2e0e49\">[19703]</a></span>: Advertise in the sinful address that UDP is not supported. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1816\" onclick=\"get_ticket_and_populate_wrapper('1816'); return false;\" title=\"when a daemon does not have UDP, advertise that fact\">#1816</a></span> Daemons using TCP_FORWARDING_HOST or WANT_UDP_COMMAND_SOCKET=False now advertise that they cannot be reached via UDP.  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Feb-01 16:43", "status": "resolved", "created": "2010-Dec-17 18:25", "fixed_version": "2010-Dec-17 18:25", "broken_version": "v070500", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
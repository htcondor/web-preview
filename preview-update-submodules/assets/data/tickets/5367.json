{"id": 5367, "title": "Ticket #5367: DAGMan tests fail randomly(?) on Windows", "description": "<blockquote>\nNote:  I'm making this a DAGMan ticket as opposed to a test ticket because it looks like there may actually be a problem with DAGMan on Windows, as opposed to just a problem with the tests.\n\n<p>Anyhow, we see DAGMan tests failing on Windows, but not the same tests reproducibly.  Today job_dagman_maxpostscripts, job_dagman_submit_glob-A and job_dagman_submit_parse failed on the 8.5.1 release candidate.  It looks like al of them timed out and were hard killed -- all of the dagman.out and run.out files just end in the middle of the test run.\n\n</p><p>Interestingly, all of the dagman.out files had messages like this:\n\n</p><p></p><pre>  11/04/15 11:21:11 attempt to connect to &lt;128.104.103.11:48272&gt; failed: connect errno = 10048.  Will keep trying for 10 total seconds (10 to go).\n</pre>\n\n<p>I'm not sure what that is, but I'm guessing that it's DAGMan trying to talk to the schedd to update its own <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>.  (Just as a note, most of the dagman.out files did not have this error message; but some had the error message, but the test still succeeded.)\n\n</p><p>It also seems that <strong>all</strong> of the dagman.out files also have messages like this:\n\n</p><p></p><pre>  11/04/15 11:22:25 SharedPortEndpoint: failed to open ./shared_port_ad: No such file or directory\n  11/04/15 11:22:25 SharedPortEndpoint: did not successfully find SharedPortServer address. Will retry in 60s.\n</pre>\n\n<p>I guess since all of the tests show these messages, they're not significant for the failures...</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/911/job_dagman_maxpostscripts.dag.dagman.out\">job_dagman_maxpostscripts.dag.dagman.out</a>\n47995 bytes added by wenger on 2015-Nov-04 21:16:24 UTC.\n</li><li><a href=\"../files/912/job_dagman_maxpostscripts.run.out\">job_dagman_maxpostscripts.run.out</a>\n4164 bytes added by wenger on 2015-Nov-04 21:16:32 UTC.\n</li><li><a href=\"../files/913/job_dagman_submit_glob-A.dag.dagman.out\">job_dagman_submit_glob-A.dag.dagman.out</a>\n14041 bytes added by wenger on 2015-Nov-04 21:16:40 UTC.\n</li><li><a href=\"../files/914/job_dagman_submit_glob-A.run.out\">job_dagman_submit_glob-A.run.out</a>\n864 bytes added by wenger on 2015-Nov-04 21:16:48 UTC.\n</li><li><a href=\"../files/915/job_dagman_submit_parse.dag.dagman.out\">job_dagman_submit_parse.dag.dagman.out</a>\n11721 bytes added by wenger on 2015-Nov-04 21:16:55 UTC.\n</li><li><a href=\"../files/916/job_dagman_submit_parse.run.out\">job_dagman_submit_parse.run.out</a>\n4672 bytes added by wenger on 2015-Nov-04 21:17:01 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Nov-04 15:15", "status": "new", "created": "2015-Nov-04 15:15", "fixed_version": "2015-Nov-04 15:15", "broken_version": "v080501", "priority": "3", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "batlab", "visibility": "public", "notify": "wenger@cs.wisc.edu, zmiller@cs.wisc.edu, johnkn@cs.wisc.edu", "due_date": ""}
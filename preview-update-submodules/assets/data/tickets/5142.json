{"id": 5142, "title": "Ticket #5142: HTCondor 8.3.5+ breaks OSG's HTCondor CE on RHEL5", "description": "<blockquote>\nSince HTCondor version 8.3.5, job submission fails for HTCondor CE on RHEL 5 systems.</blockquote>", "remarks": "<blockquote>\n<em>2015-Jul-09 10:11:23 by blin:</em> <br/>\n\nThis error is intermittent (though frequent), when we have tried to run our test suite against HTCondor 8.3.5+. This link contains a comment with more detail and some <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CollectorLog\" title=\"Collector Log\">CollectorLog</a></span> snippets that seem to indicate that there are issues reading a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> somewhere:\n\n<p><a class=\"external\" href=\"https://jira.opensciencegrid.org/browse/SOFTWARE-1921?focusedCommentId=330484&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-330484\">https://jira.opensciencegrid.org/browse/SOFTWARE-1921?focusedCommentId=330484&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-330484</a>\n\n</p><p>I can provide full D_FULLDEBUG logs if necessary.\n\n</p><p></p><hr/>\n<em>2015-Jul-15 12:42:07 by blin:</em> <br/>\n\nI've attached the D_FULLDEBUG log tarball\n\n<p></p><hr/>\n<em>2015-Jul-15 16:56:35 by jfrey:</em> <br/>\n\nCan you post the configuration files used in the failure case?\n\n<p>It appears the failures are occurring when the collector attempts to make a TCP connection to itself via the shared port daemon.\n\n</p><p></p><hr/>\n<em>2015-Jul-16 11:57:07 by blin:</em> <br/>\n\nI've attached the config val dump. If you'd like the files themselves, they're easy to reconstruct and I could grab them for you.\n\n<p></p><hr/>\n<em>2015-Aug-07 14:45:05 by jfrey:</em> <br/>\n\nI've looked at the supplied log files and can't diagnose the problem. There are some timeouts in the collector and schedd logs, probably caused by <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5185\" onclick=\"get_ticket_and_populate_wrapper('5185'); return false;\" title=\"Collector still tries to authenticate itself.\">#5185</a></span>. But I can't tell if that's causing condor_submit to fail. And I don't see anything that would explain why Rhel5 would be any different than Rhel6 or Rhel7.\n\n<p>Some additional information would be very useful:\n</p><ul>\n<li>How exactly is condor_submit failing? What does it print? Does it block for a while before indicating failure?\n</li><li>Timestamps for when condor_submit ran to match up with times in the logs of the associated daemons.\n</li><li>Is condor_submit the only tool that fails? What about condor_q or condor_status run at around the same time?\n</li></ul>\n\n<p></p><hr/>\n<em>2015-Aug-24 17:47:14 by tim:</em> <br/>\n\nSince OSG is no longer build HTCondor 8.3 for RHEL 5 and we are dropping EL 5 support, we will abandon this ticket.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/879/condor-ce.tar.gz\">condor-ce.tar.gz</a>\n172542 bytes added by blin on 2015-Jul-15 17:41:42 UTC.\n<br/>\nHTCondor CE D_FULLDEBUG logs<br/>\n</li><li><a href=\"../files/882/test_config_dump\">test_config_dump</a>\n41025 bytes added by blin on 2015-Jul-16 16:55:45 UTC.\n<br/>\nOutput of `condor_ce_config_val -dump`<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "incident", "last_change": "2015-Aug-24 17:47", "status": "abandoned", "created": "2015-Jul-09 09:47", "fixed_version": "2015-Jul-09 09:47", "broken_version": "v080305", "priority": "3", "subsystem": "Unknown", "assigned_to": "jfrey", "derived_from": "#4555", "creator": "tim", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "cat@cs.wisc.edu blin@cs.wisc.edu", "due_date": ""}
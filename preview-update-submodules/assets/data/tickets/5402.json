{"id": 5402, "title": "Ticket #5402: schedd segfaults on fast shutdown", "description": "<blockquote>\nWhen the schedd is shutdown fast, it occasionally segfaults.  This causes test failures in the regression test suite.  The stack trace is\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Stack dump for process 20361 at timestamp 1447564694 (8 frames)\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(dprintf_dump_stack+0x64)[0x2b417860e564]\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(+0x10647d)[0x2b417851a47d]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0xf0a0)[0x2b417a0c20a0]\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(_ZN18SecManStartCommandD0Ev+0x39)[0x2b417864e469]\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(_ZN9HashTableI8MyString18classy_counted_ptrI18SecManStartCommandEE5clearEv+0x50)[0x2b417864ee90]\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(_ZN9HashTableI8MyString18classy_counted_ptrI18SecManStartCommandEED2Ev+0x16)[0x2b417864ef36]\n/lib/x86_64-linux-gnu/libc.so.6(__cxa_finalize+0xa5)[0x2b417a306e65]\n/slots/03/dir_31576/userdir/condor/lib/libcondor_utils_8_4_3.so(+0x105b73)[0x2b4178519b73]\n</pre></div>\n\n\n<p>The global static destuctor for the secman's hashmap is being called after daemonCore is destructed and set to null.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Dec-08 16:36:51 by tim:</em> <br/>\n\nNo version history needed.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Nov-16 16:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bedb9c4a8c71b3de1905dc0c93c68e6ef932312b\">[46270]</a></span>: Fix schedd crash on fast shutdown <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5402\" onclick=\"get_ticket_and_populate_wrapper('5402'); return false;\" title=\"schedd segfaults on fast shutdown\">#5402</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Dec-08 16:36", "status": "resolved", "created": "2015-Nov-16 15:51", "fixed_version": "2015-Nov-16 15:51", "broken_version": "v080400", "priority": "2", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20150117"}
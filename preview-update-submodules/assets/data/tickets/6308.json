{"id": 6308, "title": "Ticket #6308: parallel universe doesn't support partitionable slots well", "description": "<blockquote>\nIn some circumstance, the dedicated scheduler incorrectly accounts for partitionable slots when matched parallel universe jobs to them.</blockquote>", "remarks": "<blockquote>\n<em>2017-Jul-26 13:44:45 by jpatton:</em> <br/>\n\n<strong>REVIEW</strong>: <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/21f90f8a476fbb4e2275ba4980decac6b5913ee9\">[51734]</a></span> looks good, just need to be aware if there are pending matches that have requested more than 1 CPU, we can end up with a larger list of (duplicate) resources than can actually be matched (i.e. the pslot will look \"less full\" than it actually will be). For instance, if an empty pslot with 4 total CPUs has a dslot that is (pending) matched to 4 jobs with request_cpu = 2, the dslot will be duplicated 4x in the resource list while only two matches can actually be made.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-31 16:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/04c8153987d8bfe1205c62a4cccb2d8e76dea166\">[51972]</a></span>: Revert \"Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6308\" onclick=\"get_ticket_and_populate_wrapper('6308'); return false;\" title=\"parallel universe doesn't support partitionable slots well\">#6308</a></span>\"; Version history in wrong release. This reverts commit 4cc2eb6ca9b9f0675616d98dace7bc847965dd3e.  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-31 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/33d4d51300cc9a81c4c5d66f923d8368a58db9b6\">[51971]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6344\" onclick=\"get_ticket_and_populate_wrapper('6344'); return false;\" title=\"Cross-protocol CCB should not cause schedd or shadow to EXCEPT\">#6344</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6324\" onclick=\"get_ticket_and_populate_wrapper('6324'); return false;\" title=\"Execute directory cannot be an ImDisk ramdrive on Windows\">#6324</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6308\" onclick=\"get_ticket_and_populate_wrapper('6308'); return false;\" title=\"parallel universe doesn't support partitionable slots well\">#6308</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6343\" onclick=\"get_ticket_and_populate_wrapper('6343'); return false;\" title=\"Collector Python plugin has undefined symbols\">#6343</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-31 15:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4cc2eb6ca9b9f0675616d98dace7bc847965dd3e\">[51964]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6308\" onclick=\"get_ticket_and_populate_wrapper('6308'); return false;\" title=\"parallel universe doesn't support partitionable slots well\">#6308</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-19 12:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/21f90f8a476fbb4e2275ba4980decac6b5913ee9\">[51734]</a></span>: Better support for parallel jobs on partitionable slots <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6308\" onclick=\"get_ticket_and_populate_wrapper('6308'); return false;\" title=\"parallel universe doesn't support partitionable slots well\">#6308</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Jul-31 15:14", "status": "resolved", "created": "2017-Jun-19 12:51", "fixed_version": "2017-Jun-19 12:51", "broken_version": "v080600", "priority": "3", "subsystem": "Parallel", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
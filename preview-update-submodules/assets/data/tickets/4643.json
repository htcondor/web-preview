{"id": 4643, "title": "Ticket #4643: knobs to throttle remote condor_history queries never documented", "description": "<blockquote>\nIn ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3897\" onclick=\"get_ticket_and_populate_wrapper('3897'); return false;\" title=\"Remotely queryable history\">#3897</a></span> we added remotely queryable condor_history, but somehow the config knobs associated with this mechanism were never added into the manual.\n\n<p>The following schedd config knobs should be documented (and perhaps referenced in the condor_history docs):\n\n</p><p></p><ul>\n<li>HISTORY_HELPER_MAX_CONCURRENCY - This specifies the maximum number of concurrent remote condor_history queries allowed at a time (defaults to 2).  When there are more than HISTORY_HELPER_MAX_CONCURRENCY clients, further queries will be queued in a non-blocking manner. Setting this option to 0 disables remote history access.\n\n<p></p></li><li>HISTORY_HELPER_MAX_HISTORY - This specifies the maximum number of ads to parse on behalf of remote history clients.  The default is 10,000.  This allows the system administrator to indirectly manage the maximum amount of CPU time spent on each client.  Setting this option to 0 disables remote history access.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2014-Oct-09 17:50:02 by wenger:</em> <br/>\n\nNote that the -pool and -name options are not documented on condor_history man page, either.  (They are in the condor_history usage message.)\n\n<p></p><hr/>\n<em>2014-Oct-09 18:08:54 by tannenba:</em> <br/>\n\nKent, re above comment, looks to me like -name and -pool are in the condor_history man page via commit <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6a5ee358a0e9d33faa13edbb4f320f7fd961388e\">[38050]</a></span> ...</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4644\" onclick=\"get_ticket_and_populate_wrapper('4644'); return false;\" title=\"HISTORY_HELPER_MAX_CONCURRENCY default is actually 10,000\">#4644</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHISTORY_HELPER_MAX_CONCURRENCY default is actually 10,000</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-24 13:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e1589d6c9b65fbfca63ea5a157af825d335dbec1\">[41471]</a></span>: document knobs to throttle remote condor_history queries. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4643\" onclick=\"get_ticket_and_populate_wrapper('4643'); return false;\" title=\"knobs to throttle remote condor_history queries never documented\">#4643</a></span> Committer: Todd L Miller  (By Todd Tannenbaum )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-24 13:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7af826adf14d1895027a11574a9f44e0a425d061\">[41473]</a></span>: minor doc edits for 2 related tickets: <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4643\" onclick=\"get_ticket_and_populate_wrapper('4643'); return false;\" title=\"knobs to throttle remote condor_history queries never documented\">#4643</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4644\" onclick=\"get_ticket_and_populate_wrapper('4644'); return false;\" title=\"HISTORY_HELPER_MAX_CONCURRENCY default is actually 10,000\">#4644</a></span> Committer: Todd L Miller  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-10 15:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9cf16485628e677bcf344b3c7501f998cc01e5ff\">[41376]</a></span>: minor doc edits for 2 related tickets: <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4643\" onclick=\"get_ticket_and_populate_wrapper('4643'); return false;\" title=\"knobs to throttle remote condor_history queries never documented\">#4643</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4644\" onclick=\"get_ticket_and_populate_wrapper('4644'); return false;\" title=\"HISTORY_HELPER_MAX_CONCURRENCY default is actually 10,000\">#4644</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-10 14:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ab91c067e71448eeba4758f821263a3d444a98e9\">[41371]</a></span>: document knobs to throttle remote condor_history queries. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4643\" onclick=\"get_ticket_and_populate_wrapper('4643'); return false;\" title=\"knobs to throttle remote condor_history queries never documented\">#4643</a></span>  (By Todd Tannenbaum )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2014-Oct-10 16:10", "status": "resolved", "created": "2014-Oct-09 16:01", "fixed_version": "2014-Oct-09 16:01", "broken_version": "v080102", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "tannenba", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
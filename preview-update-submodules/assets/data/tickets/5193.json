{"id": 5193, "title": "Ticket #5193: Have DAGMan *not* kill pre/post scripts when condor_rm'ed", "description": "<blockquote>\nSince we are now (see <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5169\" onclick=\"get_ticket_and_populate_wrapper('5169'); return false;\" title=\"DAGMan does not kill post/pre scripts on shutdown\">#5169</a></span>) killing pre and post scripts in the schedd when DAGMan is condor_rm'ed, it probably makes sense to no longer do this in DAGMan itself.  (Note that we can't just tear out the code entirely, since DAGMan still needs to kill the scripts in cases of something like an ABORT-DAG-ON getting triggered.)\n\n<p>I'm thinking that it probably makes sense to hold off on this change until 8.5.0, even though the schedd change went into 8.2.9 and 8.3.8.  Maybe also implement <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5175\" onclick=\"get_ticket_and_populate_wrapper('5175'); return false;\" title=\"Have condor_dagman condor_rm jobs on SIGUSR1 (revert #4618)\">#5175</a></span> (or do them together).</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Apr-05 11:01:12 by wenger:</em> <br/>\n\nCreated V8_5-gittrac_5193-branch for this.\n\n<p></p><hr/>\n<em>2016-Apr-06 10:38:48 by wenger:</em> <br/>\n\nWe should definitely have a config knob to restore the old behavior!\n\n<p></p><hr/>\n<em>2016-Sep-07 12:19:11 by wenger:</em> <br/>\n\nHmm -- given the situation with <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5702\" onclick=\"get_ticket_and_populate_wrapper('5702'); return false;\" title=\"condor_rm on scheduler universe job does not halt submission\">#5702</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5175\" onclick=\"get_ticket_and_populate_wrapper('5175'); return false;\" title=\"Have condor_dagman condor_rm jobs on SIGUSR1 (revert #4618)\">#5175</a></span>, I'm not sure we want to do this -- or maybe have a knob for whether to do it, and the knob defaults to true, and users can set it to false if performance is really a problem?</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-07 11:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ef4375010fa78d696166f50390c6a99a0811cd54\">[48505]</a></span>: Gittrac <span class=\"ticket\"><a class=\"stalled\" href=\"/wiki-archive/tickets/?ticket=5193\" onclick=\"get_ticket_and_populate_wrapper('5193'); return false;\" title=\"Have DAGMan *not* kill pre/post scripts when condor_rm'ed\">#5193</a></span>: Minor cleanups.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-May-14 06:31", "status": "stalled", "created": "2015-Aug-04 13:57", "fixed_version": "2015-Aug-04 13:57", "broken_version": "v080308", "priority": "3", "subsystem": "Dag", "assigned_to": "coatsworth", "derived_from": "#5169", "creator": "wenger", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "wenger@cs.wisc.edu, zmiller@cs.wisc.edu, bbockelm@cse.unl.edu, coatsworth@cs.wisc.edu", "due_date": ""}
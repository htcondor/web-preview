{"id": 1352, "title": "Ticket #1352: MAX_NEGOTIATOR_MATCH_LOG ignored", "description": "<blockquote>\nObserved in the wild by a user, also present in our pool.  From the CS central manager:\n<div class=\"code\">\n<pre class=\"code\">astro(condor) condor_config_val -negotiator MAX_NEGOTIATOR_MATCH_LOG\n25000000\nastro(condor) condor_config_val NEGOTIATOR_MATCH_LOG\n/var/home/condor/log/MatchLog\nastro(condor) ls -l /var/home/condor/log/MatchLog*\n-rw-r--r-- 1 condor condor 1984798999 Apr 14 17:26 /var/home/condor/log/MatchLog\n-rw-r--r-- 1 condor condor   25000120 Nov  1 20:26 /var/home/condor/log/MatchLog.old\n</pre></div>\n\n\n<p>1984798999 slightly exceeds 25000000.  Interestingly, Nov 1 would be right around the time we upgraded to 7.4.0.\n\n</p><p>The user is having serious problems; his Negotiator is insanely busy and at the default logging level he's generating 1-2 GB of log a day.  The user thinks he's seen it occasionally rotate, perhaps when his pool is quiet.  Unfortunately as a coping mechanism he has a cron job occasionally wiping out the .old file, so we can't easily check.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Apr-21 17:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/72e39548cafa02ff91651c4c1dc344e65661af34\">[17890]</a></span>: Commit for fixing the non-rotating NEGOTIATOR_MATCH_LOG issue (or really: any separate debug level log file) in ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1352\" onclick=\"get_ticket_and_populate_wrapper('1352'); return false;\" title=\"MAX_NEGOTIATOR_MATCH_LOG ignored\">#1352</a></span>, introduced with commit 8aa348 when working on ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=823\" onclick=\"get_ticket_and_populate_wrapper('823'); return false;\" title=\"Log rotation problem at 2GB boundary\">#823</a></span> . Mentioned commit changed the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MaxLog\" title=\"Max Log\">MaxLog</a></span> array's data type to 64 bit in dprintf but not in dprintf_config.  (By Cathrin Weiss )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Apr-21 18:04", "status": "resolved", "created": "2010-Apr-14 17:30", "fixed_version": "2010-Apr-14 17:30", "broken_version": "v070402", "priority": "1", "subsystem": "Daemons", "assigned_to": "cweiss", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu , cweiss@cs.wisc.edu", "due_date": "20100419"}
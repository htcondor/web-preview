{"id": 5682, "title": "Ticket #5682: Some real values printed incorrectly in ClassAds", "description": "<blockquote>\nIn 8.1.2, we changed how floating point values are printed in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> to be more human readable. But for certain values, the printed value had an extra \".0\" appended to the end such that the value causes a failure when re-parsed.\n\n<p>This problem occurs when a value has one digit of mantissa and a large (positive or negative) exponent, for example <code>2E40</code>. This ends up being rendered as <code>2E40.0</code>. This only occurs when unparsing in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> format.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-May-20 08:34:14 by johnkn:</em> <br/>\n\nCODE_REVIEW: change looks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-May-23 15:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6db223ebab5fdbfd044beccd90bd93198034b26c\">[48397]</a></span>: Docs for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> real values having extra .0 bug fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5682\" onclick=\"get_ticket_and_populate_wrapper('5682'); return false;\" title=\"Some real values printed incorrectly in ClassAds\">#5682</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-May-19 15:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fe9c8c28a21a2c12e88902865d4d638b863ef564\">[48395]</a></span>: Don't print unparseable floats in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> format. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5682\" onclick=\"get_ticket_and_populate_wrapper('5682'); return false;\" title=\"Some real values printed incorrectly in ClassAds\">#5682</a></span> When detecting whether the %G format option gave us something that looks like an integer, look for the lack of '.' or 'E'. Before, we only looked for '.', and would render 2E40 as 2E40.0.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-May-23 15:17", "status": "resolved", "created": "2016-May-19 15:46", "fixed_version": "2016-May-19 15:46", "broken_version": "v080102", "priority": "2", "subsystem": "ClassAd", "assigned_to": "jfrey", "derived_from": "#3928", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
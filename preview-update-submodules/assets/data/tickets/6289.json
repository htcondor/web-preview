{"id": 6289, "title": "Ticket #6289: Minor audit log improvements", "description": "<blockquote>\nThere are several small improvements that we can make to the schedd's audit log.\n\n<p></p><ul>\n<li>Include connection id when D_AUDIT lines appear in the main schedd daemon log.\n</li><li>Better filtering of shadow/gridmanager modifications of job queue.\n</li></ul>\n\n<p>When the shadow or gridmanager connect to the schedd to update the job queue, they use the parent-child session, which has a mapped identity of <code>condor@child</code>. In the personal condor or when CONDOR_IDS is set, this identity won't match the condor user account name. Thus, the potentially copious updates from the shadow/gridmanager won't be filtered out of the audit log.</p></blockquote>", "remarks": "<blockquote>\n<em>2017-Jun-19 13:17:29 by tim:</em> <br/>\n\n<strong>DOC REVIEW:</strong> Version History could be improved.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-19 17:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fbfdf521bef6105ba1bf6d5fc68e17e5a4085f3a\">[51741]</a></span>: Update version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6289\" onclick=\"get_ticket_and_populate_wrapper('6289'); return false;\" title=\"Minor audit log improvements\">#6289</a></span> plus other minor edits  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-02 14:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d4c77baf356c6e42b6390b40c4f78aa5c6ce13d5\">[51673]</a></span>: Docs for audit log improvements. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6289\" onclick=\"get_ticket_and_populate_wrapper('6289'); return false;\" title=\"Minor audit log improvements\">#6289</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-May-30 13:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a1eedcb22f586124a1419ba13c63217792cdb118\">[50737]</a></span>: Add constness to many CEDAR class methods. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6289\" onclick=\"get_ticket_and_populate_wrapper('6289'); return false;\" title=\"Minor audit log improvements\">#6289</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-May-26 15:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7acacd4d548df322c2d15ad8c662cb46e91fe577\">[50736]</a></span>: Add some consts to audit log functions. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6289\" onclick=\"get_ticket_and_populate_wrapper('6289'); return false;\" title=\"Minor audit log improvements\">#6289</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-May-26 13:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/61a157dcfdc128035485422d5b67d5b7d67c75b0\">[50735]</a></span>: Small audit log improvements. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6289\" onclick=\"get_ticket_and_populate_wrapper('6289'); return false;\" title=\"Minor audit log improvements\">#6289</a></span> * Always print connection id. * Filter shadow/gridmanager updates when condor user isn't 'condor'. * Remove dead code.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jun-19 17:50", "status": "resolved", "created": "2017-May-26 13:22", "fixed_version": "2017-May-26 13:22", "broken_version": "", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "tim", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
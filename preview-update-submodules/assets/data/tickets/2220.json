{"id": 2220, "title": "Ticket #2220: DAGMan should deal better with warnings from condor_submit", "description": "<blockquote>\nBill ran into some errors like this today:\n\n<p></p><pre>  06/09/11 02:07:47 Submitting Condor Node dataset_human2-human_tf.txt_495+dataset_human2-human_tf.txt_495 job(s)...\n  06/09/11 02:07:47 submitting: condor_submit -a dag_node_name' '=' 'dataset_human2-human_tf.txt_495+dataset_human2-human_tf.txt_495 -a +DAGManJobId' '=' '2848192 -a DAGManJobId' '=' '2848192 -a submit_event_notes' '=' 'DAG' 'Node:' 'dataset_human2-human_tf.txt_495+dataset_human2-human_tf.txt_495 -a +DAGParentNodeNames' '=' '\"\" process.cmd\n  06/09/11 02:07:50 From submit: Submitting job(s).\n  06/09/11 02:07:50 From submit: 1 job(s) submitted to cluster 2867569.\n  06/09/11 02:09:19 From submit:\n  06/09/11 02:09:19 From submit: WARNING: File /spalding/imageruns4/home/SOAR/html/condorruns/TFcluster/1734/dataset_human2-human_tf.txt_495/../sharedfiles.tar.gz is not readable by condor.\n  06/09/11 02:09:24 ERROR: parse_condor_submit failed:\n        WARNING: File /spalding/imageruns4/home/SOAR/html/condorruns/TFcluster/1734/dataset_human2-human_tf.txt_495/../sharedfiles.tar.gz is not readable by condor.\n</pre>\n\n<p>I have to confirm this, but it looks like the condor_submit actually works, and DAGMan gets confused by the warning, and thinks it didn't.  This ends up causing DAGMan to re-submit the job; and then it eventually ended up with this error:\n\n</p><p></p><pre>  06/09/11 02:09:30 ERROR: node dataset_human2-human_tf.txt_495+dataset_human2-human_tf.txt_495: job ID in userlog submit event (2867569.0.0) doesn't match ID reported earlier by submit command (2867570.0.0)!  Aborting DAG; set DAGMAN_ABORT_ON_SCARY_SUBMIT to false if you are *sure* this shouldn't cause an abort.</pre>\n</blockquote>", "remarks": "<blockquote>\nThis looks like a dup of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3658\" onclick=\"get_ticket_and_populate_wrapper('3658'); return false;\" title=\"DAGMan interprets warning from submit as failure\">#3658</a></span></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2013-Jun-10 14:59", "status": "abandoned", "created": "2011-Jun-09 12:49", "fixed_version": "2011-Jun-09 12:49", "broken_version": "v070600", "priority": "2", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "wenger@cs.wisc.edu", "due_date": ""}
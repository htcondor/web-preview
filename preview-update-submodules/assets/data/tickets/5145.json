{"id": 5145, "title": "Ticket #5145: Handle TCP_FORWARDING_HOST in AddressV1", "description": "<blockquote>\nWe don't currently handle TCP_FORWARDING_HOST in AddressV1.  (See <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5339\" onclick=\"get_ticket_and_populate_wrapper('5339'); return false;\" title=\"TCP_FORWARDING_HOST disregarded.\">#5339</a></span> for our approach to handling it in the addrs parameter of the Sinful.)  Arguably, we should simply add the forwarding host as a new inbound route, but maybe that's actually better left to AddressV2 (since it wouldn't be symmetric with the original Sinful).\n\n<p>Also, get_sinful_public() should probably set noUDP when TCP_FORWARDING_HOST overwrites the primary address (and the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DaemonCore\" title=\"Daemon Core\">DaemonCore</a></span> code that does this not), in case anybody else actually ever calls get_sinful_public().</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-23 10:40:41 by tlmiller:</em> <br/>\n\nFrom the original ticket description: <em>The issue may be that TCP_FORWARDING_HOST is applied very late in the advertising process, and as such doesn't appear in the addrs parameter.</em>   TCP_FORWARDING_HOST not appearing in the addrs parameter is actually a serious bug now, because it will cause HTCondor to ignore TCP_FORWARDING_HOST when actually doing networking.  (It's still advertised.)\n\n<p>I therefore split this ticket into <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5339\" onclick=\"get_ticket_and_populate_wrapper('5339'); return false;\" title=\"TCP_FORWARDING_HOST disregarded.\">#5339</a></span> -- fix the addrs problem -- and rewrote this one to reflect its more speculative nature.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2016-Aug-24 14:18", "status": "new", "created": "2015-Jul-13 14:14", "fixed_version": "2015-Jul-13 14:14", "broken_version": "", "priority": "4", "subsystem": "Libs", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, adesmet@cs.wisc.edu", "due_date": ""}
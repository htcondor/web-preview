{"id": 3033, "title": "Ticket #3033: Write sandbox management gahp", "description": "<blockquote>\nWrite sandbox management gahp\n\n<p><strong>DONE</strong> and now exists in src/condor_ft-gahp/</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-25 14:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/db45f29ac9629c416f4a64d5a155adec3596b567\">[32910]</a></span>: Add error message reporting in ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 16:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/798b17c1b2dd875a0c4f97b705578af87ec97f3d\">[32765]</a></span>: fix compile problem with default. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 15:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e9f55ad3c417f74022d4655ae1f26ea73f9911c0\">[32763]</a></span>: tidy up the default for where sandbox dirs should go. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 15:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e036032cf6cfac8969047992aef125a47609c9fd\">[32762]</a></span>: remove code no longer needed. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 15:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/aba0cd8dd307ef3f3fff3940af5128318bc697fd\">[32761]</a></span>: remove hack i unintentionally committed that made testing easier. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 14:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/478234dec290284c4b9d51f6b96130689e7d5666\">[32760]</a></span>: updated download/upload/destroy sandbox for the new threaded model. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 14:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/60d06eca1ba19e75c51097e07108e91e869a388c\">[32757]</a></span>: added threading in the dispatcher so we truly never block. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 13:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/55f6ae51a1bc9e8612f9e503596862432bfa4fff\">[32753]</a></span>: In ft-gahp, destroy_sandbox shouldn't remove entires for transfers. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 13:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8d1b6f337bff32670ae06bf2a82ccbaab5e443b3\">[32752]</a></span>: Remove empty directories during cleanup in ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 13:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/13c1e5a290c010743384b4aae731fb0e53ac030d\">[32751]</a></span>: Handle zeros properly in hashed directory names in ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 13:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2d2997a3cdaa6ed8136e19478a0cd3e07d694424\">[32750]</a></span>: Log everything the ft-gahp writes to stdout. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 11:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b691b69e1a991d3b9d14314bc3dd79f5148bb62e\">[32743]</a></span>: Tweak retrieval of FileTransfer's ad for efficiency. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span> Return a pointer to the ad rather than a copy of it.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 10:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/680bb4b3f01396f2b69b421a3ba3c57ccd0274b8\">[32742]</a></span>: Miscellaneous fixes in the ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 10:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f91e7fe4df3e85c512d372eb9b8a469cc0a1d8e7\">[32741]</a></span>: Improve destroy_sandbox command in ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 21:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e217c0bb769a2dbcc3deecf00b439d32d39e539e\">[32739]</a></span>: cleanup of BOSCO work <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 21:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/829dd6a1ac445fa4920c5d01587f17499d47a4ee\">[32738]</a></span>: further progress on <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 20:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d28ee4d3e8224313535d6cec3aa4af74df11c915\">[32736]</a></span>: adding reaper functionality. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 19:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fa51d0efed971fb881e2797544a2617a080614d3\">[32734]</a></span>: don't fear the reaper. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 19:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/decf32088db95cb3c1294088f4d8196b9d2dfde0\">[32732]</a></span>: exposed the classad of the file transfer object. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 17:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a042bee7f3c394cdc8c78d5c5546a4ddee406e12\">[32728]</a></span>: use non-blocking mode and reapers for BOSCO. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 17:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0705b80c5b54f60bcdfbccb040d2750d10ff17e5\">[32727]</a></span>: Add default reaper to ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span> Otherwise, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> throws a tantrum.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 17:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6c3458b2874a1c162cc1b1ed952863bdde2b4ba2\">[32726]</a></span>: initial implementation of bosco UPLOAD <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ec37f668f5f211964e41d67dbf685421d2cd222d\">[32723]</a></span>: ft-gahp: have <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> call back when it's done. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b493788b83a5d9afd1bc8159802e9cfb575ea9ae\">[32724]</a></span>: iterating towards a DESTROY_SANDBOX implementatoin <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 15:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d91a76a00362d584a4e5b0f853fa3492878adb1e\">[32712]</a></span>: BOSCO: ft-gahp has prelimiary code for download and destroy. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-10 20:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9e7312725dbf74cc28ad59981810ffebe17dba9b\">[32697]</a></span>: further conversion of c-gahp to ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-10 19:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/11aa5d22df5e471fd50565e788ef678557be8bad\">[32696]</a></span>: initial checkin of the skeleton BOSCO filetransfer gahp (ft-gahp). <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3033\" onclick=\"get_ticket_and_populate_wrapper('3033'); return false;\" title=\"Write sandbox management gahp\">#3033</a></span> it is the c-gahp, gutted, and renamed to ft-gahp. the skeleton franks, but no actual ft-gahp functionality exists in this version.  (By Zach Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Sep-25 17:21", "status": "resolved", "created": "2012-Jun-04 16:41", "fixed_version": "2012-Jun-04 16:41", "broken_version": "", "priority": "2", "subsystem": "Daemons", "assigned_to": "zmiller", "derived_from": "#2386", "creator": "zmiller", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": "20120716"}
{"id": 2043, "title": "Ticket #2043: Dynamic slot partitioned too many times", "description": "<blockquote>\nLIGO is seeing dynamic slots being partitioned into too many sub-slots, with the base slot advertising -1 cpus and -1975 MB of memory.\n\n<p></p><div class=\"code\">\n<pre class=\"code\">We are currently testing the dynamic slot provisioning using Condor v 7.4.4.\nThe number of CPUs is 4 and the available memory is ca 8GB.\n\nTwo users are allowed to run jobs on the test nodes and we observed on some=\nnodes that\nin fact 5 slots are genereated:\n\nName               OpSys      Arch   State     Activity LoadAv Mem   ActvtyTime\n\nslot1@n1620.atlas. LINUX      X86_64 Unclaimed Idle     0.010  -1955  0+01:41:20\nslot1_1@n1620.atla LINUX      X86_64 Claimed   Busy     1.080  1975  0+01:51:04\nslot1_2@n1620.atla LINUX      X86_64 Claimed   Busy     1.200  1975  0+01:45:55\nslot1_3@n1620.atla LINUX      X86_64 Claimed   Busy     1.010  1975  0+01:45:14\nslot1_4@n1620.atla LINUX      X86_64 Claimed   Busy     1.070  1975  0+01:44:32\nslot1_5@n1620.atla LINUX      X86_64 Claimed   Busy     1.130  1975  0+01:41:20\n                    Total Owner Claimed Unclaimed Matched Preempting Backfill\n\n       X86_64/LINUX     6     0       5         1       0          0       0\n\n              Total     6     0       5         1       0          0       0\n\n\nThis seems to be appear with a certain probability. We could increase the debug level on\nall these nodes, if required.\n\nI attach the long status output and some log files for one of these nodes.\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2012-Jan-27 14:25:32 by jfrey:</em> <br/>\n\nLIGO can no longer reproduce the problem. Red Hat is seeing the problem sporadically.\n\n<p></p><hr/>\n<em>2012-Feb-09 10:00:56 by gthain:</em> <br/>\n\nIs this a dup of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2816\" onclick=\"get_ticket_and_populate_wrapper('2816'); return false;\" title=\"Partitionable startd can be paritioned too much\">#2816</a></span>?\n\n<p></p><hr/>\n<em>2012-Feb-09 11:00:31 by jfrey:</em> <br/>\n\nThis may very possibly be the same issue as <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2816\" onclick=\"get_ticket_and_populate_wrapper('2816'); return false;\" title=\"Partitionable startd can be paritioned too much\">#2816</a></span>. LIGO couldn't get it to reproduce enough to debug.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/313/n1620.slots5\">n1620.slots5</a>\n21934 bytes added by jfrey on 2011-Apr-07 17:06:50 UTC.\n<br/>\ncondor_status -l for a misbehaving machine.<br/>\n</li><li><a href=\"../files/314/StartLog\">StartLog</a>\n177082 bytes added by jfrey on 2011-Apr-07 17:07:05 UTC.\n<br/>\nStartd log for a misbehaving machine.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Feb-09 09:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/14540d814f2844fcc4f86cae9f377a9b84a0ef70\">[30539]</a></span>: Fix problem with splitting partionable slot too many times <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2043\" onclick=\"get_ticket_and_populate_wrapper('2043'); return false;\" title=\"Dynamic slot partitioned too many times\">#2043</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2816\" onclick=\"get_ticket_and_populate_wrapper('2816'); return false;\" title=\"Partitionable startd can be paritioned too much\">#2816</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Aug-07 11:55", "status": "defer", "created": "2011-Apr-07 12:06", "fixed_version": "2011-Apr-07 12:06", "broken_version": "v070404", "priority": "5", "subsystem": "DaemonsExecNode", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "a21924", "customer_group": "ligo", "visibility": "public", "notify": "matt@cs.wisc.edu, tstclair@redhat.com,pcouvare@caltech.edu", "due_date": ""}
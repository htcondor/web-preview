{"id": 5805, "title": "Ticket #5805: Create a tool to do generic classad transforms and pretty printing", "description": "<blockquote>\nThere should be a tool that can read <span class=\"quote\">ClassAds</span> from a file and transform them, then write the transformed ads back out.  It should also be able to pretty-print them using the various -format, -af, and -pr options that condor_status and condor_q can use.\n\n<p>The transform capability would be useful for writing tests, and the generic printing capability would just be generally useful.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Jul-28 10:46:18 by johnkn:</em> <br/>\n\nAn example of this language describing the HTCondor CE default route is here\n<a class=\"external\" href=\"/wiki-archive/pages/TjsAdTransformLanguage\">TjsAdTransformLanguage</a></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=6028\" onclick=\"get_ticket_and_populate_wrapper('6028'); return false;\" title=\"Fix up condor_transform_ads documentation\">#6028</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nFix up condor_transform_ads documentation</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-30 16:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f0387b11e2bbe046fca4b536d469c5459033b47f\">[49688]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>) Add condor_transform_ads to man page list  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-30 12:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8eceed92ef26925d0c83867d9f03672b2e662b80\">[49682]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>: First cut at man page for condor_transform_ads (needs some cleanup, but I'm going to make a separate ticket for that).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Nov-23 16:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f4ad02a93a135c2ac9515c3824cc64b6ccbe136\">[49644]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5290\" onclick=\"get_ticket_and_populate_wrapper('5290'); return false;\" title=\"output of condor_q -analyze is often misleading or wrong\">#5290</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6018\" onclick=\"get_ticket_and_populate_wrapper('6018'); return false;\" title=\"add join function to classads to complement split\">#6018</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5889\" onclick=\"get_ticket_and_populate_wrapper('5889'); return false;\" title=\"condor_qedit and other tools should hondor CONDOR_Q_ONLY_MY_JOBS\">#5889</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5416\" onclick=\"get_ticket_and_populate_wrapper('5416'); return false;\" title=\"master should have a command to query (and wait for) child readiness\">#5416</a></span>, and doc for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6018\" onclick=\"get_ticket_and_populate_wrapper('6018'); return false;\" title=\"add join function to classads to complement split\">#6018</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-23 15:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/856a00b7361374ad3c0a600bda572f778b187777\">[49065]</a></span>: coverity fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>, use of pointer without initialization (actually just wrong ptr).  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-15 14:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6642a5c5f120fa6d043e9072b3b5b6da1ed4890c\">[49006]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>, add new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorClassAdListWriter\" title=\"Condor Class Ad List Writer\">CondorClassAdListWriter</a></span> class to condor_utils and change condor_transform_ads to use it. <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorClassAdListWriter\" title=\"Condor Class Ad List Writer\">CondorClassAdListWriter</a></span> is a class that writes a sequence of ads in any of the supported formats to either memory or a file  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-10 16:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/786f075c0a4fb89cd2f204693aace378a8a3f947\">[48984]</a></span>: fix bug in condor_transform_ads <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span> on Linux when TRANSFORM reads items from a file.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-10 14:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d814876aa4622a9df0bcf04112682cf51ebdb3d4\">[48982]</a></span>: fix bug in condor_transform_ads <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span> when TRANSFORM command has no arguments.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f3be63e3031eda513ebcdf4d7b93e8d442f833fd\">[48972]</a></span>: fix crash in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span> when doing regex copy / rename on Linux  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 14:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e52bc1dea36892971e86baa779b57b351bc4e36f\">[48970]</a></span>: more fixes for transform with iteration for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-09 11:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f06b5749f745eea3a1421dd9df6cdf7d799a1653\">[48969]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>, fix some iteration bugs, switch to using an iterating classad file reader  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-08 12:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/39e78b960b8be7fa3952333c5cf5c14049993435\">[48963]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>, move transform engine to condor_utils directory.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-03 21:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5359f01b5ff3175faa34f2aba0cb2eda410a7b3e\">[48943]</a></span>: fix bug in COPY and RENAME of condor_transfor_ads. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span> add read and write of all supported classad formats to same.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-27 12:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/19b8b01af8dc1e22292f08b4db06d5bf92c4e59c\">[48856]</a></span>: fix bug in iterate from inline list for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>. add EVALMACRO  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-26 11:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9146aff785fa04f0fb01764a2d524a5a8346fb1a\">[48849]</a></span>: fix bugs in previous commit for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-25 16:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/aaa964813e17db5da802458b181b2315c7ff9297\">[48846]</a></span>: Initial version of classad transform and printing tool <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5805\" onclick=\"get_ticket_and_populate_wrapper('5805'); return false;\" title=\"Create a tool to do generic classad transforms and pretty printing\">#5805</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Nov-30 13:02", "status": "resolved", "created": "2016-Jul-25 16:53", "fixed_version": "2016-Jul-25 16:53", "broken_version": "", "priority": "4", "subsystem": "Tools", "assigned_to": "wenger", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
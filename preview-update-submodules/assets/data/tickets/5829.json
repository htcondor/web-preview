{"id": 5829, "title": "Ticket #5829: Issues with linux kernel tuning script", "description": "<blockquote>\n<ul>\n<li>rmem_max should be 10MiB, not 10 * 1014 * 1024 bytes.\n</li><li>we should log the actual file /proc being modified, not our name for it.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2016-Aug-05 11:22:23 by tlmiller:</em> <br/>\n\nConsider backporting to 8.4?\n\n<p></p><hr/>\n<em>2016-Aug-05 11:22:44 by tpdownes:</em> <br/>\n\nWorth evaluating my claim that the actual modification being made is not useful in the absence of other changes to, e.g., net.ipv4.tcp_rmem and net.ipv4.tcp_wmem.\n\n<p></p><hr/>\n<em>2016-Aug-05 11:38:29 by tlmiller:</em> <br/>\n\nFor the record:\n\n<p></p><div class=\"verbatim\">\n<pre>#\n# Likewise, the central manager (collector) needs have large UDP buffers.\n# Increase the maximum allowed size of networks receive buffers.\n#\nMAX_RECEIVE_BUFFER=10485760\n</pre></div>\n\n\n<p>Do you have a reason to believe that UDP won't be affected without additional tweakings?\n\n</p><p></p><hr/>\n<em>2016-Aug-05 11:43:20 by tlmiller:</em> <br/>\n\nToddT wants at least the size change backported.  We should also review the log message changes and backport to 8.4 if they're safe (I think they are, but I wrote the code, so...).\n\n<p></p><hr/>\n<em>2016-Aug-05 16:13:59 by tlmiller:</em> <br/>\n\nCode approved verbally by TimT.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-16 13:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d88d4e079ae64bb30de6ab141e8d819ad1b23b9d\">[49014]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5829\" onclick=\"get_ticket_and_populate_wrapper('5829'); return false;\" title=\"Issues with linux kernel tuning script\">#5829</a></span>) Documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-05 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1ca941513705b4f9b736e3377c3a3ad661de1d62\">[48959]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5829\" onclick=\"get_ticket_and_populate_wrapper('5829'); return false;\" title=\"Issues with linux kernel tuning script\">#5829</a></span>) Fix miscalculation of rmem_max.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-05 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7cac6152e1c1090e703a2b544f44c917805b49a4\">[48960]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5829\" onclick=\"get_ticket_and_populate_wrapper('5829'); return false;\" title=\"Issues with linux kernel tuning script\">#5829</a></span>) Add the name of the file in /proc we're (not) changing to all log messages.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-05 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f5957be0d713d1242a93f957df76d35052892c96\">[48955]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5829\" onclick=\"get_ticket_and_populate_wrapper('5829'); return false;\" title=\"Issues with linux kernel tuning script\">#5829</a></span>) Add the name of the file in /proc we're (not) changing to all log messages.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-05 11:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b94c5463bb1a2b960652af1f705037691da19022\">[48954]</a></span>: (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=5829\" onclick=\"get_ticket_and_populate_wrapper('5829'); return false;\" title=\"Issues with linux kernel tuning script\">#5829</a></span>) Fix miscalculation of rmem_max.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Aug-16 13:11", "status": "defer", "created": "2016-Aug-05 11:12", "fixed_version": "2016-Aug-05 11:12", "broken_version": "", "priority": "5", "subsystem": "DaemonMaster", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, downes@uwm.edu,pcouvare@caltech.edu", "due_date": ""}
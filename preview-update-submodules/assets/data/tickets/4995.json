{"id": 4995, "title": "Ticket #4995: asserts with side effects get removed from the code", "description": "<blockquote>\nThere are several places in the code where we call assert with side effects.  E.g. in the startd:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">int universeOnline = 0;\nassert( cap-&gt;LookupBool( attr, universeOnline ) );\n</pre></div>\n\n\n<p>the release build builds with NDEBUG defined, so the expressions are all elided.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-08 15:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/24386c2c386d6dd313fc558cfe7fc05cb22f47a7\">[44570]</a></span>: More fixed assertions <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4995\" onclick=\"get_ticket_and_populate_wrapper('4995'); return false;\" title=\"asserts with side effects get removed from the code\">#4995</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-08 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4a7c07c85202cdf0315562ef17a169e54f47dc63\">[44569]</a></span>: replace assert with CONDOR_ASSERT <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4995\" onclick=\"get_ticket_and_populate_wrapper('4995'); return false;\" title=\"asserts with side effects get removed from the code\">#4995</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-08 15:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cc48a98212fc1b9d6587d00702c46eb92a7a0225\">[44568]</a></span>: replace assert with ASSERT, which is always evaluated <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4995\" onclick=\"get_ticket_and_populate_wrapper('4995'); return false;\" title=\"asserts with side effects get removed from the code\">#4995</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Jun-04 14:42", "status": "resolved", "created": "2015-Apr-08 15:25", "fixed_version": "2015-Apr-08 15:25", "broken_version": "v080300", "priority": "1", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20150408"}
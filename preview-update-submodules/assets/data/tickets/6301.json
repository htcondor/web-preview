{"id": 6301, "title": "Ticket #6301: Add knob to prevent startd from recomputing free disk space periodical", "description": "<blockquote>\nThe startd periodically computes the amount of free disk space.  However, this is a problem for partitionable slots -- this represents the amount of free disk space, minus any reserved for dynamic slots.  However, we don't keep track of how much space is reserved for all the dynamic slots.  Moreover, the amount of disk space used on the execute partition could be used by the dynamic slot, or could be used external to condor.  This causes all kinds of problems.  To fix this, let's add a knob that assumes that the execute disk directory is on a partition that only has condor job on it.\n\n<p>STARTD_RECOMPUTE_DISK_FREE, default to true, which is the existing behaviour.</p></blockquote>", "remarks": "<blockquote>\n<em>2017-Jun-20 09:32:35 by johnkn:</em> <br/>\n\n<strong>CODE_REVIEW</strong>: Looks good - although I think we should add perdiodic to the name of the knob if we ever make this not a secret knob.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6424\" onclick=\"get_ticket_and_populate_wrapper('6424'); return false;\" title=\"Make STARTD_RECOMPUTE_DISK_FREE default to false\">#6424</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nMake STARTD_RECOMPUTE_DISK_FREE default to false</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6614\" onclick=\"get_ticket_and_populate_wrapper('6614'); return false;\" title=\"STARTD_RECOMPUTE_DISK_FREE ignored during dslot creation\">#6614</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nSTARTD_RECOMPUTE_DISK_FREE ignored during dslot creation</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-05 16:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f4222d7a1f5be0442fb11f0dd6469ea090b8f09c\">[51819]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6301\" onclick=\"get_ticket_and_populate_wrapper('6301'); return false;\" title=\"Add knob to prevent startd from recomputing free disk space periodical\">#6301</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-16 13:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c4dbc200966c6685bf2d1787296d2b4e666ead0d\">[51716]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6301\" onclick=\"get_ticket_and_populate_wrapper('6301'); return false;\" title=\"Add knob to prevent startd from recomputing free disk space periodical\">#6301</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jun-12 10:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b20caafcce1894e2949e2e2d2b9bba356b588004\">[51700]</a></span>: Add STARTD_RECOMPUTE_DISK_FREE knob for partitionable slots <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6301\" onclick=\"get_ticket_and_populate_wrapper('6301'); return false;\" title=\"Add knob to prevent startd from recomputing free disk space periodical\">#6301</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Jul-06 11:24", "status": "resolved", "created": "2017-Jun-12 10:47", "fixed_version": "2017-Jun-12 10:47", "broken_version": "v080400", "priority": "2", "subsystem": "", "assigned_to": "johnkn", "derived_from": "", "creator": "gthain", "rust": "s8810", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
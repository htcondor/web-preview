{"id": 1930, "title": "Ticket #1930: Add support for advertising .NET on Windows", "description": "<blockquote>\nWith the increasing use of the .NET framework for Windows application development, providing an out of the box solution for detecting which version of .NET is present on a machine becomes more useful.  There are however a couple of caveats on how .NET versions are detected.\n\n<p>The latest .NET runtime has no problems executing the bytecode of earlier versions.  However, the runtime library that includes all of the classes and functionality are different from version to version.  To be absolute certain that a .NET 3.5 application will run, the .NET 3.5 libraries must be installed even if .NET 4.0 has been installed.  Further complicating this is how .NET 4.0 has been split into a \"Client\" and \"Full\" install.  Thus merely advertising just the latest version of .NET installed on a Windows sytem is insufficient.  Every version of .NET installed must be advertised.\n\n</p><p>This page lists the differences between Client and Full: <a class=\"external\" href=\"http://msdn.microsoft.com/en-us/library/cc656912.aspx\">http://msdn.microsoft.com/en-us/library/cc656912.aspx</a>\n\n</p><p>The current design for advertising .NET involves using a single classad attribute, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DotNetVersions\" title=\"Dot Net Versions\">DotNetVersions</a></span>, that holds a comma delimited list of .NET versions as follows:\n</p><ul>\n<li>1.1: .Net 1.1\n</li><li>2.0: .Net 2.0\n</li><li>3.0: .Net 3.0\n</li><li>3.5: .Net 3.5\n</li><li>4.0Client: .Net 4.0 Client Profile\n</li><li>4.0Full: .Net 4.0 Full\n</li></ul>\n\n<p>Thus an end user who requires a specific version of .NET can add this expression to their submit file:\n\n</p><p></p><pre>  requirement = stringListMember(\"3.5\", \"DotNetVersions\")</pre>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Feb-25 10:29:53 by ziliang:</em> <br/>\n\nTweaked the value names in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DotNetVersions\" title=\"Dot Net Versions\">DotNetVersions</a></span>.\n\n<p></p><hr/>\n<em>2011-May-10 14:50:59 by johnkn:</em> <br/>\n\nZ's patch conflicted with my changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2143\" onclick=\"get_ticket_and_populate_wrapper('2143'); return false;\" title=\"StartD ClassAD to contain info from the Windows Performance Registry\">#2143</a></span>, so I merged his patch into the checkin for that patch by hand.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/277/dotnet.diff\">dotnet.diff</a>\n9889 bytes added by ziliang on 2011-Feb-25 21:46:09 UTC.\n<br/>\nInitial implementation of .NET detection.<br/>\n</li><li><a href=\"../files/279/dotnet.patch\">dotnet.patch</a>\n6458 bytes added by ziliang on 2011-Mar-01 23:54:56 UTC.\n<br/>\nUpdated patch<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-19 16:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c7ea8834eb4de7fdaf26191417c72a6ec2f0017d\">[26106]</a></span>: Add documentation for keeping daemon logs open between writes and advertising .NET framework versions. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2064\" onclick=\"get_ticket_and_populate_wrapper('2064'); return false;\" title=\"Allow Condor to keep the file descriptor open between writing logs\">#2064</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1930\" onclick=\"get_ticket_and_populate_wrapper('1930'); return false;\" title=\"Add support for advertising .NET on Windows\">#1930</a></span>.  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-May-10 14:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6819b9a1eab38f14b86e2df4512948578c5b1544\">[21822]</a></span>: ===VersionHistory===Add support for publishing information from windows performance registry in the STARTD <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2143\" onclick=\"get_ticket_and_populate_wrapper('2143'); return false;\" title=\"StartD ClassAD to contain info from the Windows Performance Registry\">#2143</a></span>. ===VersionHistory===Add support for publishing the list of supported .NET versions in the STARTD <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1930\" onclick=\"get_ticket_and_populate_wrapper('1930'); return false;\" title=\"Add support for advertising .NET on Windows\">#1930</a></span>  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Jun-09 11:52", "status": "resolved", "created": "2011-Feb-24 18:04", "fixed_version": "2011-Feb-24 18:04", "broken_version": "v070700", "priority": "4", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "ziliang", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
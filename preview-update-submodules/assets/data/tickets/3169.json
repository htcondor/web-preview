{"id": 3169, "title": "Ticket #3169: Dead code", "description": "<blockquote>\nFrom Florian Weimer -\n\n<p>The GIVE_REQUEST_AD handler is registered this way:\n\n</p><p></p><div class=\"verbatim\">\n<pre>\tdaemonCore-&gt;Register_Command( GIVE_REQUEST_AD, \"GIVE_REQUEST_AD\",\n           (CommandHandler)command_give_request_ad,\n            \"command_give_request_ad\", 0, READ );\n</pre></div>\n\n\n<p>As a result, unauthenticated users which can connect to the startd TCP port can request ads provided that they can guess/brute force the PID.  These ads appear to contain private data:\n\n</p><p></p><div class=\"verbatim\">\n<pre>...\nClaimId = \"&lt;10.16.64.137:49232&gt;#1341223853#4973#11e3494f462184c5b5d85b97dd9fc33d42d587a8\"\n...\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2012-Jul-30 16:23:07 by jfrey:</em> <br/>\n\nI don't see anywhere the starter (or anything else) uses GIVE_REQUEST_AD.\n\n<p></p><hr/>\n<em>2012-Jul-30 16:39:22 by jfrey:</em> <br/>\n\nHence the ticket title. I should learn to read everything before I comment.\n\n<p></p><hr/>\n<em>2012-Jul-31 14:31:39 by jfrey:</em> <br/>\n\n<strong>CODE REVIEW</strong>\n\n<p>I reviewed the patch <code>0008-Remove-unused-GIVE_REQUEST_AD-command-from-the-start.patch</code> forwarded by Matt. It looks good.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-17 19:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d2f339726d9a0adff075f7548232e2ca0c81a2f6\">[33391]</a></span>: Remove unused GIVE_REQUEST_AD command from the startd, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3169\" onclick=\"get_ticket_and_populate_wrapper('3169'); return false;\" title=\"Dead code\">#3169</a></span> Note: dos2unix was run on command.h for a clean cherry-pick from master Signed-off-by: Jaime Frey &lt;jfrey@cs.wisc.edu&gt;  (By Matthew Farrellee )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-13 12:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/758b5b5d5ebf3f27a5705b60cfb592cd1654cbad\">[33359]</a></span>: Remove unused GIVE_REQUEST_AD command from the startd, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3169\" onclick=\"get_ticket_and_populate_wrapper('3169'); return false;\" title=\"Dead code\">#3169</a></span> Signed-off-by: Jaime Frey &lt;jfrey@cs.wisc.edu&gt;  (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Dec-17 12:51", "status": "resolved", "created": "2012-Jul-30 14:55", "fixed_version": "2012-Jul-30 14:55", "broken_version": "v070600", "priority": "2", "subsystem": "Daemons", "assigned_to": "zmiller", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu", "due_date": ""}
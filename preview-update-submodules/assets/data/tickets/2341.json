{"id": 2341, "title": "Ticket #2341: Copying a classad in schedd should collapse chained ads", "description": "<blockquote>\nWe have had multiple instances of the schedd crashing because \"deep\" copies of job classads from the job queue do not collapse in attributes from chained classads (aka cluster ads).\n\n<p>We should always collapse chained ads into a copy of a job ad (aka in the copy ctor and assignment operator). In other words, make a deep copy of a classad instead of doing a deep copy of most things and a shallow copy of the chained ad. Hopefully this will prevent bugs like <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2294\" onclick=\"get_ticket_and_populate_wrapper('2294'); return false;\" title=\"Schedd crash while asynchronously negotiating or claiming\">#2294</a></span> from being introduced in the future.</p></blockquote>", "remarks": "<blockquote>\nThis may have originated as the indirect result of a LIGO ticket (<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=2294\" onclick=\"get_ticket_and_populate_wrapper('2294'); return false;\" title=\"Schedd crash while asynchronously negotiating or claiming\">#2294</a></span>), but it's not something LIGO is asking for, so I'm removing us as the customer group.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2012-Dec-17 12:00", "status": "new", "created": "2011-Aug-01 14:40", "fixed_version": "2011-Aug-01 14:40", "broken_version": "", "priority": "3", "subsystem": "Libs", "assigned_to": "tannenba", "derived_from": "#2294", "creator": "tannenba", "rust": "a22276", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20110816"}
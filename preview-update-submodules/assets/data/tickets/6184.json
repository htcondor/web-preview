{"id": 6184, "title": "Ticket #6184: Default annex should be restricted-use.", "description": "<blockquote>\nThere's no default mechanism to restrict an annex to the user who's paying for it, and the optional one is clumsy (requiring a partially-constructed config.d).  Since the \"personal annex\" is a major use case (and of particular interest to Frank Wuerthwein), we should make this easy.\n\n<p></p><ol>\n<li>Add a command-line option to restrict the annex to a given (list of )user(s).  (e.g., START = Owner == ${USER} or START = isMemberOf( Owner, $(USER_LIST) ).)\n</li><li>Make the current user's Owner value the default for this attribute.  This may be trivial (getpwnam() or whatever HTCondor already does) or it could be complicated (which HTCondor daemon do we ask what our authenticated Owner attribute is?).\n</li><li>Once we've done the above, add an option to avoid restricting the START expression for the (infrastructural) capability and capacity use-cases.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Mar-15 15:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a877c91bea5a7f10b0a05ac6847d39a5f5aa6364\">[50322]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6184\" onclick=\"get_ticket_and_populate_wrapper('6184'); return false;\" title=\"Default annex should be restricted-use.\">#6184</a></span>) Add -no-owner flag.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Mar-14 15:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9b989494030f29fd96f5126ebd8125c888b36ee6\">[50315]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6184\" onclick=\"get_ticket_and_populate_wrapper('6184'); return false;\" title=\"Default annex should be restricted-use.\">#6184</a></span>) Add ability to specify owner (list) on the command-line.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Mar-14 14:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/07e9edf5f72e7109e4f1fc8bc8d09792ccca3910\">[50314]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6150\" onclick=\"get_ticket_and_populate_wrapper('6150'); return false;\" title=\"Improve output before annex attempt.\">#6150</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6184\" onclick=\"get_ticket_and_populate_wrapper('6184'); return false;\" title=\"Default annex should be restricted-use.\">#6184</a></span>) Only print out reminders if the corresponding command-line flag wasn't used. Add a default START expression that restricts the annex to the user who created it.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "experimental", "last_change": "2017-Apr-04 17:30", "status": "resolved", "created": "2017-Mar-10 12:07", "fixed_version": "2017-Mar-10 12:07", "broken_version": "", "priority": "2", "subsystem": "Annex", "assigned_to": "tlmiller", "derived_from": "#6111", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
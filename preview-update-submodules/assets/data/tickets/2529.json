{"id": 2529, "title": "Ticket #2529: 32-bit condor reports ImageSize capped around 4GB", "description": "<blockquote>\nWe observed a case where a job's memory usage was underreported by glideinWMS, because 32-bit condor was being used.\n\n<p>The 32-bit glidein condor reported\n\n</p><p></p><pre>   ImageSize_RAW = 4209307\n</pre>\n\n<p>The 64-bit host condor correctly reported:\n\n</p><p></p><pre>   ImageSize_RAW = 45505444\n</pre>\n\n<p>Interestingly, <code>ResidentSetSize</code> was correctly reported by the 32-bit condor:\n\n</p><p></p><pre>   ResidentSetSize = 33700972</pre>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Oct-07 16:30:51 by danb:</em> <br/>\n\nNote that the 4GB limit is actually applied per process, not per job.  So a job containing two 10GB processes would report about 8GB for <code>ImageSize</code>.\n\n<p></p><hr/>\n<em>2011-Oct-10 14:07:07 by psilord:</em> <br/>\n\nDid you only fix this for linux?\n\n<p></p><hr/>\n<em>2011-Oct-10 14:36:31 by psilord:</em> <br/>\n\nOther than it looking like you only fixed it for linux, the patch itself is ok. I sign off on it.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-07 13:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/643e6308b6bcaf1090b7bbbf31b0adcdd5f8d441\">[27688]</a></span>: Documented fix for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ImageSize\" title=\"Image Size\">ImageSize</a></span> in 32-bit condor. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2529\" onclick=\"get_ticket_and_populate_wrapper('2529'); return false;\" title=\"32-bit condor reports ImageSize capped around 4GB\">#2529</a></span> ===VersionHistory:Complete===  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-07 13:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/19e942f03167a0733639779f20ed68e66750f23c\">[27687]</a></span>: Fixed problem with <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ImageSize\" title=\"Image Size\">ImageSize</a></span> being capped to 4GB in 32-bit condor. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2529\" onclick=\"get_ticket_and_populate_wrapper('2529'); return false;\" title=\"32-bit condor reports ImageSize capped around 4GB\">#2529</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Oct-10 14:36", "status": "resolved", "created": "2011-Oct-07 11:54", "fixed_version": "2011-Oct-07 11:54", "broken_version": "v070600", "priority": "4", "subsystem": "", "assigned_to": "psilord", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
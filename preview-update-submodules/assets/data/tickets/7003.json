{"id": 7003, "title": "Ticket #7003: Improve UX when testing self-checkpointing", "description": "<blockquote>\nLauren would like us to improve the documentation and tooling regarding self-checkpointing jobs.\n\n<p><span class=\"subsection\"></span></p><h3>Part 1</h3>\n\n<p>The documentation request has been moved to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7031\" onclick=\"get_ticket_and_populate_wrapper('7031'); return false;\" title=\"Make CheckpointExitCode a first-class submit command.\">#7031</a></span>.\n\n</p><p><span class=\"subsection\"></span></p><h3>Part 2</h3>\n\n<p>We should add 'condor_evict_job' as an alias for 'condor_vacate_job'.  Moved to <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=7305\" onclick=\"get_ticket_and_populate_wrapper('7305'); return false;\" title=\"Add 'condor_evict_job' alias for 'condor_vacate_job'\">#7305</a></span>.\n\n</p><p><span class=\"subsection\"></span></p><h3>Part 3</h3>\n\n<p>We should provide a tool which determines the location of a job's spooled files, if any.  We should consider extending the tool to copy the spooled files; if no directory it specified, the tool would create one (<code>_checkpoint_&lt;job-id&gt;</code>).  The tool should distinguish in its output between not expecting any files (because the job didn't specify <code>ON_EXIT_OR_EVICT</code> or any of the self-checkpointing options) and not finding any files (because the specified files don't exist or some other error).\n\n</p><p>Moved to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7038\" onclick=\"get_ticket_and_populate_wrapper('7038'); return false;\" title=\"Tool needed to examine SPOOL while job is idle.\">#7038</a></span>.\n\n</p><p><span class=\"subsection\"></span></p><h3>Part 4</h3>\n\n<p>We should provide a tool which can be used to force a job to do file transfer and then (optionally?) evict it.  This may be an extension of the previous tool.  In this mode, an unspecified output directory should default to the job's output directory.\n\n</p><p>Moved to <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=7306\" onclick=\"get_ticket_and_populate_wrapper('7306'); return false;\" title=\"Provide tool to force file transfer and optionally evict job\">#7306</a></span>.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Apr-16 16:33:55 by tlmiller:</em> <br/>\n\nShould the -transfer-data option always? never? sometimes? print the full path to each file it's writing?  It may be better to be explicitly about the user is getting, especially when transferring to a potentially-shared output (or current working) directory.\n\n<p></p><hr/>\n<em>2019-Apr-25 11:07:34 by tlmiller:</em> <br/>\n\nNote the condor_transfer_data doesn't actually transfer data from spool -- it transfers data from jobs which spooled /after they're done/, which means it looks for the output files, not the intermediate ones.  We'll need a new tool.\n\n<p></p><hr/>\n<em>2019-Jun-15 18:55:55 by tlmiller:</em> <br/>\n\nPart 4 is probably already another ticket.\n\n<p></p><hr/>\n<em>2019-Oct-08 15:15:19 by tannenba:</em> <br/>\n\nMoved ticket from resolved back to active.\n\n<p>The ticket description above needs to be updated or improved.  It lists a bunch of \"Parts\" and each part has a child ticket.  Fine.  But then what exactly does THIS ticket do?  This ticket has a bunch of commits that are not described above.  The commits seem to add a new command line tool that is also not discussed above, nor is there any documentation (man page etc) included.  This ticket did not go through docpending state.  Yes I know there is a child ticket for \"documentation\", but it is unclear what that is documenting (current implementation?  better overview?), and nowhere is there either documentation or a clear child ticket stating a newly added tool needs to be documented.\n\n</p><p></p><hr/>\n<em>2019-Nov-16 18:52:31 by tlmiller:</em> <br/>\n\nThe commits previously marked as both <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7038\" onclick=\"get_ticket_and_populate_wrapper('7038'); return false;\" title=\"Tool needed to examine SPOOL while job is idle.\">#7038</a></span> and <span class=\"ticket\"><a class=\"active\" href=\"/wiki-archive/tickets/?ticket=7003\" onclick=\"get_ticket_and_populate_wrapper('7003'); return false;\" title=\"Improve UX when testing self-checkpointing\">#7003</a></span> were all #7038-only, and have been edited to reflect that.\n<hr/>\n<em>2020-Apr-10 07:46:13 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=7305\" onclick=\"get_ticket_and_populate_wrapper('7305'); return false;\" title=\"Add 'condor_evict_job' alias for 'condor_vacate_job'\">#7305</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAdd 'condor_evict_job' alias for 'condor_vacate_job'</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=7306\" onclick=\"get_ticket_and_populate_wrapper('7306'); return false;\" title=\"Provide tool to force file transfer and optionally evict job\">#7306</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nProvide tool to force file transfer and optionally evict job</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2020-Nov-23 09:46", "status": "active", "created": "2019-Apr-16 16:03", "fixed_version": "2019-Apr-16 16:03", "broken_version": "v080901", "priority": "4", "subsystem": "Tools", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, lmichael@wisc.edu, gthain@cs.wisc.edu, tannenba@cs.wisc.edu, ckoch5@wisc.edu", "due_date": ""}
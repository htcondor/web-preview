{"id": 7378, "title": "Ticket #7378: condor_update_machine_add doesn't seem to take -name argument", "description": "<blockquote>\nThe man page of condor_update_machine_ad indicates it should be able to take a <code>-name</code> argument:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Name\n       condor_update_machine_ad update a machine ClassAd\n\nSynopsis\n       condor_update_machine_ad [ -help | -version ]\n\n       condor_update_machine_ad [ -pool centralmanagerhostname[:portnumber] ] [ -name startdname ] path/to/update-ad\n\nDescription\n       condor_update_machine_ad  modifies  the  specified condor_startd daemon's machine ClassAd. The ClassAd in the file given by  path/to/update-ad represents the changed attributes. The\n       changes persists until the condor_startd restarts. If no file is specified on the command line, condor_update_machine_ad reads the update ClassAd from  stdin .\n\n       Contents of the file or  stdin must contain a complete ClassAd. Each line must be terminated by a newline character, including the last line of the file. Lines are of the form\n\n       &lt;attribute&gt; = &lt;value&gt;\n\n       Changes to certain ClassAd attributes will cause the condor_startd to regenerate values for other ClassAd attributes. An example  of  this  is  setting   HasVM  .  This  will  cause\n       OfflineUniverses ,  VMOfflineTime , and  VMOfflineReason to change.\n</pre></div>\n\n\n<p>However:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">[moate@cm3000 ~]$ sudo echo -e 'HasVM = true\\n' | /usr/bin/condor_update_machine_ad -name e453.chtc.wisc.edu\nFailed to open 'e453.chtc.wisc.edu', aborting (2: No such file or directory)\n</pre></div>\n\n\n<p>Or:\n</p><div class=\"code\">\n<pre class=\"code\">[moate@cm3000 ~]$ sudo /usr/bin/condor_update_machine_ad -name e453.chtc.wisc.edu /tmp/startd.ad\nUnable to locate startd: unknown host -name\n</pre></div>\n\n\n<p>Or:\n</p><div class=\"code\">\n<pre class=\"code\">[moate@cm3000 ~]$ sudo /usr/bin/condor_update_machine_ad e453.chtc.wisc.edu /tmp/startd.ad\nUnable to locate startd: Can't find address for startd cm3000.chtc.wisc.edu\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<strong class=\"two\">CODE REVIEW</strong>\n\n<p>Looks good to me.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-18 13:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d3891b07fa1cf1b15fe89bbe4a30a873ccac5d99\">[58707]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7378\" onclick=\"get_ticket_and_populate_wrapper('7378'); return false;\" title=\"condor_update_machine_add doesn't seem to take -name argument\">#7378</a></span>) Release note.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-14 13:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/cfb42300ebef361197d6eea245fa9014f50104d8\">[58470]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7378\" onclick=\"get_ticket_and_populate_wrapper('7378'); return false;\" title=\"condor_update_machine_add doesn't seem to take -name argument\">#7378</a></span>) Finish incomplete argument parsing for condor_update_machine_ad.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Dec-18 13:08", "status": "resolved", "created": "2019-Nov-14 11:17", "fixed_version": "2019-Nov-14 11:17", "broken_version": "v080302", "priority": "3", "subsystem": "Tools", "assigned_to": "tlmiller", "derived_from": "", "creator": "moate", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "moate@cs.wisc.edu", "due_date": ""}
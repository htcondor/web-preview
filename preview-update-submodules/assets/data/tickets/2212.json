{"id": 2212, "title": "Ticket #2212: condor_rmdir.exe crashing on Server 2003, 2008", "description": "<blockquote>\nOn some versions of Windows.  Win7 x64, Server 2008, Server 2003 and possibly others, condor_rmdir.exe was crashing in the command line parsing code due to an heap allocated structure that should be been zeroed and wasn't.  Aparently, some versions of Windows explicitly seed bogus values into heap allocations so this was triggering the bug all of the time on those versions of Windows.\n\n<p>The result of this is that if you the set the WINDOWS_RMDIR=condor_rmdir.exe then execute directories are never cleaned up.</p></blockquote>", "remarks": "<blockquote>\ncrash was a result of uninitialed buffer from malloc.  Aparently server 2003 and 2008 write a non-zero pattern into malloc'd memory making the bug more likely to reproduce.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jun-06 10:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ac6a1794441a1b21fa13d052ea20538b398e2bed\">[22105]</a></span>: ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2212\" onclick=\"get_ticket_and_populate_wrapper('2212'); return false;\" title=\"condor_rmdir.exe crashing on Server 2003, 2008\">#2212</a></span> force zero-initialization for command line token list entries to prevent a crash in command line parsing on some versions of Windows.  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Jun-28 15:48", "status": "resolved", "created": "2011-Jun-06 10:47", "fixed_version": "2011-Jun-06 10:47", "broken_version": "v070600", "priority": "2", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 5207, "title": "Ticket #5207: Backwards compatibility for pslot preemption", "description": "<blockquote>\nWhen ALLOW_PSLOT_PREEMPTION is enabled, direct preemption of dslots is disabled. But if the pslot doesn't have the rollup information, then we still want to allow direct preemption of the dslots. So when the negotiator looks at a dslot ad, it needs to determine whether the parent pslot has the necessary rollup attributes for pslot preemption.\n\n<p>We plan to add a new attribute to dslot and pslot ads when rollup information is advertised, called <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PslotRollupInformation\" title=\"Pslot Rollup Information\">PslotRollupInformation</a></span>, which will be set to True.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Aug-17 14:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6ff9adf73170e38f84a755da671a99577c79c03d\">[49025]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5207\" onclick=\"get_ticket_and_populate_wrapper('5207'); return false;\" title=\"Backwards compatibility for pslot preemption\">#5207</a></span> / <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5175\" onclick=\"get_ticket_and_populate_wrapper('5175'); return false;\" title=\"Have condor_dagman condor_rm jobs on SIGUSR1 (revert #4618)\">#5175</a></span>: Added new DAGMAN_REMOVE_NODE_JOBS config knob that allows users to enable the old behavior of DAGMan removing its node jobs itself when it is condor_rm'ed.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-11 12:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3498f53e09cb341f5de705859f9694332597b03c\">[45568]</a></span>: correct misleading defn of new mach <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attribute <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5207\" onclick=\"get_ticket_and_populate_wrapper('5207'); return false;\" title=\"Backwards compatibility for pslot preemption\">#5207</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-11 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/356802cacf7933a20bb982a5c8b05df2af40d135\">[45562]</a></span>: complete doc for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5207\" onclick=\"get_ticket_and_populate_wrapper('5207'); return false;\" title=\"Backwards compatibility for pslot preemption\">#5207</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-07 13:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bc182789f83bbc72b26554ffa90107cb36d1c73b\">[45531]</a></span>: Docs for pslot preemption backwards compatibility. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5207\" onclick=\"get_ticket_and_populate_wrapper('5207'); return false;\" title=\"Backwards compatibility for pslot preemption\">#5207</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-07 10:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/39180fe69f22bbb9cfffa5d6b6a3dbfb55d0ffdb\">[45512]</a></span>: Dslots now indicate when rollup info is present in their parent ad. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5207\" onclick=\"get_ticket_and_populate_wrapper('5207'); return false;\" title=\"Backwards compatibility for pslot preemption\">#5207</a></span> When rollup attributes are advertised in the pslot ad (i.e. when ADVERTISE_PSLOT_ROLLUP_INFORMATION is True), the pslot and dslots now set PslotRollupInformation=True in their ads. This allows the negotiator to do direct preemption\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Aug-07 13:53", "status": "resolved", "created": "2015-Aug-07 10:30", "fixed_version": "2015-Aug-07 10:30", "broken_version": "v080307", "priority": "2", "subsystem": "DaemonsCM", "assigned_to": "jfrey", "derived_from": "#5094", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
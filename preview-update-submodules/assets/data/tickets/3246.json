{"id": 3246, "title": "Ticket #3246: condor_gather_info should have an option to be more comprehensive", "description": "<blockquote>\n[I'm actually submitting this a priority==2 for now, since I think it's something we run into again and again and would be a big time-savings for us when reporting issues -- and it would also reduce back-and-forth email ticket debugging latency since you've have everything from the get-go.]\n\n<p>I would love to see condor_gather_info do the following:\n\n</p><p></p><ul>\n<li>capture ALL the relevant daemon logs for the job (<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SchedLog\" title=\"Sched Log\">SchedLog</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ShadowLog\" title=\"Shadow Log\">ShadowLog</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StarterLog\" title=\"Starter Log\">StarterLog</a></span>, StartLog.*) and tar them up -- even if they're gargantuan\n<ul>\n<li>for bonus points, just gather lines on or after the job submit time, which will often eliminate most of the extra log info at no information cost\n</li></ul>\n</li><li>capture the process table, and process tree (\"ps auwx\" and \"pstree -up\") and stick in a file\n</li><li>grab the userlog, stdout file, and stderr file for the job and include them\n</li><li>for good measure, capture the output of \"uptime\", \"free\", and \"df -l\".\n</li></ul>\n\n<p>The perfect is the enemy of the good for this -- if it's easier to be dumb and collect too much info, by all means do that.  Be smarter only as time permits.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-Oct-04 11:09:04 by tannenba:</em> <br/>\n\nSTUDENTTASK ?\n\n<p></p><hr/>\n<em>2013-Apr-16 15:07:10 by tannenba:</em> <br/>\n\nKaren, you can ask Greg for info about how this tool was updated.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3575\" onclick=\"get_ticket_and_populate_wrapper('3575'); return false;\" title=\"make it easier to get condor_gather_info output to the condor team\">#3575</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nmake it easier to get condor_gather_info output to the condor team</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Apr-17 18:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5d676b5b18f97e86ce6ae2ae72d30403dd0abfe1\">[35448]</a></span>: documentation, including version history for improvements to condor_gather_info ===GT=== <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3246\" onclick=\"get_ticket_and_populate_wrapper('3246'); return false;\" title=\"condor_gather_info should have an option to be more comprehensive\">#3246</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Apr-03 09:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d7f8e8018cc4a6c4f9a7c88d1e94b24bc5c3e53f\">[35317]</a></span>: condor_gather_info now gathers dprintf logs <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3246\" onclick=\"get_ticket_and_populate_wrapper('3246'); return false;\" title=\"condor_gather_info should have an option to be more comprehensive\">#3246</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Mar-18 15:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/03b785526167cb5f132d9e3526e1b8bc8f3b3835\">[35190]</a></span>: Add uptime and free output to condor_gather_info <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3246\" onclick=\"get_ticket_and_populate_wrapper('3246'); return false;\" title=\"condor_gather_info should have an option to be more comprehensive\">#3246</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Apr-18 09:34", "status": "defer", "created": "2012-Oct-02 14:35", "fixed_version": "2012-Oct-02 14:35", "broken_version": "v070804", "priority": "5", "subsystem": "Tools", "assigned_to": "smoler", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu, anderson@ligo.caltech.edu gthain@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 4100, "title": "Ticket #4100: default name for core files should include daemon", "description": "<blockquote>\nIt is common when the SCHEDD crashes in chtc to not have access to a core file from the crash be cause one or more shadows will also crash and overwrite the the core file.  We should change it so that the default daemon_core core file name contains the daemon type.  core.SCHEDD, core.SHADOW, etc.\n\n<p>This will be consistent with dprintf_failure.DAEMON files.\n\n</p><p>A new param <code>CORE_FILE_NAME</code> will be added, with the default value of <code>core.$(SUBSYSTEM)</code> on *nix, and <code>core.$(SUBSYSTEM).WIN32</code> on Windows.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Dec-05 14:33:11 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>It looks like you're missing a <code>%s</code> in the formatstr() pattern when building the core filename on Windows.\n\n</p><p></p><hr/>\n<em>2013-Dec-06 09:33:52 by johnkn:</em> <br/>\n\nmissing %s fixed.\n\n<p></p><hr/>\n<em>2013-Dec-06 13:33:19 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good now.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-19 09:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c1602434faa8534d8623c97919a98f77f2d1f12\">[39052]</a></span>: minor 8.1.3 version history item edit and add defn of new CORE_FILE_NAME knob <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4100\" onclick=\"get_ticket_and_populate_wrapper('4100'); return false;\" title=\"default name for core files should include daemon\">#4100</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-05 17:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d89accde5b0bd83032e79a18ed3be3a0e43bef56\">[38945]</a></span>: fix missing %s in format for generating the path to the core file on Windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4100\" onclick=\"get_ticket_and_populate_wrapper('4100'); return false;\" title=\"default name for core files should include daemon\">#4100</a></span> ===VersionHistory:None=== bug never shipped  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-26 16:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7ac2bb7600f4035f8f2f1bb8b739116d31ea3b17\">[38864]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4100\" onclick=\"get_ticket_and_populate_wrapper('4100'); return false;\" title=\"default name for core files should include daemon\">#4100</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-26 15:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/13f28e4ca1de35703d44d20f0745ee009a41e284\">[38862]</a></span>: add CORE_FILE_NAME param to set default filename for core files <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4100\" onclick=\"get_ticket_and_populate_wrapper('4100'); return false;\" title=\"default name for core files should include daemon\">#4100</a></span> default value of core files will be core.DAEMON for *nix and *.DAEMON.WIN32 for Windows ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Dec-17 15:24", "status": "resolved", "created": "2013-Nov-26 15:27", "fixed_version": "2013-Nov-26 15:27", "broken_version": "v080100", "priority": "3", "subsystem": "Daemons", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
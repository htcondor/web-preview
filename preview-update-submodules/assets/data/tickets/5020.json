{"id": 5020, "title": "Ticket #5020: Collector doesn't fork for queries", "description": "<blockquote>\nIn <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4821\" onclick=\"get_ticket_and_populate_wrapper('4821'); return false;\" title=\"Only fork collector for a few ad types\">#4821</a></span>, we switched the collector to only fork on a few known hash table lookups.\n\n<p>However, in the <code>if</code> statement, we compare the <code>whichAds</code> variable against the wrong set of enums (instead of <code>STARTD_AD</code> - which is in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=AdTypes\" title=\"Ad Types\">AdTypes</a></span> - we have <code>QUERY_STARTD_ADS</code> - which is a command int).</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-30 10:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/29e91d45f039a8a6753ec2a1bca2724f6ab09719\">[44761]</a></span>: edit 8.3.6 version history item. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5020\" onclick=\"get_ticket_and_populate_wrapper('5020'); return false;\" title=\"Collector doesn't fork for queries\">#5020</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-24 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/75dd4aaba0338befcd551b14dcea042ca413b794\">[44718]</a></span>: documentation for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5020\" onclick=\"get_ticket_and_populate_wrapper('5020'); return false;\" title=\"Collector doesn't fork for queries\">#5020</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-24 09:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bacf9abecea9fd306a5c92912d0f3e37e62b432f\">[44717]</a></span>: Fix typo that prevented collector from forking to handle queries <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5020\" onclick=\"get_ticket_and_populate_wrapper('5020'); return false;\" title=\"Collector doesn't fork for queries\">#5020</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Apr-24 09:40", "status": "resolved", "created": "2015-Apr-23 22:35", "fixed_version": "2015-Apr-23 22:35", "broken_version": "", "priority": "2", "subsystem": "", "assigned_to": "gthain", "derived_from": "#4490", "creator": "bbockelm", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
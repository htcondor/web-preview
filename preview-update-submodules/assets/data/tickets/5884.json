{"id": 5884, "title": "Ticket #5884: Prefer depth-first matching of pslots in negotiator", "description": "<blockquote>\nWhen the negotiator matches a job to a pslot, by default, it hands out the whole pslot to the schedd, which the schedd can us to match further jobs.  Although, the negotiator will charge the user for the whole weight of the pslot, and stop handing out pslots when the submitterLimit is hit, this assumes that all jobs match all slots.  If this isn't the case, and jobs are selective, it is possible that the negotiator will hand out too many pslots, and cause unneeded fragmentation of the pslots.\n\n<p>CMS is seeing pslot fragmentation, so we will add a knob that will assume that if one job in an autocluster matches part of a pslot, the negotiator will ignore as many subsequent jobs in that autocluster which should fit it that pslot.  This knob is called NEGOTIATOR_DEPTH_FIRST.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Sep-06 10:57:40 by tim:</em> <br/>\n\nShouldn't this knob go into the param table?\n\n<p></p><hr/>\n<em>2016-Sep-26 09:56:46 by tim:</em> <br/>\n\nAs discussed at the Flight-Worthy meeting, this is an experimental feature that may be documented later.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6893\" onclick=\"get_ticket_and_populate_wrapper('6893'); return false;\" title=\"Document NEGOTIATOR_DEPTH_FIRST\">#6893</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDocument NEGOTIATOR_DEPTH_FIRST</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7422\" onclick=\"get_ticket_and_populate_wrapper('7422'); return false;\" title=\"Fix NEGOTIATOR_DEPTH_FIRST with custom SLOT_WEIGHT\">#7422</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nFix NEGOTIATOR_DEPTH_FIRST with custom SLOT_WEIGHT</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-06 10:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8776981ac07061693738bd1a8557335683039752\">[49113]</a></span>: Add NEGOTIATOR_DEPTH_FIRST knob to make depth-first pslot matches <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5884\" onclick=\"get_ticket_and_populate_wrapper('5884'); return false;\" title=\"Prefer depth-first matching of pslots in negotiator\">#5884</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Sep-26 09:56", "status": "resolved", "created": "2016-Sep-06 10:50", "fixed_version": "2016-Sep-06 10:50", "broken_version": "v080400", "priority": "1", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20160906"}
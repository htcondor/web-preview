{"id": 1016, "title": "Ticket #1016: Unified Logging and Rotation", "description": "<blockquote>\nCondor has several places where it writes ongoing files, including the dprintf logs, the user logs, the event logs, the history files.  All of these use different code, with different locking, and rotation strategies.  We need to have a single bit of code that handles this, and handles it in a way such they when we lose events because of rotation, we can tell at least how many events were lost.</blockquote>", "remarks": "<blockquote>\n<em>2009-Dec-10 14:54:42 by cweiss:</em> <br/>\n\nAs Pete pointed out, we should also take into account <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=1025\" onclick=\"get_ticket_and_populate_wrapper('1025'); return false;\" title=\"Replace dprintf levels with tags\">#1025</a></span> (and therefore I hereby created a link to it).\n<hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1108\" onclick=\"get_ticket_and_populate_wrapper('1108'); return false;\" title=\"Improving the locking situation of the logging systems\">#1108</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImproving the locking situation of the logging systems</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=1213\" onclick=\"get_ticket_and_populate_wrapper('1213'); return false;\" title=\"Schedd has bad interaction with NFS\">#1213</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nSchedd has bad interaction with NFS</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jun-16 19:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6c2c71c7afa1a918639cee00f5fcd8164e4dd841\">[18478]</a></span>: Centralized rotation with timestamp file ending. Also added a parameter MAX_NUM_&lt;subsys&gt;_LOG for specifying how many old log files should be kept. This will for example solve the max 2GB log file issue in ticket <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=1158\" onclick=\"get_ticket_and_populate_wrapper('1158'); return false;\" title=\"Condor Daemon Log can't grow beyond 2GB\">#1158</a></span> (also part of umbrella ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1016\" onclick=\"get_ticket_and_populate_wrapper('1016'); return false;\" title=\"Unified Logging and Rotation\">#1016</a></span>).  (By Cathrin Weiss )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Nov-21 15:23", "status": "resolved", "created": "2009-Dec-01 14:51", "fixed_version": "2009-Dec-01 14:51", "broken_version": "v070400", "priority": "2", "subsystem": "Daemons", "assigned_to": "cweiss", "derived_from": "", "creator": "cweiss", "rust": "", "customer_group": "other", "visibility": "public", "notify": "gthain@cs.wisc.edu", "due_date": ""}
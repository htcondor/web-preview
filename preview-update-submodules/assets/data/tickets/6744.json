{"id": 6744, "title": "Ticket #6744: File transfer fails if job creates a unix domain socket", "description": "<blockquote>\nTo reproduce:\n\n<p>Run a job that does\n\n</p><p>nc -U foo -l &amp;\necho \"This is the input\" | nc -U foo\n\n</p><p>And the job will go on hold with\n\n</p><p>error reading from .../foo: (errno 6) No such device or address;</p></blockquote>", "remarks": "<blockquote>\n<em>2018-Aug-30 12:58:16 by coatsworth:</em> <br/>\n\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> now checks to see if files are Unix domain sockets before adding them to the transfer list. The logic should be pretty obvious from looking at the code. Sending for review.\n\n<p></p><hr/>\n<em>2018-Aug-30 14:23:31 by gthain:</em> <br/>\n\n<strong>CODE REVIEW</strong>  All is good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Aug-30 16:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2a42b9a977bf380fd18bf2458111318acdefac2f\">[55368]</a></span>: Fixed crooked doc merge (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6744\" onclick=\"get_ticket_and_populate_wrapper('6744'); return false;\" title=\"File transfer fails if job creates a unix domain socket\">#6744</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Aug-30 16:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3c0548a1f0a6d3495039000ad6ec02effbd7c66d\">[55365]</a></span>: Added documentation (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6744\" onclick=\"get_ticket_and_populate_wrapper('6744'); return false;\" title=\"File transfer fails if job creates a unix domain socket\">#6744</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Aug-30 12:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/067890a9606a1dde34561a25ee3e926987da1b33\">[55363]</a></span>: Moved domain socket check into <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ExpandFileTransferList\" title=\"Expand File Transfer List\">ExpandFileTransferList</a></span> (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6744\" onclick=\"get_ticket_and_populate_wrapper('6744'); return false;\" title=\"File transfer fails if job creates a unix domain socket\">#6744</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Aug-29 10:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/563abd6fe35a99b0a06271ea0a7a0ba76be3befd\">[55357]</a></span>: File transfer nows skips Unix domain sockets (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6744\" onclick=\"get_ticket_and_populate_wrapper('6744'); return false;\" title=\"File transfer fails if job creates a unix domain socket\">#6744</a></span>)  (By Mark Coatsworth )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2018-Aug-30 15:19", "status": "resolved", "created": "2018-Aug-22 12:08", "fixed_version": "2018-Aug-22 12:08", "broken_version": "v080600", "priority": "2", "subsystem": "Libs", "assigned_to": "coatsworth", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": ""}
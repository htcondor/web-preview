{"id": 5710, "title": "Ticket #5710: Bosco file transfer broken by bad sinful string, part two", "description": "<blockquote>\nThe previous fix to rewriting of the sinful string for file transfers tunneled over ssh for Bosco was incomplete (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5704\" onclick=\"get_ticket_and_populate_wrapper('5704'); return false;\" title=\"Bosco file transfer broken by bad sinful string\">#5704</a></span>). It only covered input sandbox transfers, and left output sandbox transfers broken.\n\n<p>We're also back-porting the fix from 8.5 to 8.4, because an 8.4 gridmanager may have to work with an 8.5 ft-gahp.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Jun-07 09:30:19 by tim:</em> <br/>\n\n<strong>CODE REVIEW:</strong> I approve this change.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-13 10:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/51cd8cc613b3fe151549016a75849ac472f8871a\">[48538]</a></span>: Version history for Bosco file transfer fix.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-06 16:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/afa31d36c1054ac5594ac394f2a08c682963f464\">[48502]</a></span>: Fix rewriting of gridmanager sinful for ft-gahp, part two. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5710\" onclick=\"get_ticket_and_populate_wrapper('5710'); return false;\" title=\"Bosco file transfer broken by bad sinful string, part two\">#5710</a></span> The previous change only fixed input transfers. Now, we also fix output transfers.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jun-06 16:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/248b36544d9bbdf691973898bc868cdf8a175aa3\">[48501]</a></span>: Fix rewriting of gridmanager sinful for ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5704\" onclick=\"get_ticket_and_populate_wrapper('5704'); return false;\" title=\"Bosco file transfer broken by bad sinful string\">#5704</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5710\" onclick=\"get_ticket_and_populate_wrapper('5710'); return false;\" title=\"Bosco file transfer broken by bad sinful string, part two\">#5710</a></span> In 8.5, the initial ip:port of a sinful string is ignored; only the addrs field is used for contacting the daemon. So we need to improve how the gridmanager rewrites its sinful string when sending it to the ft-gahp so as to use the ssh tunnel.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Jun-13 11:00", "status": "resolved", "created": "2016-Jun-06 16:27", "fixed_version": "2016-Jun-06 16:27", "broken_version": "v080400", "priority": "1", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#5704", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "dweitzel@cse.unl.edu", "due_date": ""}
{"id": 5288, "title": "Ticket #5288: NETWORK_HOSTNAME broken", "description": "<blockquote>\nChanges to support IPv4/6 mixed mode accidentally broke the NETWORK_HOSTNAME configuration parameter. When NETWORK_HOSTNAME is set, an empty string is passed to getaddinfo(), instead of the configured name. When getaddrinfo() fails, we call it again repeatedly for 60 seconds, sleeping for 3 second between attempts. This causes all daemons and tools to block for a minute at startup.</blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-09 20:13:31 by tim:</em> <br/>\n\nThe fix was tested by the OSG Release Team.\n\n<p></p><hr/>\n<em>2015-Oct-13 15:33:51 by adesmet:</em> <br/>\n\n<strong>Code review:</strong> Approved.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-14 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a28c61ef393a77b06b35d49905085a93d1d7e3eb\">[45974]</a></span>: Docs for NETWORK_HOSTNAME config param fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5288\" onclick=\"get_ticket_and_populate_wrapper('5288'); return false;\" title=\"NETWORK_HOSTNAME broken\">#5288</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-01 16:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1de8d685e0fb5a21bfb9a8ba42076312a3720a5e\">[45914]</a></span>: Fix NETWORK_HOSTNAME config parameter. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5288\" onclick=\"get_ticket_and_populate_wrapper('5288'); return false;\" title=\"NETWORK_HOSTNAME broken\">#5288</a></span> In init_local_hostname_impl(), when NETWORK_HOSTNAME is set, the string that we pass to getipaddr() was left empty. When getipaddr() fails, we would then retry it repeatedly for 1 minute.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Oct-13 15:34", "status": "resolved", "created": "2015-Oct-01 16:31", "fixed_version": "2015-Oct-01 16:31", "broken_version": "v080302", "priority": "2", "subsystem": "Libs", "assigned_to": "adesmet", "derived_from": "#4494", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
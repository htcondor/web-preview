<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="robots" content="noindex">


    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-update-submodules/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-update-submodules/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-update-submodules/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-update-submodules/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-update-submodules/assets/images/favicons/safari-pinned-tab.svg" color="#d31145">
    <link rel="shortcut icon" href="/web-preview/preview-update-submodules/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-update-submodules/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <script src="/web-preview/preview-update-submodules/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-update-submodules/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-update-submodules/assets/js/bootstrap.js" type="text/javascript"></script>

    

    

        <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-update-submodules/assets/css/style-v2.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">
<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-update-submodules/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-update-submodules/assets/images/HTCondor_red_blk_classic.png" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/2014/">Throughput Computing 2023</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/past_condor_weeks.html">Workshop Archives</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-update-submodules/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-update-submodules/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu">Website &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-update-submodules/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-update-submodules/assets/images/HTCondor_red_blk_classic.png"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                








                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-update-submodules/news/HTC24/">Save the Dates for Throughput Computing 2024</a></h3>
                            <div>
                                <span class="text-muted">March  7, 2024</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-update-submodules/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-update-submodules/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                








                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/2014/">Throughput Computing 2023</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/past_condor_weeks.html">Workshop Archives</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-update-submodules/featured-users.html"><b>Featured Users</b></a>
                    


                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-update-submodules/featured-users/2024-03-05-astronomers-engineers-use-grid-of-computers.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Astronomers and Engineers Use a Grid of Computers at a National Scale to Study the Universe 300 Times Faster
            </h6>
            <div>
                <span class="text-muted text-decoration-none">March  5, 2024</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-update-submodules/featured-users/2024-02-26-california-megafires.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Ecologists utilizing HTC to examine the effects of megafires on wildlife
            </h6>
            <div>
                <span class="text-muted text-decoration-none">February 26, 2024</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-update-submodules/featured-users/2024-02-06-gis-story.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Preserving historic Wisconsin aerial photos with a little help from CHTC
            </h6>
            <div>
                <span class="text-muted text-decoration-none">February  6, 2024</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-update-submodules/featured-users/2023-12-20-OSG-School.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                OSG School mission: Don’t let computing be a barrier to research
            </h6>
            <div>
                <span class="text-muted text-decoration-none">December 20, 2023</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-3 my-2">
                    <div class="card h-100">
                        <img src="https://raw.githubusercontent.com/CHTC/Articles/main/images/Spectrometer.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-update-submodules/featured-users/2022-04-25-Natzke.html">Learning and adapting with OSG: Investigating the strong nuclear force</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-update-submodules/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-update-submodules/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-update-submodules/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu">Website &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-update-submodules/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="bg-light mb-4">
    <hr class="m-0">
    <div class="container-xxl py-2">
        <span class="fs-3">Run a Job on Stampede2 Using an Allocation</span>
    </div>
    <hr class="m-0">
</div>
<div class="container-xxl pb-4">
    <div class="row">
        <div  class="col-12 col-lg-10 col-xl-9 col-xxl-8">
            <p>This recipe assumes that you have decided to use your allocation
for Stampede2 to run one of your HTCondor jobs.  It takes you step by
step through the process of Bringing Your Own Capacity (BYOC) in the
form of an allocation to an OSG Connect access point and using that
resource to run your HTCondor job.  In what follows, we refer to the set
of resources leased from that allocation as an “annex.”</p>

<p>In this recipe, we assume that the job has not yet been placed at an
OSG Connect access point when we begin.</p>

<h5 id="ingredients">Ingredients</h5>

<ul>
  <li>An OSG Connect account and password</li>
  <li>An HTCondor job submit file (example.submit).</li>
  <li>An allocation for Stampede2.</li>
  <li>Command-line login access to Stampede2
(see <a href="https://portal.tacc.utexas.edu/user-guides/stampede2#secure-shell-ssh">TACC’s instructions for gaining access</a>).
We’ll use <code>LOGIN_NAME</code> to refer to your login name on Stampede2.</li>
  <li>A name for your Stampede2 annex (example).  By convention,
this is the name of the submit file you want to run, without its extension.</li>
</ul>

<h4 id="assumptions">Assumptions</h4>

<ul>
  <li>You want to run the job described above on Stampede2.</li>
  <li>The job described above fits within the capabilities of the
  <a href="https://portal.tacc.utexas.edu/user-guides/stampede2#slurm-partitions-queues">Stampede2 partition (queue)</a>
  you wish to run it on.</li>
</ul>

<h4 id="preparation">Preparation</h4>

<p>First, you will need to determine the project ID of your allocation on
Stampede2.  If you already know your project ID, you can skip this
section.  If not, log in to <code>stampede2.tacc.utexas.edu</code> in a terminal and run the
following command.  (Don’t copy the <code>$</code>; in this and other examples
further down the page, the <code>$</code> just signifies something you type in,
rather than something that the computer prints out.)</p>

<pre><code>$ /usr/local/etc/taccinfo
</code></pre>

<p>Choose one of the rows in the top half of the table (there may be only
one row) and remember the entry in the NAME column.  For the rest of
these instructions, we’ll use <code>PROJECT_ID</code> where you need to put that
entry.</p>

<h4 id="instructions">Instructions</h4>

<h5 id="1-log-into-the-osg-connect-access-point">1. Log into the OSG Connect Access Point</h5>

<p>Log into an OSG Connect access point (e.g., <code>login04.osgconnect.net</code> or
<code>login05.osgconnect.net</code>) using your OSG Connect account and password.</p>

<h5 id="2-submit-the-job">2. Submit the Job</h5>

<p>Submit the job on the access point, indicating that you want it to run
on your own resource (the Stampede2 allocation, in this case) with the
<code>--annex-name</code> option:</p>

<pre><code>$ htcondor job submit example.submit \
  --annex-name example
Job 123 was submitted and will run only on the annex 'example'.
</code></pre>

<p>Notes on the output of this command:</p>
<ul>
  <li>123 is the JOB_ID assigned by the access point to the placed job.</li>
  <li>Placing the job with the annex name specified means that the job
won’t run anywhere other than the annex.</li>
  <li>Note that the annex name does not say anything about Stampede2; it is simply
a label for the Stampede2 resources we will be provisioning
in the next step.</li>
</ul>

<h5 id="3-lease-the-resources">3. Lease the Resources</h5>

<p>To run your job on Stampede2, you will need to create an “annex” there;
an annex is a named set of leased resources.  The following command will
submit a request to lease an annex named <code>example</code> to the queue named <code>normal</code>
on Stampede2.  Project <code>PROJECT_ID</code> will be charged for resources used (by
default, two nodes).  The <strong>text in bold</strong> is emphasized to distinguish
it from XSEDE’s log-in prompt.</p>

<pre><code>$ htcondor annex create example normal@stampede2 --project PROJECT_ID --login-name LOGIN_NAME
<b>This command will access the system named `Stampede 2` via SSH.  To proceed, follow the
prompts from that system below; to cancel, hit CTRL-C.</b>
</code></pre>

<p>You will need to log into Stampede2 at this prompt.</p>

<pre><code><b>Thank you.</b>

Requesting annex named 'example' from queue 'normal' on Stampede 2...
</code></pre>

<p>The tool will display an indented log of the request progress, because
it may take a while.  Once the request is done, it will display:</p>

<pre><code>... requested.
</code></pre>

<p>It may take some time for Stampede2 to establish the requested annex.</p>

<h5 id="4-confirm-that-the-resources-are-available">4. Confirm that the Resources are Available</h5>

<p>Check on the status of the annex to make sure it has started up correctly.</p>

<pre><code>$ htcondor annex status example
Annex 'example' is not established.
You requested 2 nodes for this annex, of which 0 are in established
annexes.
There are 0 CPUs in the established nodes, of which 0 are busy.
1 jobs must run on this annex, and 0 currently are.
You made 1 resource request(s) for this annex, of which 1 are pending, 0
are established, and 0 have retired.
</code></pre>

<p>Give Stampede2 a few more minutes to grant your request and then check again.</p>

<pre><code>$ htcondor annex status example
Annex 'example' is established.
Its oldest established request is about 0.29 hours old and will retire in
0.71 hours.
You requested 2 nodes for this annex, of which 2 are in established
annexes.
There are 136 CPUs in the established nodes, of which 0 are busy.
1 jobs must run on this annex, and 0 currently are.
You made 1 resource request(s) for this annex, of which 0 are pending, 1
are established, and 0 have retired.
</code></pre>

<h5 id="5-confirm-job-is-running-on-the-resources">5. Confirm Job is Running on the Resources</h5>

<p>After some time has passed, check the status of the job to make sure
that it started running.</p>

<pre><code>$ htcondor job status 123
Job will only run on your annex named 'example'.
Job has been running for 0 hour(s), 2 minute(s), and 21 second(s).
</code></pre>

<p>We want to make sure the job is indeed running on the correct annex
resources.  There are two different ways we could do this.  We could ask
the annex itself:</p>

<pre><code>$ htcondor annex status example
Annex 'example' is established.
Its oldest established request is about 0.69 hours old and will retire in
0.31 hours.
You requested 2 nodes for this annex, of which 2 are in established
annexes.
There are 136 CPUs in the established nodes, of which 1 are busy.
1 jobs must run on this annex, and 1 currently are.
You made 1 resource request(s) for this annex, of which 0 are pending,
1 are established, and 0 have retired.
</code></pre>

<p>This indicates that the annex is running jobs, but we don’t know for
sure that it’s the one we just submitted.  Instead, let’s ask the job
itself what resources it is running on.</p>

<pre><code>$ htcondor job resources 123
Job is using annex 'example', resource slot1_1@c469-033.stampede2.
tacc.utexas.edu.
</code></pre>

<h5 id="6-terminate-the-resource-lease">6. Terminate the Resource Lease</h5>

<p>At this point we know that our job is running on the correct resources,
so we can wait for it to finish running.  After some time has passed, we
ask for its status again:</p>

<pre><code>$ htcondor job status 123
Job is completed.
</code></pre>

<p>Now that the job has finished running, we want to shut down the annex.
When the annex finishes shutting down, the resource lease will be
terminated.  We could just wait for the annex time out automatically
(after 20 minutes of being idle), but we would rather shut the annex down
explicitly to avoid wasting our allocation.</p>

<pre><code>$ htcondor annex shutdown example
Shutting down annex 'example'...
... each resource in 'example' has been commanded to shut down.
It may take some time for each resource to finish shutting down.
Annex requests that are still in progress have not been affected.
</code></pre>

<p>At this point our workflow is completed, and our job has run
successfully on our allocation.</p>

<h5 id="reference">Reference</h5>

<p>You can run either of the following commands for an up-to-date summary
of their corresponding options.</p>

<pre><code>$ htcondor job --help
$ htcondor annex --help
</code></pre>

        </div>
    </div>
</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-5 d-none d-lg-flex">
                <img class="my-auto" height="120" alt="Condor High Throughput Computing" src="/web-preview/preview-update-submodules/assets/images/CondorAlpha.png" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-update-submodules/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-update-submodules/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-update-submodules/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://www.chtc.cs.wisc.edu">
                    <img class="w-auto" src="/assets/images/CHTC_Logo_Full_Color.svg" alt="CHTC Logo" height="50px" />
                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-update-submodules/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-update-submodules/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-update-submodules/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

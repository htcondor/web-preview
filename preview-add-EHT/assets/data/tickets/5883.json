{"id": 5883, "title": "Ticket #5883: GCE GAHP escapes JSON metadata incorrectly", "description": "<blockquote>\nEscaping JSON in GCE GAHP metadata is incorrect.  To specify multi-line metadata, such as startup scripts, the correct behavior is to send the characters \"\\n\".  If you type this in the current version, it gets escaped to \"\\\\n\" which causes the startup script to fail.\n\n<p>See <a class=\"external\" href=\"https://cloud.google.com/compute/docs/startupscript\">https://cloud.google.com/compute/docs/startupscript</a> for an example and more information.\n\n</p><p>See attached file for recommended patch.  Please let me know if you need any modifications.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Sep-14 14:57:02 by jfrey:</em> <br/>\n\nI want to contemplate this change vs other options. In the mean time, you could use gce_json_file to specify all of the metadata values and have complete control over the values.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/964/0001-Handle-JSON-escaping-for-GCE-metadata-correctly.patch\">0001-Handle-JSON-escaping-for-GCE-metadata-correctly.patch</a>\n1939 bytes added by dstrain on 2016-Sep-02 22:50:51 UTC.\n<br/>\nPatch to avoid escaping '\\' (with documentation change as well)<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "todo", "last_change": "2016-Nov-16 10:20", "status": "new", "created": "2016-Sep-02 17:49", "fixed_version": "2016-Sep-02 17:49", "broken_version": "v080104", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "dstrain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dstrain@google.com", "due_date": ""}
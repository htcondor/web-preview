{"id": 3876, "title": "Ticket #3876: condor_q -autoformat broken for Requirements attribute", "description": "<blockquote>\nObserve:\n<div class=\"code\">\n<pre class=\"code\">[pfcouvar@sugar-dev3 ~]$ condor_q 8128571.0 -l | grep ^Requirements\nRequirements = ( TARGET.Arch == \"X86_64\" ) &amp;&amp; ( TARGET.OpSys == \"LINUX\" ) &amp;&amp; ( TARGET.Disk &gt;= RequestDisk ) &amp;&amp; ( TARGET.Memory &gt;= RequestMemory ) &amp;&amp; ( ( TARGET.HasFileTransfer ) || ( TARGET.FileSystemDomain == MY.FileSystemDomain ) )\n\n[pfcouvar@sugar-dev3 ~]$ condor_q 8128571.0 -format '%s\\n' Requirements\n( TARGET.Arch == \"X86_64\" ) &amp;&amp; ( TARGET.OpSys == \"LINUX\" ) &amp;&amp; ( TARGET.Disk &gt;= RequestDisk ) &amp;&amp; ( TARGET.Memory &gt;= RequestMemory ) &amp;&amp; ( ( TARGET.HasFileTransfer ) || ( TARGET.FileSystemDomain == MY.FileSystemDomain ) )\n\n[pfcouvar@sugar-dev3 ~]$ condor_q 8128571.0 -autoformat Requirements\nundefined\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2013-Sep-03 15:19:56 by johnkn:</em> <br/>\n\n<code>-af foo</code> behaves like <code>-f \"%v\" foo</code>.   It gives the value of foo, which means that it gets evaluated if it is an expression.  This is different from %s which does not evaluate.\n\n<p>use <code>-af 'unparse(foo)'</code> to get un-evaluated values with autoformat.\n\n</p><p></p><hr/>\n<em>2013-Sep-03 15:30:10 by pfc:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>*doh!*</pre></div>\n  Thank you -- this makes perfect sense.  PEBKAC.\n\n<p></p><hr/>\n<em>2013-Sep-03 15:36:51 by johnkn:</em> <br/>\n\nOn further investigation.\n\n<p><code>-f \"%s\" foo</code> will evaluate foo and if the result is string-valued it will print the result, otherwise it unparses it.\n\n</p><p><code>-long</code> always prints raw (not-evaluated) classad attributes.\n\n</p><p>But it seems like it might be useful to have a <code>-af</code> mode that always prints out un-evaluated attribute values like <code>-long</code> does.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2014-Aug-04 11:39", "status": "defer", "created": "2013-Aug-28 09:26", "fixed_version": "2013-Aug-28 09:26", "broken_version": "v080001", "priority": "5", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 2622, "title": "Ticket #2622: RFE: COLLECTOR_USES_SHARED_PORT configuration", "description": "<blockquote>\nMotivation is simplifying configuration for putting all daemons behind shared-port, including the collector.\n\n<p>Enabling shared-port for everything except the collector is a simple USE_SHARED_PORT=TRUE and DAEMON_LIST=$(DAEMON_LIST),SHARED_PORT.\n\n</p><p>Enabling SHARED_PORT for the collector requires COLLECTOR_ARGS=-sock collector and SHARED_PORT_ARGS=-p 3131 (to provide a known port), and COLLECTOR_HOST update to include :3131?sock=collector on all nodes. Additionally, in an HA Collector setup, all collectors in COLLECTOR_HOST must be attributed.\n\n</p><p>COLLECTOR_USES_SHARED_PORT = TRUE could default SHARED_PORT_ARGS = -p 9618, COLLECTOR_ARGS = -sock collector and ?sock=collector for each collector in COLLECTOR_HOST.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-Jul-23 10:59:24 by matt:</em> <br/>\n\nFYI - USE_SHARED_PORT = TRUE w/o SHARED_PORT in DAEMON_LIST (or at least running) results in difficult to diagnose failures\n\n<p></p><hr/>\n<em>2013-Jul-24 17:41:21 by danb:</em> <br/>\n\nThis ticket relates somewhat to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3813\" onclick=\"get_ticket_and_populate_wrapper('3813'); return false;\" title=\"shared port should be enabled by default\">#3813</a></span>, enabling shared port by default.\n\n<p>Also, the case where USE_SHARED_PORT=true is defined, but SHARED_PORT is not added to DAEMON_LIST is handled now by <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3799\" onclick=\"get_ticket_and_populate_wrapper('3799'); return false;\" title=\"USE_SHARED_PORT should automatically add SHARED_PORT to DAEMON_LIST\">#3799</a></span>.\n\n</p><p></p><hr/>\n<em>2013-Dec-30 19:17:13 by bbockelm:</em> <br/>\n\nI posted a branch on <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3813\" onclick=\"get_ticket_and_populate_wrapper('3813'); return false;\" title=\"shared port should be enabled by default\">#3813</a></span> which implements these semantics.\n\n<p></p><hr/>\n<em>2015-Jun-24 17:44:51 by tannenba:</em> <br/>\n\nAbandoning as it is a dup of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3813\" onclick=\"get_ticket_and_populate_wrapper('3813'); return false;\" title=\"shared port should be enabled by default\">#3813</a></span></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2015-Jun-24 17:45", "status": "abandoned", "created": "2011-Nov-09 14:40", "fixed_version": "2011-Nov-09 14:40", "broken_version": "v070600", "priority": "3", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.wisc.edu tstclair@redhat.com matt@cs.wisc.edu", "due_date": ""}
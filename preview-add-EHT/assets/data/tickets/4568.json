{"id": 4568, "title": "Ticket #4568: Windows domains mess up gridmanager talking to schedd", "description": "<blockquote>\nWhen the gridmanager connects to the schedd via ConnectQ(), it provides the name of the user it's acting on behalf of. If the user account is part of a Windows domain (and NTDomain is set in the job ad), then the gridmanager will include the domain in the name it gives to ConnectQ(). The schedd is not expecting that and may reject the gridmanager's request.\n\n<p>The gridmanager should use just the job owner name with ConnnectQ().</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Sep-08 17:23:10 by johnkn:</em> <br/>\n\nCODE REVIEW: change looks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-08 16:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/04005f7c77b33c39b3ce22bb7747600740a0e7da\">[41122]</a></span>: Docs for gridmanager connectiong to schedd on windows bug. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4568\" onclick=\"get_ticket_and_populate_wrapper('4568'); return false;\" title=\"Windows domains mess up gridmanager talking to schedd\">#4568</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Aug-29 16:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/89aa97c48a16fc6c3eef722cb360ddc088d44b9e\">[41069]</a></span>: Don't use windows domain for ConnectQ() in the gridmanager. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4568\" onclick=\"get_ticket_and_populate_wrapper('4568'); return false;\" title=\"Windows domains mess up gridmanager talking to schedd\">#4568</a></span> The job owner name that can be passed to ConnectQ() shouldn't include a Windows domain. Other uses of the myUserName variable don't need the domain either, so just leave it off when parsing the -o command line argument. We do need it for\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Sep-17 14:52", "status": "resolved", "created": "2014-Aug-29 16:10", "fixed_version": "2014-Aug-29 16:10", "broken_version": "v080000", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "batlab", "visibility": "public", "notify": "", "due_date": ""}
{"id": 1160, "title": "Ticket #1160: CkptWallClock timers stack up", "description": "<blockquote>\nEvery time the schedd is reconfigured, a new timer is registered to call CkptWallClock().  The previous timer is not removed.  The default period is 1h.  Prior to 7.4.1, this function was very expensive, because it updated each job in its own transaction.  The end result was that schedd performance would degrade the more times it was reconfigured.\n\n<p>One possible workaround is to set WALL_CLOCK_CKPT_INTERVAL=0.  This disables the registration of the timer altogether.  The down side is that if the schedd dies it may under-report how much wall time was consumed by some jobs.\n\n</p><p>Thanks to Burt Holzman for the perfect environment in which to observe this problem.  The bug was 10 years old!</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-29 13:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/31a1286c5c3304f16ae58d711981c8568937fe9b\">[25244]</a></span>: Documented fix for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CkptWallClock\" title=\"Ckpt Wall Clock\">CkptWallClock</a></span> stacking up. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1160\" onclick=\"get_ticket_and_populate_wrapper('1160'); return false;\" title=\"CkptWallClock timers stack up\">#1160</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-29 13:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/65ef616529b46dc4929f40fa405b5b144bd2665f\">[17036]</a></span>: Fixed stacking up of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WallClockCkpt\" title=\"Wall Clock Ckpt\">WallClockCkpt</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1160\" onclick=\"get_ticket_and_populate_wrapper('1160'); return false;\" title=\"CkptWallClock timers stack up\">#1160</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Feb-10 11:44", "status": "resolved", "created": "2010-Jan-29 11:36", "fixed_version": "2010-Jan-29 11:36", "broken_version": "v060114", "priority": "4", "subsystem": "Daemons", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
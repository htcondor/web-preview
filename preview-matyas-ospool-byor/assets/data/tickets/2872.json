{"id": 2872, "title": "Ticket #2872: Stale pidfile can prevent Debian upgrade", "description": "<blockquote>\nFrom Michael Hanke:\nHi,\n\n<p>on a system with a stale PID file (no condor_master running, e.g. after\na crash of the master) the init script's stop action fails, because it\nwaits for a non-existing process to end. This behavior can cause, for\nexample, a Debian package upgrade to fail. The attached patch addresses\nthis problem. I'd be glad if you could have a look at it and let me know\nwhether there are undesired side-effect of such a fix.\n\n</p><p>Thanks in advance,\n\n</p><p>Michael\n\n</p><p>--</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/538/tolerate_stale_pid_file\">tolerate_stale_pid_file</a>\n1175 bytes added by gthain on 2012-Mar-07 22:31:39 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-07 12:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a879813eca31ba4c7d064c2f63039d8350c5d59f\">[32244]</a></span>: edit of version history item for ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2872\" onclick=\"get_ticket_and_populate_wrapper('2872'); return false;\" title=\"Stale pidfile can prevent Debian upgrade\">#2872</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-May-30 12:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/436e2c389443dda9b2171b8a77b813b5d2b02237\">[32149]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2872\" onclick=\"get_ticket_and_populate_wrapper('2872'); return false;\" title=\"Stale pidfile can prevent Debian upgrade\">#2872</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-03 16:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4ca9b285599a63d11c314ae4a3b1cc71dad82ef5\">[31090]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2872\" onclick=\"get_ticket_and_populate_wrapper('2872'); return false;\" title=\"Stale pidfile can prevent Debian upgrade\">#2872</a></span> - applied a (slightly modified) patch from Michael Hanke that avoids hanging the init script if Condor is not running.  (By Scot Kronenfeld )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-May-30 12:20", "status": "resolved", "created": "2012-Mar-07 16:30", "fixed_version": "2012-Mar-07 16:30", "broken_version": "v070000", "priority": "3", "subsystem": "Unknown", "assigned_to": "kronenfe", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
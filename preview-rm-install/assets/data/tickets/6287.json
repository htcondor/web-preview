{"id": 6287, "title": "Ticket #6287: condor_q -l does not sort jobs", "description": "<blockquote>\nWhen using condor_q -l to display the full classad for each job, the jobs are not sorted by job id.  Looks like they appear in hash table order.  This is surprising, as I always thought output from condor_q will always be sorted unless option -stream-results is used.\n\n<p>I marked the ticket as an incident ticket, however, because perhaps condor_q has always worked this way for some good reason.  If there is a good reason, feel free to leave a remark explaining why and mark the ticket as resolved.  If there is no good reason, please change ticket status to defect and patch.\n\n</p><p></p><div class=\"snip\">\n<pre class=\"sniplabel\">Demonstration of the problem</pre>\n<pre class=\"snip\">C:\\condor\\test&gt;condor_q\n\n-- Schedd: ToddsThinkpad : &lt;127.0.0.1:51911?... @ 05/26/17 11:01:53\n ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD\n 365.0   tannenba        5/26 10:19   0+00:00:00 H  0    0.0 sleep.exe\n 366.0   tannenba        5/26 10:32   0+00:00:00 H  0    0.0 sleep.exe\n\n2 jobs; 0 completed, 0 removed, 0 idle, 0 running, 2 held, 0 suspended\n\n\nC:\\condor\\test&gt;condor_q -l | grep ClusterId\nClusterId = 366\nClusterId = 365\n\nC:\\condor\\test&gt;condor_version\n$CondorVersion: 8.7.1 Mar 16 2017 PRE-RELEASE-UWCS $\n$CondorPlatform: AMD64-WINDOWS_6.1.7601 $\n\nC:\\condor\\test&gt;condor_q -af ClusterId\n365\n366\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2017-Sep-12 10:20:10 by johnkn:</em> <br/>\n\nIt has always worked this way - so. not a bug.  condor_q just stuffs the ads into a classad list.  If you want to move this to the master branch, I will consider treating it as a valid feature request.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Mar-01 14:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a16e23a91143aa6504a6e36c06dd235c49926aee\">[54409]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6500\" onclick=\"get_ticket_and_populate_wrapper('6500'); return false;\" title=\"startd should retry deletion of sandbox until it succeeds\">#6500</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6532\" onclick=\"get_ticket_and_populate_wrapper('6532'); return false;\" title=\"condor_q should not batch jobs by executable\">#6532</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6287\" onclick=\"get_ticket_and_populate_wrapper('6287'); return false;\" title=\"condor_q -l does not sort jobs\">#6287</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6524\" onclick=\"get_ticket_and_populate_wrapper('6524'); return false;\" title=\"startd may delete a starter object before the starter is reaped.\">#6524</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6494\" onclick=\"get_ticket_and_populate_wrapper('6494'); return false;\" title=\"condor_q -tot -global shows no output\">#6494</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jan-31 15:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9ea58d4a458a5f25184369776b2a9dd4c948053e\">[54190]</a></span>: fixes for various condor_q issues. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6287\" onclick=\"get_ticket_and_populate_wrapper('6287'); return false;\" title=\"condor_q -l does not sort jobs\">#6287</a></span> condor_q -l does not sort jobs <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6532\" onclick=\"get_ticket_and_populate_wrapper('6532'); return false;\" title=\"condor_q should not batch jobs by executable\">#6532</a></span> condor_q should not batch jobs by executable <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6494\" onclick=\"get_ticket_and_populate_wrapper('6494'); return false;\" title=\"condor_q -tot -global shows no output\">#6494</a></span> condor_q -tot -global shows no output  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Mar-01 14:41", "status": "resolved", "created": "2017-May-26 11:15", "fixed_version": "2017-May-26 11:15", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tannenba@cs.wisc.edu, gthain@cs.wisc.edu", "due_date": ""}
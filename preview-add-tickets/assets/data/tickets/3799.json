{"id": 3799, "title": "Ticket #3799: USE_SHARED_PORT should automatically add SHARED_PORT to DAEMON_LIST", "description": "<blockquote>\nIf one sets USE_SHARED_PORT=True but SHARED_PORT is not added to DAEMON_LIST, and shared_port daemon is not run by some other means, then only local communication is possible.  The daemons complain in their logs\n\n<p></p><pre>    SharedPortEndpoint: failed to open /path/to/shared_port_ad: No such file or directory\n    SharedPortEndpoint: did not successfully find SharedPortServer address. Will retry in 60s.\n</pre>\n\n<p>It may not be obvious to users why this happens and what to do about it.\n\n</p><p><span class=\"section\"></span></p><h2>Proposed Change</h2>\n\n<p>When USE_SHARED_PORT=true in the master, SHARED_PORT should be automatically added to DAEMON_LIST.  There are very unusual situations where one might not want this.  In those cases, there should be a way to override the default behavior: AUTO_INCLUDE_SHARED_PORT_IN_DAEMON_LIST=False.\n\n</p><p>Under this proposal, in the unusual situation where the master does not have USE_SHARED_PORT=true, but some other daemons do, SHARED_PORT will not be automatically added to DAEMON_LIST.  The goal is just to make the common case easier, so we will not try to solve this unusual case.\n\n</p><p>This change is a prerequisite for making USE_SHARED_PORT=true by default.  However, it is compatible with either default.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Jul-23 15:32:37 by danb:</em> <br/>\n\nIn 8.0, I have updated the documentation to make it more obvious that one needs to add SHARED_PORT to DAEMON_LIST.  The proposed code changes are for 8.1.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Aug-09 11:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37147\">[37147]</a></span>: minor edit, and add SHARED_PORT to list of legal SUBSYSTEM names ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3799\" title=\"USE_SHARED_PORT should automatically add SHARED_PORT to DAEMON_LIST\">#3799</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Jul-24 09:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=36979\">[36979]</a></span>: Automatically insert SHARED_PORT in DAEMON_LIST when USE_SHARED_PORT=true <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3799\" title=\"USE_SHARED_PORT should automatically add SHARED_PORT to DAEMON_LIST\">#3799</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Jul-24 09:19", "status": "resolved", "created": "2013-Jul-23 15:26", "fixed_version": "2013-Jul-23 15:26", "broken_version": "v080100", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
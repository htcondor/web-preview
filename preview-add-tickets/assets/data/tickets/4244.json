{"id": 4244, "title": "Ticket #4244: allow StarterLog.JobId instead of StarterLog.slotN", "description": "<blockquote>\nIt would be more meaningful to admins, and would facilitate the moving of jobs from slot to slot if the starter log extension was the job id rather than the slot name.\n\n<p>A new param will be added <code>STARTER_LOG_NAME_APPEND</code>, it will have a string expression relative to the slot ad that defines the extension for the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartLog\" title=\"Start Log\">StartLog</a></span>.\nThe value for this expression that will be compatible with 8.0.x behavior is\n\n</p><p></p><pre>    STARTER_LOG_NAME_APPEND = true\n</pre>\n\n<p>Permitted values for <code>STARTER_LOG_NAME_APPEND</code> are\n\n</p><p></p><ul>\n<li>true    - same behavior as 8.0\n</li><li>false   - append nothing, this is what 8.0 does for single slot machines\n</li><li>Slot    - append slot name (this is what 8.0 does)\n</li><li>Cluster - append cluster id\n</li><li>Jobid   - append job id\n</li></ul>\n\n<p>These are all case-insensitive keywords.\n\n</p><p>Cleanup of excess logs created by the use of Cluster or Jobid options will be handled in <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4354\" onclick=\"get_ticket_and_populate_wrapper('4354'); return false;\" title=\"Starter logs are never deleted when extension is Cluster or JobId\">#4354</a></span>. This second task may not be needed by CMS, and may be deferred.</p></blockquote>", "remarks": "<blockquote>\nUse of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobId\" title=\"Job Id\">JobId</a></span>, or Cluster for extension results in log files 'leaking' i.e. they are never deleted.  While this may be OK for glide-in, it needs to be fixed for this feature to be generally useful.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4354\" onclick=\"get_ticket_and_populate_wrapper('4354'); return false;\" title=\"Starter logs are never deleted when extension is Cluster or JobId\">#4354</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nStarter logs are never deleted when extension is Cluster or <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobId\" title=\"Job Id\">JobId</a></span></td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-16 14:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40165\">[40165]</a></span>: edit of new knob STARTER_LOG_NAME_APPEND and version history item <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4244\" onclick=\"get_ticket_and_populate_wrapper('4244'); return false;\" title=\"allow StarterLog.JobId instead of StarterLog.slotN\">#4244</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-08 14:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40105\">[40105]</a></span>: Version history and documentation for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4244\" onclick=\"get_ticket_and_populate_wrapper('4244'); return false;\" title=\"allow StarterLog.JobId instead of StarterLog.slotN\">#4244</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-06 00:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39534\">[39534]</a></span>: allow <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StarterLog\" title=\"Starter Log\">StarterLog</a></span> extension to be blank, Cluster, or <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobId\" title=\"Job Id\">JobId</a></span> instead of slot id <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4244\" onclick=\"get_ticket_and_populate_wrapper('4244'); return false;\" title=\"allow StarterLog.JobId instead of StarterLog.slotN\">#4244</a></span>, and pass slot-name to the starter explicity via argument <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4242\" onclick=\"get_ticket_and_populate_wrapper('4242'); return false;\" title=\"starter should have an argument to specify slot id/name\">#4242</a></span> This is in support of async stage out <span class=\"ticket\"><a class=\"abandoned\" href=\"/tickets?ticket=3931\" onclick=\"get_ticket_and_populate_wrapper('3931'); return false;\" title=\"Asynchronous Stageout for dynamic slots\">#3931</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "experimental", "last_change": "2014-May-21 10:49", "status": "resolved", "created": "2014-Mar-04 16:09", "fixed_version": "2014-Mar-04 16:09", "broken_version": "v080000", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "johnkn", "derived_from": "#3931", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
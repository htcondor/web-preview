{"id": 3979, "title": "Ticket #3979: curl plugin does not work on Windows", "description": "<blockquote>\nThe curl plugin calls curl_global_init with CURL_GLOBAL_NOTHING. The consequence of doing this on Windows is that winsocks are not initialized, so any attempts to actually use curl to download things over the network will fail. Solution is just to ifdef this call out on Windows.</blockquote>", "remarks": "<blockquote>\nCODE REVIEW: looks good</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-25 14:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38831\">[38831]</a></span>: edit 8.0.5 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38077\">[38077]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=38076\">[38076]</a></span>, Merge in curl build fix from 8.0 branch. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-01 12:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38076\">[38076]</a></span>: Really fix curl on Windows, this time after confirming it builds and links correctly. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-29 10:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38007\">[38007]</a></span>: Revert \"Also add version history for curl fix. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>\" This reverts commit b4bf409d96467bbea29fb14e40110045be537807.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-29 10:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38006\">[38006]</a></span>: Revert \"Fix curl plugin in stable branch and re-enable it in config file. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>\" This reverts commit 7df114882d4ba36e89b63ea32ce3cd672ebc1e0e.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-28 17:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38002\">[38002]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=38000\">[38000]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=38001\">[38001]</a></span>, Merge curl fixes. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-28 17:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38001\">[38001]</a></span>: Also add version history for curl fix. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-28 17:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38000\">[38000]</a></span>: Fix curl plugin in stable branch and re-enable it in config file. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-10 13:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37811\">[37811]</a></span>: Fix curl plugin on Windows. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3979\" onclick=\"get_ticket_and_populate_wrapper('3979'); return false;\" title=\"curl plugin does not work on Windows\">#3979</a></span>  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Dec-11 13:21", "status": "resolved", "created": "2013-Oct-10 13:06", "fixed_version": "2013-Oct-10 13:06", "broken_version": "v080000", "priority": "4", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "ziliang", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn", "due_date": ""}
{"id": 3766, "title": "Ticket #3766: vanilla ImageSize not being updated in startd while job runs", "description": "<blockquote>\nIn our pool, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ImageSize\" title=\"Image Size\">ImageSize</a></span> doesn't appear to be updated in the startd job while the job is running, even though I can see updates in the userlog and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResidentSetSize\" title=\"Resident Set Size\">ResidentSetSize</a></span> is updated.\n\n<p>This can be most clearly demonstrated by \"condor_status -const 'Imagesize &lt; <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResidentSetSize\" title=\"Resident Set Size\">ResidentSetSize</a></span>'\" which returns lots of results.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Jul-15 11:31:44 by johnkn:</em> <br/>\n\nin CHTC <div class=\"code\">\n<pre class=\"code\">condor_status -const 'ImageSize &lt; ResidentSetSize'</pre></div>\n returns no results, although the reason may be because none of the machine ads have <code>ResidentSetSize</code> defined.\n\n<p></p><hr/>\n<em>2013-Jul-24 15:51:44 by pfc:</em> <br/>\n\nYou just need to add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResidentSetSize\" title=\"Resident Set Size\">ResidentSetSize</a></span> to STARTD_JOB_EXPRS (so the latest value from the job ad will be published in the machine ad), and you'll be able to see the issue.\n\n<p></p><hr/>\n<em>2013-Jul-25 10:00:24 by pfc:</em> <br/>\n\nYou can also verify this without <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ResidentSetSize\" title=\"Resident Set Size\">ResidentSetSize</a></span> at all by submitting a job that steadily consumes more memory, and observe that <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ImageSize\" title=\"Image Size\">ImageSize</a></span> remains constant until the job is vacated; it's just a little more work.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "incident", "last_change": "2015-Sep-21 11:51", "status": "defer", "created": "2013-Jul-11 13:45", "fixed_version": "2013-Jul-11 13:45", "broken_version": "v080000", "priority": "5", "subsystem": "DaemonsExecNode", "assigned_to": "johnkn", "derived_from": "", "creator": "pfc", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu, tannenba@cs.wisc.edu, gthain@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
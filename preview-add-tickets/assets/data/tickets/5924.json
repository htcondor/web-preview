{"id": 5924, "title": "Ticket #5924: Add bash completion scripts for CLI tools", "description": "<blockquote>\nI recently learned how to do bash completion scripts for a separate project.  While I find them really fairly miserable to write as a developer, they are pretty awesome as a user.\n\n<p>Let's add a few for the most common HTCondor commands.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Sep-27 23:01:39 by bbockelm:</em> <br/>\n\nExample from the just-uploaded completion script:\n\n<p></p><div class=\"verbatim\">\n<pre>$ condor_q -pool red-condor.unl.edu -name &lt;tab&gt;\nred-gw1.unl.edu         red-gw2.unl.edu         red.unl.edu             t3.unl.edu\n</pre></div>\n\n\n<p>When you hit <code>tab</code> after the <code>-name</code> argument, bash will query the collector for a list of schedds and suggest auto-completions from this list.\n\n</p><p>Similarly, if <code>-allusers</code> is set, it'll suggest a list of active users based on the output of <code>condor_status -submitter</code>.\n\n</p><p>The idea is that, similarly, <code>condor_status</code> could suggest a list of matching startd names - or <code>condor_userprio</code> could suggest usernames for the <code>-resetusage</code> command.\n\n</p><p>Still needs CMake integration and packaging; basic idea shines through.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-29 07:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49341\">[49341]</a></span>: Add mention of bash completion in release notes. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 13:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49339\">[49339]</a></span>: Add completion for rm/hold/release/suspend/continue. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 10:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49325\">[49325]</a></span>: Add bash completion for condor_config_val. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 10:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49324\">[49324]</a></span>: Add bash completion for condor_submit. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 09:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49322\">[49322]</a></span>: Add packaging for bash completion scripts. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 09:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49321\">[49321]</a></span>: Add bash completion script for condor_history. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-28 09:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49320\">[49320]</a></span>: Add initial bash completion scripts for condor_status. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5924\" title=\"Add bash completion scripts for CLI tools\">#5924</a></span> As with condor_q, in addition to simple argument parsing, we auto- complete the names of matching daemons.  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-27 22:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49318\">[49318]</a></span>: Simple bash completion script for condor_q In addition to suggesting the various flags, this has two nifty tricks: - When -allusers is set, pressing &lt;tab&gt; will suggest one of the users in the queue. - After the -name flag, pressing &lt;tab&gt; will suggest one of the schedds in the pool.  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Nov-22 07:59", "status": "resolved", "created": "2016-Sep-27 22:15", "fixed_version": "2016-Sep-27 22:15", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "bbockelm", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bbockelm@cse.unl.edu", "due_date": ""}
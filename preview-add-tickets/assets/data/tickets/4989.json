{"id": 4989, "title": "Ticket #4989: Don't open event log rotation lock file if not using event log", "description": "<blockquote>\nIn the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WriteUserLog\" title=\"Write User Log\">WriteUserLog</a></span> object, we always try to open the event log rotation lock file if the EVENT_LOG param is set, even if writing to the event log is disabled, such as in DAGMan. If the open fails, a warning is printed to the daemon log, but logging continues normally. If the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WriteUserLog\" title=\"Write User Log\">WriteUserLog</a></span> object is configured to not write to the event log, then it shouldn't try to open the rotation lock.</blockquote>", "remarks": "<blockquote>\nCODE_REVIEW: change looks good.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-07 10:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=44549\">[44549]</a></span>: Don't open event log rotation lock file if not using event log <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4989\" onclick=\"get_ticket_and_populate_wrapper('4989'); return false;\" title=\"Don't open event log rotation lock file if not using event log\">#4989</a></span> If the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WriteUserLog\" title=\"Write User Log\">WriteUserLog</a></span> object is configured to not write to the event log (like in DAGMan), then it shouldn't try to open the event log rotation lock file. The open could fail due to permissions, leading to a concerning yet harmless message\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Sep-22 10:24", "status": "resolved", "created": "2015-Apr-07 09:53", "fixed_version": "2015-Apr-07 09:53", "broken_version": "v080000", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "johnkn", "derived_from": "#4908", "creator": "jfrey", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "bbockelm@cse.unl.edu,jfrey@cs.wisc.edu", "due_date": ""}
{"id": 6702, "title": "Ticket #6702: Allow NETWORK_HOSTNAME to be an alias hostname", "description": "<blockquote>\nWhen NETWORK_HOSTNAME is set, we pass the value through getaddrinfo() to get a full canonical name. If the call fails, then get_local_hostname() is set to return the configured value and the value returned by get_local_fqdn() is uninitialized. If the call succeeds, then the values returned by get_local_hostname() and get_local_fqdn() are set based on the canonical name in the results.\n\n<p>This makes it impossible to use NETWORK_HOSTNAME to set a hostname that's a DNS CNAME (i.e. an alias hostname). The OSG wants to do precisely this to to ease relocation of glideinwms factory servers.\n\n</p><p>If NETWORK_HOSTNAME is set, then getaddrinfo() shouldn't be called at all. Instead, the short and full hostnames should be set based on the value of the parameter (using DEFAULT_DOMAIN_NAME if available and needed).</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jul-17 14:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=55182\">[55182]</a></span>: Docs for NETWORK_HOSTNAME works for alias feature. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6702\" onclick=\"get_ticket_and_populate_wrapper('6702'); return false;\" title=\"Allow NETWORK_HOSTNAME to be an alias hostname\">#6702</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-21 10:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=55092\">[55092]</a></span>: Update NETWORK_HOSTNAME config param description. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6702\" onclick=\"get_ticket_and_populate_wrapper('6702'); return false;\" title=\"Allow NETWORK_HOSTNAME to be an alias hostname\">#6702</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jun-20 16:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=55088\">[55088]</a></span>: Make NETWORK_HOSTNAME work reliably. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6702\" onclick=\"get_ticket_and_populate_wrapper('6702'); return false;\" title=\"Allow NETWORK_HOSTNAME to be an alias hostname\">#6702</a></span> NETWORK_HOSTNAME will now consistently set HTCondor's notion of the local machine's hostname, overriding the value returned by gethostname(). Before, the short and full-qualified names weren't always set correctly. And when an alias was set (e.g. a DNS CNAME),\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Jul-17 14:52", "status": "resolved", "created": "2018-Jun-20 15:25", "fixed_version": "2018-Jun-20 15:25", "broken_version": "", "priority": "3", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
{"id": 7159, "title": "Ticket #7159: Allow users to utilize the token request workflow", "description": "<blockquote>\nThe token request workflow currently requires ADMINISTRATOR access to utilize.  This was done purposely in 8.9.3 to avoid too many changes at once.\n\n<p>However, this limitation was a bit artificial - in 8.9.4, we can relax it slightly.  Instead of requiring ADMINISTRATOR authorization for all requests, additionally allow users to list/approve tokens for their own identity.\n\n</p><p>That is, if there is a request for the <code>bbockelm</code> identity, then either an administrator <em>or</em> user <code>bbockelm</code> should be allowed to approve the request.\n\n</p><p>Users can already generate their own tokens from a login session (so this isn't allowing new privileges) - but allowing them to additionally utilize the token request workflow reduces the likelihood the user copy/pastes their tokens into random places.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Jul-22 22:41:24 by bbockelm:</em> <br/>\n\nCurrent PR:\n\n<p><a class=\"external\" href=\"https://github.com/htcondor/htcondor/pull/64\">https://github.com/htcondor/htcondor/pull/64</a>\n\n</p><p></p><hr/>\n<em>2019-Jul-24 16:13:51 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good.  We should probably a get more of security-type to review, though.\n\n</p><p>NMI tests look good.\n\n</p><p></p><hr/>\n<em>2019-Jul-24 16:14:43 by tlmiller:</em> <br/>\n\nMerged and pushed.\n\n<p></p><hr/>\n<em>2019-Nov-14 14:07:43 by zmiller:</em> <br/>\n\n<strong>CODE REVIEW</strong>: Looks good.  Resolving.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Nov-14 14:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=58473\">[58473]</a></span>: Add version history for approving user token requests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7159\" onclick=\"get_ticket_and_populate_wrapper('7159'); return false;\" title=\"Allow users to utilize the token request workflow\">#7159</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jul-22 22:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=57470\">[57470]</a></span>: Allow users to approve some token requests. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7159\" onclick=\"get_ticket_and_populate_wrapper('7159'); return false;\" title=\"Allow users to utilize the token request workflow\">#7159</a></span> This allows users to approve token requests for their own identity. It is semantically equivalent to having the user generate their own token (which is currently allowed) followed by copy/pasting it to a remote machine.\u00a0[...]\n (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Nov-14 14:11", "status": "resolved", "created": "2019-Jul-22 22:37", "fixed_version": "2019-Jul-22 22:37", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "zmiller", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bbockelman@morgridge.org", "due_date": ""}
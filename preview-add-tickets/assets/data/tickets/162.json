{"id": 162, "title": "Ticket #162: startd will ignore SIGQUIT early in startup", "description": "<blockquote>\nIf the startd receives SIGQUIT from its master moments after starting up, it will silently ignore the signal.  The master will wait indefinitely for it to go away.\n\n<p>To reproduce:\n</p><ol>\n<li>Set up Condor.\n</li><li>Set \"DAEMON_LIST = MASTER, STARTD, SCHEDD, COLLECTOR, NEGOTIATOR\" (This may not be strictly necessary, but it's what I have.)\n</li><li>Turn logging up aggresively.\n</li><li>condor_master -pidfile master.pid; kill -QUIT `cat master.pid`\n</li><li>Observe that all of the daemons exit except the master and startd.  The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MasterLog\" title=\"Master Log\">MasterLog</a></span> claims to have sent SIGQUIT to everyone, including the startd, but the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartLog\" title=\"Start Log\">StartLog</a></span> says nothing about it.\n</li></ol>\n\n<p>Observed while writing a test (cmd_core_boot-script.run) that start and stop condor in rapid succession.  As a crude workaround, I'm sleeping between steps, making the test unnecessarily long.  If this is fixed, cmd_core_boot-script.run should be updated; look for \"ensure_running()\";</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Aug-23 17:07:50 by adesmet:</em> <br/>\n\nBulk change of target version from v070402 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2010-Oct-27 16:39", "status": "new", "created": "2009-Jan-29 18:04", "fixed_version": "2009-Jan-29 18:04", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
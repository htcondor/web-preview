{"id": 1425, "title": "Ticket #1425: Allow coresize to be unlimited in condor_submit", "description": "<blockquote>\nA user of Condor wanted an unlimited coresize for their job, so after discovering <span class=\"quote\">coresize = unlimited</span> in their submit file resulted in a <span class=\"quote\">coresize = 0</span> in their jobad due to the manner of atoi() in condor_submit. They tried harder and put <span class=\"quote\">+coresize = unlimited</span> into the submit file which replaced <span class=\"quote\">coresize = &lt;int&gt;</span> with <span class=\"quote\">coresize = &lt;attribute reference for a non existent attribute&gt;</span>\n\n<p>This wreaked all kinds of havoc.\n\n</p><p>For example, the admin of the schedd in question was using quill. The Quill horizontal schema assumes coresize will be present and an integer. Quill dutifully constructed an update query with coresize being very wrong, and postgress rejected it due to schema type violations. If there are thousands of jobs with this problem, then LOTS of error entries go into the error tables and quill gets very unhappy.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Jun-03 11:01:13 by gthain:</em> <br/>\n\nNote that, to the kernel, -1 is \"ulimited\".   the shell ulimit builtin maps the string \"unlimited\" to -1.\n\n<p></p><hr/>\n<em>2010-Jun-03 11:15:28 by psilord:</em> <br/>\n\nI'll run a test to see if a coresize of -1 will happily set the ulimit to unlimited.\n\n<p></p><hr/>\n<em>2010-Jun-03 11:17:20 by psilord:</em> <br/>\n\nLook at that it does work. Sweet, new feature!\n\n<p></p><hr/>\n<em>2010-Jun-03 11:22:36 by psilord:</em> <br/>\n\nI've sent a message to Karen to document it.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4155\" onclick=\"get_ticket_and_populate_wrapper('4155'); return false;\" title=\"Improve handling of coresize for jobs\">#4155</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove handling of coresize for jobs</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "", "type": "doc", "last_change": "2010-Jul-01 11:18", "status": "resolved", "created": "2010-Jun-03 10:57", "fixed_version": "2010-Jun-03 10:57", "broken_version": "v070000", "priority": "4", "subsystem": "Tools", "assigned_to": "smoler", "derived_from": "", "creator": "psilord", "rust": "a20584", "customer_group": "fermi", "visibility": "public", "notify": "psilord@cs.wisc.edu, gthain@cs.wisc.edu, smoler@cs.wisc.edu", "due_date": ""}
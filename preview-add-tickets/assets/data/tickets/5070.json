{"id": 5070, "title": "Ticket #5070: condor_ssh_to_job fails with \"Failed to get address of starter\"", "description": "<blockquote>\nCHTC is reporting intermittent problems running condor_submit -i\n\n<p>The tool fails with the error message\n\"Failed to get address of starter for this job\".\n\n</p><p>Looking at the code, the tool polls the schedd until the job is in the \"R\"unning state.  Once it is, the schedd immediately queries the address of the starter from the appropriate startd.   If the starter cannot be found, the schedd returns a fatal error. However, there is a race here -- the shadow may not have activated the claim.  If there is JOB_START_DELAY in place, the shadow may not even be running yet.\n\n</p><p>We will change this so that this error isn't an immediate fatal error, but will allow for a retry.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jun-01 10:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=44921\">[44921]</a></span>: edit 8.3.6 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5070\" title='condor_ssh_to_job fails with \"Failed to get address of starter\"'>#5070</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-28 13:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=44908\">[44908]</a></span>: Up timeout for condor_ssh_to_job for good measure <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5070\" title='condor_ssh_to_job fails with \"Failed to get address of starter\"'>#5070</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-28 11:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=44906\">[44906]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5070\" title='condor_ssh_to_job fails with \"Failed to get address of starter\"'>#5070</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-28 11:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=44905\">[44905]</a></span>: Fix race condition in condor_submit -i <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5070\" title='condor_ssh_to_job fails with \"Failed to get address of starter\"'>#5070</a></span> When the schedd is trying to find a starter to run condor_ssh_to_job, if the job is \"R\"unning, but a starter can't be found, allow the condor_ssh_to_job tool to retry automatically.  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-May-28 12:32", "status": "resolved", "created": "2015-May-28 11:54", "fixed_version": "2015-May-28 11:54", "broken_version": "v080300", "priority": "1", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "", "due_date": "20150528"}
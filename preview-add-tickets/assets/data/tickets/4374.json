{"id": 4374, "title": "Ticket #4374: Improve default configuration for v8.2.0", "description": "<blockquote>\nThe default config for v8.2.0 needs some additional work.  Looking over what we have now, ToddT and GregT came up with the following list:\n\n<p></p><ol>\n<li>CLAIM_WORKLIFE of an hour seems a bit long esp with preemption disabled by default; seems like 20 minutes seems better in absence of preemption.\n</li><li>Wouldn't it be better to disable preemption via <code>MaxJobRetirementTime</code> instead of changing <code>PREEMPTION_REQUIREMENTS</code> ? This way, the no preemption policy is honored even in the face of draining, for instance.  Also it would be easier for an admin to re-enable preemption by simply adjusting the <code>MaxJobRetirementTime</code> to whatever they want instead of messing around with a potentially complicated expression.\n</li><li><code>condor_config.annotated</code> should be released, i.e. the CMakefile should be modified to copy it into the release examples directory.  Right now it looks like the only place <code>condor_config.annotated</code> can be found is in the source code.\n</li><li>should metaknob policy always_run be enabled by default, just like the host security metaknob is?  BTW, if this metaknob, <code>MaxJobRetirementTime</code> is 0 - what does that mean?\n</li><li>should <code>preemption_rank</code> go by inverse wall clock time by default?\n</li><li>the \"uwcs\" preemption_requirements expression looks to be broken.  guessing it evaluates to undefined most of the time due to bug <span class=\"ticket\"><a class=\"defer\" href=\"tktview?tn=4369\" title=\"SubmitterUserPrio does not work in PREEMPTION_REQUIREMENTS|RANK\">#4369</a></span>\n</li><li>we should have negotiator_pre_job_rank do some local best fit with respect to cpu and memory.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-17 14:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40455\">[40455]</a></span>: documentation of <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span>: update default values of CLAIM_WORKLIFE, NEGOTIATOR_PRE_JOB_RANK and PREEMPTION_RANK defns, put version history items in right section, edit version history items. Remove version history item about improving the file with the previous configuration.  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-16 14:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40444\">[40444]</a></span>: Change PREEMPTION_RANK to consider runtime and update condor_config.annotated <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-16 13:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40442\">[40442]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-16 11:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40441\">[40441]</a></span>: Change default NEGOTIATOR_PRE_JOB_RANK to do best fit <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-16 10:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40440\">[40440]</a></span>: Set CLAIM_WORKLIFE to 1200 seconds in defaults table <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span> Note this matches the defaults in the old config files and in the code.  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-16 10:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40439\">[40439]</a></span>: Add condor_config.annotated to release directory <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4374\" title=\"Improve default configuration for v8.2.0\">#4374</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Jun-24 10:15", "status": "resolved", "created": "2014-May-22 15:07", "fixed_version": "2014-May-22 15:07", "broken_version": "", "priority": "2", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "#4281", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tannenba@cs.wisc.edu, johnkn@cs.wisc.edu", "due_date": ""}
{"id": 4528, "title": "Ticket #4528: Remove old DAGMan per-job log file code", "description": "<blockquote>\nOnce non-workflow log mode has been disabled for a revision or two, remove the code that supports it.  (This probably means no longer supporting Stork jobs.)</blockquote>", "remarks": "<blockquote>\n<em>2014-Aug-22 15:37:57 by wenger:</em> <br/>\n\nAlso see <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4550\" onclick=\"get_ticket_and_populate_wrapper('4550'); return false;\" title=\"Eliminate DAGMan support for Stork jobs\">#4550</a></span>: Eliminate DAGMan support for Stork jobs.\n\n<p></p><hr/>\n<em>2014-Dec-11 11:47:12 by wenger:</em> <br/>\n\nCreated V8_3-gittrac_4528-branch for this...\n\n<p></p><hr/>\n<em>2014-Dec-27 21:22:34 by wenger:</em> <br/>\n\nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42036\">[42036]</a></span> (I think) broke the job_dagman_rescue_recov test.\n\n<p></p><hr/>\n<em>2015-Jan-03 15:15:11 by wenger:</em> <br/>\n\nNote: don't make manual changes other than version history until Karen finishes and merges big 8.2 DAGMan section re-write.\n\n<p></p><hr/>\n<em>2015-Mar-27 16:48:05 by wenger:</em> <br/>\n\nNote that checkin <span class=\"chng\"><a href=\"chngview?cn=43747\">[43747]</a></span> is not really for this ticket, it's for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4488\" onclick=\"get_ticket_and_populate_wrapper('4488'); return false;\" title=\"Allow re-queue DAG POST jobs\">#4488</a></span> -- I didn't notice that I had the wrong ticket number until after I had pushed.  Ugh.</blockquote>", "derived_tickets": "", "attachments": "<blockquote>\n<ul>\n<li><a href=\"attach_get/866/gittrac_4528_dif\">gittrac_4528_dif</a>\n97614 bytes added by wenger on 2015-Feb-18 16:12:13 UTC.\n<br/>\nThis is a diff of everything on this branch, including merging in <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4550\" onclick=\"get_ticket_and_populate_wrapper('4550'); return false;\" title=\"Eliminate DAGMan support for Stork jobs\">#4550</a></span>, because the per-job log file code couldn't be fully taken out without that.<br/>\n</li></ul>\n</blockquote>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-18 10:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=43391\">[43391]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: Oops -- one more cleanup I forgot last time.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-17 18:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=43386\">[43386]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: Minor cleanup.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-16 17:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=43376\">[43376]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: Pretty much implemented -- just needs a little more checking and testing.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-03 16:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42083\">[42083]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: Fixed unmonitoring of log file, to avoid errors in cases like DAG parse failures; cleanup of previously commented- out code.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-28 20:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42037\">[42037]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: job_dagman_rescue_recov more aggressively gets rid of old rescue DAGs, which were goofing things up.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-23 17:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42036\">[42036]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: More progress, but some of the DAG recovery tests are now failing -- need to fix that.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-21 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42031\">[42031]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: Changed from per-node log file monitoring to a single monitor and unmonitor call for the workflow log file.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-19 15:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41989\">[41989]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4528\" onclick=\"get_ticket_and_populate_wrapper('4528'); return false;\" title=\"Remove old DAGMan per-job log file code\">#4528</a></span>: First phase of this (includes merge of what I've done so far for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4550\" onclick=\"get_ticket_and_populate_wrapper('4550'); return false;\" title=\"Eliminate DAGMan support for Stork jobs\">#4550</a></span>).  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Oct-12 16:15", "status": "resolved", "created": "2014-Aug-11 17:07", "fixed_version": "2014-Aug-11 17:07", "broken_version": "v080300", "priority": "4", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "#3994", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, zmiller@cs.wisc.edu", "due_date": ""}
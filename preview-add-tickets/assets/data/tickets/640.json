{"id": 640, "title": "Ticket #640: condor_config_val -set is broken", "description": "<blockquote>\nIt seems <code>-set</code> and <code>-rset</code> are broken in terms of <code>condor_config_val</code>. Since it appears to have been that way a very long time and no one has complained until now, maybe this functionality should be removed? I can also see situations where admins forget the used those features and get very confused about why their pool isn't behaving the way they expect as defined in the <code>condor_config</code> file.</blockquote>", "remarks": "<blockquote>\n<em>2009-Jul-27 15:32:04 by matt:</em> <br/>\n\nUmm...\n\n<p></p><div class=\"verbatim\">\n<pre>$ condor_version\n$CondorVersion: 7.3.2 Jun  8 2009 BuildID: RH-7.3.2-0.2.el5 PRE-RELEASE-UWCS $\n$CondorPlatform: X86_64-LINUX_RHEL5 $\n\n$ tail ~condor/condor_config.local\nENABLE_RUNTIME_CONFIG = TRUE\nHOSTALLOW_CONFIG = *.lab.bos.redhat.com\nSETTABLE_ATTRS_CONFIG = MF_*\n\n$ condor_config_val -master MF_A\nNot defined\n\n$ condor_config_val -rset -master \"MF_A=100\"\nSuccessfully set configuration \"MF_A=100\" on master mrg29.lab.bos.redhat.com &lt;10.16.44.234:51247&gt;.\n\n$ condor_reconfig -master\nSent \"Reconfig\" command to local master\n\n$ condor_config_val -master MF_A\n100\n</pre></div>\n\n\n<p>Was a reconfig not done?\n\n</p><p></p><hr/>\n<em>2009-Jul-27 15:34:42 by matt:</em> <br/>\n\nBTW, the need for a reconfig is discussed a few places in the manual, including the man page for condor_config_val -- it might not be flashing enough though.\n\n<p><a class=\"external\" href=\"http://www.cs.wisc.edu/condor/manual/v7.3/condor_config_val.html\">http://www.cs.wisc.edu/condor/manual/v7.3/condor_config_val.html</a>\n\n</p><p></p><hr/>\n<em>2009-Jul-27 16:01:06 by psilord:</em> <br/>\n\nWhere did you find in the manual you had to set SETTABLE_ATTRS in order to make this work?\n\n<p></p><hr/>\n<em>2009-Jul-27 16:41:05 by matt:</em> <br/>\n\n<a class=\"external\" href=\"http://www.cs.wisc.edu/condor/manual/v7.3/3_6Security.html#SECTION00469000000000000000\">http://www.cs.wisc.edu/condor/manual/v7.3/3_6Security.html#SECTION00469000000000000000</a>\n\n<p></p><hr/>\n<em>2009-Jul-28 10:54:24 by psilord:</em> <br/>\n\nIndeed, I tested it like how Matt explained, and it worked.\n\n<p></p><hr/>\n<em>2009-Jul-28 12:08:22 by smoler:</em> <br/>\n\nIn the manual, extra links from the condor_config_val man page have been added, noting the config knobs that must be set for -set and -rset to work.  This will show in the 7.2.5 release and future 7.3.x releases.\n\n<p></p><hr/>\n<em>2009-Jul-28 13:36:15 by psilord:</em> <br/>\n\nThanks! Resolving Ticket.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "incident", "last_change": "2010-Jan-31 08:36", "status": "resolved", "created": "2009-Jul-27 10:50", "fixed_version": "2009-Jul-27 10:50", "broken_version": "v070001", "priority": "3", "subsystem": "Tools", "assigned_to": "psilord", "derived_from": "", "creator": "psilord", "rust": "s7819", "customer_group": "other", "visibility": "public", "notify": "psilord@cs.wisc.edu", "due_date": ""}
{"id": 2070, "title": "Ticket #2070: condor-reconfig changing slot type count = crash", "description": "<blockquote>\nI implemented a policy like this.  Dan B. and I tested it on a personal condor.\n\n<p></p><div class=\"code\">\n<pre class=\"code\">SLOT_TYPE_1 = mem=5%\nSLOT_TYPE_2 = mem=auto\nSLOT_TYPE_3 = mem=6.25%\nSLOT_TYPE_4 = mem=auto\nNUM_SLOTS_TYPE_1 = ifThenElse($(DETECTED_MEMORY)&lt;=(33*1024), 10, 0)\nNUM_SLOTS_TYPE_2 = ifThenElse($(DETECTED_MEMORY)&lt;=(33*1024), 2, 0)\nNUM_SLOTS_TYPE_3 = ifThenElse($(DETECTED_MEMORY)&gt;(33*1024), 10, 0)\nNUM_SLOTS_TYPE_4 = ifThenElse($(DETECTED_MEMORY)&gt;(33*1024), 2, 0)\n</pre></div>\n\n\n<p>We tried varying the number of the types of slots.  To our surprise we were able to do a condor_reconfig and the startd spawned new slots.  On the other hand, we started with 2 slots (from 2 types), moved to 1 slot from 1 type and then tried increasing to 3 slots from 3 types.  At this point the startd crashed.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2011-Oct-19 11:12", "status": "new", "created": "2011-Apr-19 13:24", "fixed_version": "2011-Apr-19 13:24", "broken_version": "v070600", "priority": "2", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "khahn", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "khahn@cs.wisc.edu", "due_date": ""}
{"id": 6211, "title": "Ticket #6211: Minor problems with Bosco", "description": "<blockquote>\nTwo minor issues.\n\n<p>First, when you set it up, the bosco_quickstart says that it's setting up pbs instead of slurm, which could be confusing:\n</p><div class=\"code\">\n<pre class=\"code\">Type the submit host name for the BOSCO resource and press [ENTER]: fermicloud382.fnal.gov\nType your username on fermicloud382.fnal.gov (default sthapa) and press [ENTER]: sthapa\nType the queue manager for fermicloud382.fnal.gov (pbs, condor, lsf, sge, slurm) and press [ENTER]: slurm\nConnecting fermicloud382.fnal.gov, user: sthapa, queue manager: pbs\n</pre></div>\n\nThis apparently carries into the logs as well.\n\n<p>Second, bosco_setenv seems to have an issue on the fermicloud machines, maybe others:\n</p><div class=\"code\">\n<pre class=\"code\">[fermicloud388] test &gt; source ~/bosco/bosco_setenv\n-bash: PYTHONPATH: unbound variable\n</pre></div>\n\nthe error didn't prevent me from running jobs so it's probably superficial, e.g. check for PYTHONPATH and don't try to set it if it's not set or something\nhmm, looks like this bit of code needs to be changed:\n<div class=\"code\">\n<pre class=\"code\">PYTHONPATH=\"/cloud/login/sthapa/bosco/lib/python:$PYTHONPATH\"\nexport PYTHONPATH\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2017-Apr-04 15:12:10 by jfrey:</em> <br/>\n\nThe first issue was missed in ticket <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6106\" title=\"bosco installation doesn't support slurm\">#6106</a></span>.\nThe second issue stems from ticket <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4993\" title=\"condor tarballs: condor.sh / condor.csh should set PYTHONPATH\">#4993</a></span> and is not specific to bosco.\n\n<p></p><hr/>\n<em>2017-Apr-13 10:40:30 by tim:</em> <br/>\n\n<strong>CODE REVIEW:</strong> These changes fit the bill.\n\n<p></p><hr/>\n<em>2017-Apr-20 10:29:15 by tim:</em> <br/>\n\n<strong>DOC REVIEW:</strong> OK</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-19 09:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=50508\">[50508]</a></span>: Docs for minor Bosco bug fixes. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6211\" title=\"Minor problems with Bosco\">#6211</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-04 15:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=50411\">[50411]</a></span>: Fix modification of PYTHONPATH when it's not already set. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6211\" title=\"Minor problems with Bosco\">#6211</a></span> If PYTHONPATH isn't already set, just set it to the path we want to add. Otherwise, the value will have an extra colon and bash will throw errors when 'set -u' is enabled.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-04 15:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=50412\">[50412]</a></span>: Recognize full slurm support in bosco_quickstart. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6211\" title=\"Minor problems with Bosco\">#6211</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-04 15:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=50413\">[50413]</a></span>: Fix grammar error in bosco_findplatform. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6211\" title=\"Minor problems with Bosco\">#6211</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Apr-20 10:29", "status": "resolved", "created": "2017-Mar-31 16:25", "fixed_version": "2017-Mar-31 16:25", "broken_version": "v080601", "priority": "2", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
{"id": 6669, "title": "Ticket #6669: Boinc jobs omitted from batched submission to boinc server", "description": "<blockquote>\nIn the gridmanager, grid-type boinc jobs are batched together into large groups for submission to the Boinc server. A missing status update on a batch of jobs is allowing jobs to be added to a batch after submission to the server was started. Thus, the jobs are treated as part of the batch by the gridmanager, but they aren't sent to the Boinc server. The jobs remain idle and never submitted to Boinc.</blockquote>", "remarks": "<blockquote>\n<em>2018-May-03 15:37:33 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good.  Only one code path is enabled by actually using the Submitting state, and it just returns the same value a little earlier, so that should be OK.  The other code path is in a negation of another value of the enum, and Jaime has confidence in the try-it-again-later path.  Even if that's buggy, it's less wrong than what we're doing now.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-May-04 12:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=54842\">[54842]</a></span>: copy version history blurb for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6669\" onclick=\"get_ticket_and_populate_wrapper('6669'); return false;\" title=\"Boinc jobs omitted from batched submission to boinc server\">#6669</a></span> into the 8.6.11 release branch  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-May-03 15:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=54834\">[54834]</a></span>: Prevent jobs joining a boinc batch that's being submitted. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6669\" onclick=\"get_ticket_and_populate_wrapper('6669'); return false;\" title=\"Boinc jobs omitted from batched submission to boinc server\">#6669</a></span> When the gridmanager sends a batch submission request to the gahp, mark that batch as status <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=BatchSubmitting\" title=\"Batch Submitting\">BatchSubmitting</a></span>. This prevents jobs from being added to the batch, as they won't be sent to the boinc server.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-May-03 15:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=54835\">[54835]</a></span>: Docs for boinc job not submitted bug fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6669\" onclick=\"get_ticket_and_populate_wrapper('6669'); return false;\" title=\"Boinc jobs omitted from batched submission to boinc server\">#6669</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2018-May-03 15:37", "status": "resolved", "created": "2018-May-03 14:52", "fixed_version": "2018-May-03 14:52", "broken_version": "", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "cern", "visibility": "public", "notify": "", "due_date": ""}
{"id": 7065, "title": "Ticket #7065: Allow Submit object to be assigned non-strings", "description": "<blockquote>\nCurrently, Submit objects must be assigned strings, as in:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">sub[\"foo\"] = \"1\"\n</pre></div>\n\n\n<p>We should convert to string when this can be done cleanly.  Example:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">sub[\"foo\"] = 1\n</pre></div>\n\n\n<p>Further, there should be special cases for assigning <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> and Expressions:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">sub[\"MY.foo\"] = classad.ExprTree(\"A &lt; B\")\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2019-May-22 13:31:39 by johnkn:</em> <br/>\n\nnote: when setting sub[\"My.attr\"] or sub[\"+attr\"] from an expression. we should unparse the expression rather than tostring(), so that strings end up double-quoted and properly escaped.\n\n<p></p><hr/>\n<em>2019-Jul-10 11:47:39 by karpel:</em> <br/>\n\nBrianB - is this ready to go into 8.9.3? Needs docs if so. I can probably write them if you're busy, just need a brief discussion to clarify what's possible now.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=7803\" onclick=\"get_ticket_and_populate_wrapper('7803'); return false;\" title=\"htcondor.Submit segfaults if a submit descriptor value is None\">#7803</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nhtcondor.Submit segfaults if a submit descriptor value is None</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-02 09:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=57555\">[57555]</a></span>: Add release notes for accepting more object types. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7065\" onclick=\"get_ticket_and_populate_wrapper('7065'); return false;\" title=\"Allow Submit object to be assigned non-strings\">#7065</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-22 14:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=56943\">[56943]</a></span>: Allow submit object to be assigned non-strings. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7065\" onclick=\"get_ticket_and_populate_wrapper('7065'); return false;\" title=\"Allow Submit object to be assigned non-strings\">#7065</a></span> Currently, Submit objects must be assigned strings, as in:\u00a0[...]\n (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Aug-02 09:48", "status": "resolved", "created": "2019-May-22 13:23", "fixed_version": "2019-May-22 13:23", "broken_version": "", "priority": "4", "subsystem": "PythonBinding", "assigned_to": "bbockelm", "derived_from": "#7063", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "karpel@wisc.edu, bbockelman@morgridge.org", "due_date": ""}
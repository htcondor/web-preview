{"id": 4595, "title": "Ticket #4595: Add DC stats for fsync, DNS & prio-rec array runtime", "description": "<blockquote>\nIn order to performance tune the HTCondor daemons, it would be useful to have statistics counters showing the runtime spent on fsync, DNS lookups, and rebuilding the prio-rec array, in fact, in the SCHEDD each time we walk the job queue, there should be a runtime counter for that walker.\n\n<p>This should be full min/max/avg/std counters for runtime. fsync &amp; DNS will be part of the DC statistics set,  the SCHEDD runtime counters will be part of the SCHEDD statistics set.</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Sep-30 16:07:58 by johnkn:</em> <br/>\n\n<span class=\"chng\"><a href=\"chngview?cn=41189\">[41189]</a></span> adds DC statistics DCfsync, DCfsyncRuntime.  and DCNameResolve, DCNameResolveRuntime.  Also the stats ending with Runtime above, also have Min,Max,Avg &amp; Std values as well.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-22 14:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42013\">[42013]</a></span>: minor formatting change for 8.3.2 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Dec-22 10:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42001\">[42001]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4645\" title=\"Stats publication should be configurable using a whitelist\">#4645</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4593\" title=\"Use Miron probes for DC runtime statistics\">#4593</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4660\" title=\"Add sub-second accurate timestamps to dprintf logs\">#4660</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-24 15:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41749\">[41749]</a></span>: fix whitespace errors in <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span>, convert procd to use _condor_debug_get_time_double() for timing rather than a hand-rolled timer function.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Oct-01 11:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41296\">[41296]</a></span>: remove extraneous carriage returns from previous commit to <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-30 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41274\">[41274]</a></span>: for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span>, add SCHEDD stats for the count, and runtime for each time we walk the job queue This patch renames the SCBuildPrioRec stat to be more consistent with the new stats and refactors the holding structure for the various Job stats to enable easier addition of future schedd stats. This patch also\u00a0[...]\n (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Sep-18 09:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=41189\">[41189]</a></span>: New runtime statistics DCfsync, DCNameResolve &amp; SCBuildPrioRec <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=4595\" title=\"Add DC stats for fsync, DNS &amp; prio-rec array runtime\">#4595</a></span> each of these have count of calls as well as runtime sum,min,max,avg,std ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Dec-23 16:31", "status": "resolved", "created": "2014-Sep-17 14:25", "fixed_version": "2014-Sep-17 14:25", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "johnkn", "derived_from": "#4447", "creator": "johnkn", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
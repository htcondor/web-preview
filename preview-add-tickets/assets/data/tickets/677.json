{"id": 677, "title": "Ticket #677: Grand unified param() breaks subsys.local.param and local.param", "description": "<blockquote>\nIt looks like the \"grand unified configuration\" / param work breaks the local configuration priorities.  For example:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">FOO       = abc\nLOCAL.FOO = def\n</pre></div>\n\n\n<p>When MYDAEMON, started with \"-local-name LOCAL\", when the daemon params for FOO, it gets \"abc\", not \"def\"</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Aug-19 16:48:06 by psilord:</em> <br/>\n\nFirst thing that needs to happen is a test written into the test suite which tests this code path. :)\n\n<p></p><hr/>\n<em>2009-Sep-18 16:48:39 by psilord:</em> <br/>\n\nI see why it breaks, I have to think about the fix a little bit.\n\n<p></p><hr/>\n<em>2009-Nov-04 16:07:22 by psilord:</em> <br/>\n\nDeferring this for now until we work on it for 7.5.\n\n<p></p><hr/>\n<em>2010-Jan-04 13:41:29 by nleroy:</em> <br/>\n\nI just stumbled upon this again.  This <strong>is</strong> a regession from 7.2.\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2011-Feb-16 19:05:34 by psilord:</em> <br/>\n\nOk, I've fixed this code and it was reviewed by gthain. I also added <code>-local-name</code> to <code>condor_config_val</code> so you can lookup values with a local name.\n\n<p>The debug and locality information is a bit messed up if you define scoped\nthings in the default param table concerning the <code>extra_info</code> hash table.\nIt can be fixed later.\n\n</p><p></p><hr/>\n<em>2011-Feb-16 19:18:46 by psilord:</em> <br/>\n\nThe code is in, but I have to document it in the manual, hence this ticket is left open.\n\n<p></p><hr/>\n<em>2011-Mar-30 10:52:07 by psilord:</em> <br/>\n\nIt seems I must have done this, since I found some of it in the version history.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-18 11:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20541\">[20541]</a></span>: ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=677\" title=\"Grand unified param() breaks subsys.local.param and local.param\">#677</a></span> ===VersionHistory=== Condor in the 7.5.0 to 7.5.5 version range failed to implement the \"local name\" functionality properly. This was a regression from the Condor 7.4 series. It is now fixed and the local name functionality has been restored.\u00a0[...]\n (By Peter Keller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-18 11:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20540\">[20540]</a></span>: ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=677\" title=\"Grand unified param() breaks subsys.local.param and local.param\">#677</a></span> ===VersionHistory=== Added a -local-name command line flag to condor_config_val to inspect the values of attributes that use local names.  (By Peter Keller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-16 19:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20519\">[20519]</a></span>: ===GT:Fixed=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=677\" title=\"Grand unified param() breaks subsys.local.param and local.param\">#677</a></span> ===VersionHistory=== Condor in the 7.5.0 to 7.5.5 version range failed to implement the \"local name\" functionality properly. This was a regression from the Condor 7.4 series. It is now fixed and the local name functionality has been restored.\u00a0[...]\n (By Peter Keller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Feb-16 19:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=20518\">[20518]</a></span>: ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=677\" title=\"Grand unified param() breaks subsys.local.param and local.param\">#677</a></span> ===VersionHistory=== Added a -local-name command line flag to condor_config_val to inspect the values of attributes that use local names.  (By Peter Keller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Oct-19 11:07", "status": "resolved", "created": "2009-Aug-19 16:13", "fixed_version": "2009-Aug-19 16:13", "broken_version": "v070500", "priority": "4", "subsystem": "Libs", "assigned_to": "psilord", "derived_from": "#123", "creator": "nleroy", "rust": "", "customer_group": "other", "visibility": "public", "notify": "psilord@cs.wisc.edu", "due_date": "20100518"}
{"id": 7016, "title": "Ticket #7016: Fix job run counts in grid universe and job router", "description": "<blockquote>\nThe grid universe and the job router don't properly update all of the job run count attributes in the job ad. In the worst case (HTCondor-CE in front of a non-HTCondor cluster), no count of job starts is incremented in the original job ad.\n\n<p>There are other job runtime attributes that Condor-C and the Job Router should probably propagate back as well.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-May-15 11:09:01 by tlmiller:</em> <br/>\n\n<strong>Code  Review</strong>\n\n<p>Looks good to me.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-May-15 11:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=56885\">[56885]</a></span>: Docs for job run count fixes for grid and job router. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7016\" onclick=\"get_ticket_and_populate_wrapper('7016'); return false;\" title=\"Fix job run counts in grid universe and job router\">#7016</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Apr-25 15:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=56705\">[56705]</a></span>: Harmonize job attributes set by gridmanager and job router. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7016\" onclick=\"get_ticket_and_populate_wrapper('7016'); return false;\" title=\"Fix job run counts in grid universe and job router\">#7016</a></span> Job attributes propagated for grid-type condor jobs and the job router are now the same. Most notably, the job router now updates <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NumJobStarts\" title=\"Num Job Starts\">NumJobStarts</a></span>. For other grid-types, the gridmanager now updates <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobRunCount\" title=\"Job Run Count\">JobRunCount</a></span> in addition to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NumJobStarts\" title=\"Num Job Starts\">NumJobStarts</a></span>.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-May-17 10:15", "status": "resolved", "created": "2019-Apr-25 12:05", "fixed_version": "2019-Apr-25 12:05", "broken_version": "", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "atlas", "visibility": "public", "notify": "", "due_date": ""}
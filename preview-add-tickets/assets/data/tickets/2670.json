{"id": 2670, "title": "Ticket #2670: Support any batch system that blahp supports without code changes", "description": "<blockquote>\nCurrently, grid universe jobs handled by the blahp specify the destination batch type as the grid_resource, like so:\n<div class=\"code\">\n<pre class=\"code\">grid_resource = pbs\n</pre></div>\n\n\n<p>So, to handle a new batch system type, the blahp, condor_submit, and condor_gridmanager must be updated. It would be nice if new job types could be supported by just updating the blahp. An administrator could swap out the blahp that comes with Condor for one from glite that may have additional capabilities.\n\n</p><p>To support this, we can add a new 'batch' grid-type. The batch system type would be provided as the second argument in grid_resource:\n</p><div class=\"code\">\n<pre class=\"code\">grid_resource = batch pbs\n</pre></div>\n\n\n<p>The existing grid-types of 'pbs', 'lsf', and 'sge' would still be supported and may even remain the recommended syntax.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-May-29 07:29:06 by bbockelm:</em> <br/>\n\nHi Jaime,\n\n<p>For the 7.9 release series, would it make sense to have BATCH_GAHP override the specific GAHP (such as PBS_GAHP)?\n\n</p><p>Otherwise, to really use this, I need to set:\n\n</p><p></p><div class=\"verbatim\">\n<pre>BATCH_GAHP=/foo/bar\nPBS_GAHP=$(BATCH_GAHP)\nLSF_GAHP=$(BATCH_GAHP)\n...\n</pre></div>\n\n\n<p>for every blahp GAHP variant that is defined by default.\n\n</p><p></p><hr/>\n<em>2012-May-31 14:17:48 by jfrey:</em> <br/>\n\nIn Condor 7.8 and 7.9, PBS_GAHP and LSF_GAHP have no default value and don't appear in the config file that we distribute. So you can set just BATCH_GAHP and remove all mention of PBS_GAHP and LSF_GAHP from your config file.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3041\" title=\"Support any batch system that blahp supports, part 2\">#3041</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nSupport any batch system that blahp supports, part 2</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3364\" title=\"Don't lookup CONDOR_GAHP when using grid-type batch\">#3364</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDon't lookup CONDOR_GAHP when using grid-type batch</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-12 09:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32273\">[32273]</a></span>: Put in 7.8.1, completion of documentation that should have been in 7.7.6 surrounding new grid type of batch. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2670\" title=\"Support any batch system that blahp supports without code changes\">#2670</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-05 14:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32194\">[32194]</a></span>: Use BATCH_GAHP instead of PBS/LSF/SGE_GAHP in the docs. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2670\" title=\"Support any batch system that blahp supports without code changes\">#2670</a></span> BATCH_GAHP was added in 7.7.6. The older parameters still work, but we want to eliminate their use.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Nov-28 13:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=28454\">[28454]</a></span>: Add new parameter BATCH_GAHP. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2670\" title=\"Support any batch system that blahp supports without code changes\">#2670</a></span> This parameter specifies the path of the batch_gahp, to be used for all blahp-based jobs. Parameters PBS_GAHP and friends will override for their specific batch types. This lets us support new batch types with the blahp without any changes to the config file.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Nov-28 11:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=28453\">[28453]</a></span>: Support any batch system that blahp supports without code changes. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2670\" title=\"Support any batch system that blahp supports without code changes\">#2670</a></span> Add new grid-type 'batch' for the grid universe, which indicates the blahp is to be used. In the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GridResource\" title=\"Grid Resource\">GridResource</a></span> attribute, the second field specifies the batch system type (pbs, lsf, etc).\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Jun-05 14:24", "status": "resolved", "created": "2011-Nov-28 11:24", "fixed_version": "2011-Nov-28 11:24", "broken_version": "v070600", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#2421", "creator": "jfrey", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "", "due_date": ""}
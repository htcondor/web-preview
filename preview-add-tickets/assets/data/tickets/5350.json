{"id": 5350, "title": "Ticket #5350: Combination of node retries with parallel jobs can goof up DAGMan", "description": "<blockquote>\nSee the code in Dag::ProcessJobProcEnd().</blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-28 12:54:12 by wenger:</em> <br/>\n\nSee job_dagman_parallel_retry.dag (committed on V8_4-branch).  (This needs to be expanded into a full test -- see <span class=\"ticket\"><a class=\"defer\" href=\"tktview?tn=664\" title=\"Create a multi-job cluster DAGMan test\">#664</a></span>.)\n\n<p></p><hr/>\n<em>2016-Nov-09 16:49:41 by wenger:</em> <br/>\n\nI'm going to mark this as abandoned because it's essentially a duplicate of <span class=\"ticket\"><a class=\"stalled\" href=\"tktview?tn=5370\" title=\"Parallel jobs with retries cause DAGMan to hang\">#5370</a></span>, which already has some code changes on a branch...</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Nov-13 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=46256\">[46256]</a></span>: Gittrac <span class=\"ticket\"><a class=\"defer\" href=\"tktview?tn=5299\" title=\"Schedd doesn't correctly write nodes.log file for local universe jobs\">#5299</a></span>, <span class=\"ticket\"><a class=\"abandoned\" href=\"tktview?tn=5350\" title=\"Combination of node retries with parallel jobs can goof up DAGMan\">#5350</a></span>: Documented these in the 8.4.2 version history. Also fixed some unrelated typos in the version history.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-28 12:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=46127\">[46127]</a></span>: Gittrac <span class=\"ticket\"><a class=\"abandoned\" href=\"tktview?tn=5350\" title=\"Combination of node retries with parallel jobs can goof up DAGMan\">#5350</a></span>: Created a DAG that demonstrates problem with parallel job/retry combination.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Nov-09 16:49", "status": "abandoned", "created": "2015-Oct-28 12:49", "fixed_version": "2015-Oct-28 12:49", "broken_version": "v080400", "priority": "2", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, zmiller@cs.wisc.edu", "due_date": ""}
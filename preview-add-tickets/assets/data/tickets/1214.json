{"id": 1214, "title": "Ticket #1214: Clean up batch_test.pl", "description": "<blockquote>\nDo some general cleanup of batch_test.pl; its accumulated a lot of cruft.  Move to using Getopt::Long instead of hand-rolling argument parsing, reduce use of global variables (possibly moving to having a \"main\" function to help identify it), weed out dead code paths (--debug, for example), collect duplicate code (if($hush))</blockquote>", "remarks": "<blockquote>\n(Test edit. Ignore.)\n<hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:46:04 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:01:00 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1224\" onclick=\"get_ticket_and_populate_wrapper('1224'); return false;\" title=\"Remove -xml option from batch_test.pl\">#1224</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRemove -xml option from batch_test.pl</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1240\" onclick=\"get_ticket_and_populate_wrapper('1240'); return false;\" title=\"Unify child reaping code in batch_test.pl\">#1240</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nUnify child reaping code in batch_test.pl</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-12 15:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17981\">[17981]</a></span>: Revert revert, reintroducing batch test work. (<span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=1153\" onclick=\"get_ticket_and_populate_wrapper('1153'); return false;\" title=\"per-test-run subdir / allow repeated runs of batch_test.pl\">#1153</a></span>) Per-test-run subdirectories. Many tests are blacklisted, as they cannot run this way without further work. (<span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=1214\" onclick=\"get_ticket_and_populate_wrapper('1214'); return false;\" title=\"Clean up batch_test.pl\">#1214</a></span>) Also some cleanup of batch_test.pl. Removed dead -xml code, unified duplicated code, largely remove global variables, simplify multi-print\u00a0[...]\n (By Alan De Smet )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-May-10 17:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17965\">[17965]</a></span>: (<span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=1153\" onclick=\"get_ticket_and_populate_wrapper('1153'); return false;\" title=\"per-test-run subdir / allow repeated runs of batch_test.pl\">#1153</a></span>) Per-test-run subdirectories. Many tests are blacklisted, as they cannot run this way without further work. (<span class=\"ticket\"><a class=\"stalled\" href=\"/tickets?ticket=1214\" onclick=\"get_ticket_and_populate_wrapper('1214'); return false;\" title=\"Clean up batch_test.pl\">#1214</a></span>) Also some cleanup of batch_test.pl. Removed dead -xml code, unified duplicated code, largely remove global variables, simplify multi-print blocks, simplified options parsing  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Aug-15 11:13", "status": "stalled", "created": "2010-Feb-12 16:59", "fixed_version": "2010-Feb-12 16:59", "broken_version": "v070500", "priority": "4", "subsystem": "Tests", "assigned_to": "adesmet", "derived_from": "#1153", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
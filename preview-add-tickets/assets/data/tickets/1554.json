{"id": 1554, "title": "Ticket #1554: Priv-Sep and VM Universe don't work well together", "description": "<blockquote>\nCondor's privilege-separation code and VM universe don't work well together. In the VM universe, Condor modifies the job's files in the execute directory at several points before and after execution. In other universes, Condor generally doesn't touch the files besides transferring them. This makes the vm universe more sensitive to file ownership and permissions.\n\n<p>We've identified several occasions during job execution where Condor's interactions with job files fail for vm jobs:\n</p><ul>\n<li>The starter fails to open a recovery file that helps it to clean up vm jobs after a crash of Condor.\n</li><li>The attempt to stop a vm via the standard interface fails because the vm description file can't be opened.\n</li><li>Creation of a CD-ROM image containing input files fails due to permissions.\n</li><li>Unregistering a vm image fails due to file permissions on the .vmx file.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1611\" onclick=\"get_ticket_and_populate_wrapper('1611'); return false;\" title=\"VM gahp invoking priv-sep switchboard without full pathname\">#1611</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nVM gahp invoking priv-sep switchboard without full pathname</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1612\" onclick=\"get_ticket_and_populate_wrapper('1612'); return false;\" title=\"VM gahp invokes scripts as wrong user with priv-sep\">#1612</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nVM gahp invokes scripts as wrong user with priv-sep</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2010-Dec-01 15:26", "status": "new", "created": "2010-Aug-03 14:51", "fixed_version": "2010-Aug-03 14:51", "broken_version": "v070400", "priority": "4", "subsystem": "VM", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "batlab", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
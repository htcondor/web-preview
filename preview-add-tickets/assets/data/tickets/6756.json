{"id": 6756, "title": "Ticket #6756: Python test framework improvements", "description": "<blockquote>\n<ul>\n<li>Rename <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorJob\" title=\"Condor Job\">CondorJob</a></span> to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorCluster\" title=\"Condor Cluster\">CondorCluster</a></span>, which better reflect reality.\n</li><li>Change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorTest\" title=\"Condor Test\">CondorTest</a></span> from cleaning up personal condors when destroyed to cleaning them up via an atexit handler.  This cleans up the person condor in more cases.\n</li><li>Split personal condor clean up into two phases so that we can wait for more than one personal condor to shut down simultaneously (and so, in the atexit handler).\n</li><li>Make <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorTest\" title=\"Condor Test\">CondorTest</a></span> a static class to prevent test writers from making more than one.\n</li><li>Trap sys.exit so that the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorTest\" title=\"Condor Test\">CondorTest</a></span> atexit handler can also alter the exit code if necessary (e.g., a registered test failed).\n</li><li>Generally carry the personal condor's schedd around with us.  This should make tests with multiple personal condors much less painful.\n</li><li>Add event memory to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorCluster\" title=\"Condor Cluster\">CondorCluster</a></span>.</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2018-Sep-11 15:40:46 by tlmiller:</em> <br/>\n\nNot sure that code that's not shipped to end-users should be classified as 'enhance', now that I think about it....</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Sep-11 15:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=55394\">[55394]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6756\" title=\"Python test framework improvements\">#6756</a></span>) Further improvements to the pytest framework.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Oct-04 09:37", "status": "resolved", "created": "2018-Sep-10 11:14", "fixed_version": "2018-Sep-10 11:14", "broken_version": "", "priority": "2", "subsystem": "Tests", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
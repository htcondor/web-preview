{"id": 1132, "title": "Ticket #1132: _CONDOR_SLOT evironment variable always 1 with hooks", "description": "<blockquote>\nOn 01/22/2010 11:38 AM, Ian Chesal wrote:\n&gt; Anyone else using hooks notice this? The _CONDOR_SLOTID environment\n&gt; variable in my hook jobs seems to always be set to 1 no matter which\n&gt; slot a job runs in on the machine.\n&gt;\n&gt; - Ian\n\n<p>matt then discovered this chunk of creepy code:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">      // slot identifier\n   env_name = base.Value();\n   env_name += \"SLOT\";\n   int slot = getMySlotNumber();\n   if (!slot) {\n      slot = 1;\n   }\n   proc_env-&gt;SetEnv(env_name.Value(), slot);\n\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2010-Jan-22 16:37:45 by matt:</em> <br/>\n\nThe code in getMySlotNumber actually exists in a few places in the source, grep for STARTER_LOG\n<hr/>\n<em>2010-Aug-23 17:07:50 by adesmet:</em> <br/>\n\nBulk change of target version from v070402 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2012-Oct-17 12:15", "status": "new", "created": "2010-Jan-22 16:27", "fixed_version": "2010-Jan-22 16:27", "broken_version": "v070400", "priority": "2", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "zmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
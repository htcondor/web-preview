{"id": 7190, "title": "Ticket #7190: Bad messages from condor_submit -i", "description": "<blockquote>\n<div class=\"snip\">\n<pre class=\"sniplabel\">Episode 3</pre>\n<pre class=\"snip\">HTCondor tells you you\u2019re \u201crejected\u201d if it\u2019s still setting up your interactive\njob.  (Could it, rather, say something like \u201csetting up your job environment\u201d ?)\n</pre></div>\n\n\n<p>The starter already explicitly informs the client if it makes sense to retry a failed attempt; the client does retry if it's <code>condor_submit -i</code> or <code>condor_ssh_to_job -auto-retry</code>, but doesn't otherwise.  I therefore propose that we only make changes on the client side, where HTCondor only prints an error message from the starter if it causes the tool to exit (or the debug flag is set).\n\n</p><p></p><ul>\n<li>Polled the RCFs to determine if we should print something explicit on failure (not just the error message) and/or something explicit on retry (e.g., \"please keep waiting\").\n<ul>\n<li>Christina thought 'no' on retries (since the users are already expecting\n       to wait for a while), but suggests either better failure messages or\n       prefixing the failure messages with a good explanation about the result.\n</li><li>Lauren thought that a single message -- e.g., 'HTCondor is still\n       preparing the job environment, please wait' -- was better than\n       suppressing all warnings, to reassure the user that the tool hadn't\n       hung.  Mat agreed.  Jim pointed out that condor_ssh_to_job should have\n       (and it might already) a -q option to make scripting easier.\n</li><li>Lauren also doesn't want an explicit/extra failure message, but to\n       make the existing ones more useful/readable.</li></ul>\n</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2019-Aug-06 12:16:11 by tlmiller:</em> <br/>\n\n<ul>\n<li>Does this need a version history item?\n</li><li>The new behavior of -debug should be mentioned.\n</li></ul>\n\n<p></p><hr/>\n<em>2019-Aug-19 13:03:47 by tlmiller:</em> <br/>\n\nAction item:\n<ul>\n<li>Revert the current patch.  Attempt to generate some consensus.\n</li></ul>\n\n<p></p><hr/>\n<em>2019-Oct-08 15:55:23 by tlmiller:</em> <br/>\n\nOn further consideration, we'll leave the current patch in and see if anybody complains.\n\n<p></p><hr/>\n<em>2019-Oct-08 17:38:03 by tlmiller:</em> <br/>\n\nAs far as I can tell, we don't document the behavior of <code>condor_submit -i</code> in enough detail for this to warrant a release note.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Aug-03 20:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=57577\">[57577]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7190\" title=\"Bad messages from condor_submit -i\">#7190</a></span>) condor_submit -i / condor_ssh_to_job now only print permanent errors from the starter (unless -debug is passed). Also, condor_submit -debug -i now passed the -debug flag to condor_ssh_to_job.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2019-Oct-11 00:09", "status": "resolved", "created": "2019-Aug-06 12:14", "fixed_version": "2019-Aug-06 12:14", "broken_version": "", "priority": "2", "subsystem": "Tools", "assigned_to": "tlmiller", "derived_from": "#7158", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
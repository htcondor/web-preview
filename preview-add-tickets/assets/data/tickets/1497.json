{"id": 1497, "title": "Ticket #1497: add definitions for undocumented ClassAd attributes", "description": "<blockquote>\nFrom condor-users post:\n<div class=\"verbatim\">\n<pre>Hi Brandon\n\nI have some old submit files using a similar requirements statement.\n\nrequirements = (Subnet == \"130.116.144\" || Subnet == \"130.116.145\" || Subnet == \"130.116.146\" || Subnet == \"130.116.147\")\n\nBut notice that the subnet attribute for a machine ClassAd is now of the form\n\nSubnet = \"255.255.252.0\"\n\ni.e. it seems to be subnet mask now.\n\n(use \"condor_status -l machinename | sort\" to have a look at all the machine classads)\n\nYou could use regexp to achieve a similar thing by something like:\n\nrequirements = (regexp(\"&lt;192.168.3\", MyAddress, \"i\"))\n\nI've not tested this exact expression but I think? it should work.\n\nCheers\n\nGreg\n\n\n\n-----Original Message-----\nFrom: condor-users-bounces@cs.wisc.edu [mailto:condor-users-bounces@cs.wisc.edu] On Behalf Of Brandon Leeds\nSent: Friday, 9 July 2010 3:35 AM\nTo: Condor-Users Mail List\nSubject: [Condor-users] Question about Subnet attribute requirement\n\nHi All,\n    We are experiencing a problem since our recent upgrade from 7.0.2 to\n7.4.1 . Unfortunately, the construct:\nRequirements = (Subnet == \"192.168.3\")\nseems to have stopped working. (I am checking  to make sure something\nelse hardware wise has not changed as well.) Is \"Subnet\" still a valid\nattribute, or did the syntax on the subnet definition change in the\nversion jump? If anyone can point me to a manual page, I would greatly\nappreciate.\nThanks,\nBrandon\n</pre></div>\n\n\n<p>Karen's investigation says that <strong>HardwareAddress</strong> and <strong>SubnetMask</strong> are\ncurrently undocumented Machine attributes.  Have not yet determined\nif <strong>Subnet</strong> is an attribute.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Jul-09 11:36:24 by matt:</em> <br/>\n\nIt looks like ATTR_SUBNET was quietly replaced with ATTR_SUBNET_MASK as part of the Green Computing work.\n\n<p></p><div class=\"verbatim\">\n<pre>commit 6161893b2db78b8199156922e68dd4c92fd314f9\nAuthor: Ben Burnett &lt;burnett@cs.wisc.edu&gt;\nDate:   Tue Jun 16 14:27:52 2009 -0500\n\n    Further moving of stard code into condor_power.\n</pre></div>\n\n\n<p>And it seems like some code still thinks ATTR_SUBNET is around.\n\n</p><p></p><div class=\"verbatim\">\n<pre>$ git grep ATTR_SUBNET | grep -v MASK\ncondor_c++_util/condor_attributes.cpp:const char * const ATTR_SUBNET                   = \"Subnet\";\ncondor_includes/condor_attributes.h:extern const char * const  ATTR_SUBNET;\ncondor_status.V6/prettyPrint.cpp:\t\t\t\t\t\"AvailDisk\", ATTR_SUBNET);\ncondor_status.V6/prettyPrint.cpp:\t\t\talpm.registerFormat(\"%-11s\\n\", ATTR_SUBNET, \"[?????]\\n\");\ncondor_status.V6/prettyPrint.cpp:\t\t\t\t\t\"AvailDisk\", ATTR_SUBNET);\ncondor_status.V6/prettyPrint.cpp:\t\t\talpm.registerFormat(\"%-11s\\n\", ATTR_SUBNET, \"[?????]\\n\");\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Mar-21 12:03:57 by smoler:</em> <br/>\n\nFrom recently added, but abandoned duplicate ticket <span class=\"ticket\"><a class=\"abandoned\" href=\"/tickets?ticket=1977\" onclick=\"get_ticket_and_populate_wrapper('1977'); return false;\" title=\"Update Appendix A  in Manual for v7.6.0\">#1977</a></span>:\nAppendix A in the Manual should be updated periodically, before every new stable series seems like a good time. Seems like some attributes are missing, such as job classad attr <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=WantIoProxy\" title=\"Want Io Proxy\">WantIoProxy</a></span>.\n\n<p>2011-Mar-17 11:23:40 by tannenba:\nNote - definitive source for classad attribute names is <a class=\"file\" href=\"rlog?f=src/condor_utils/condor_attributes.cpp\">/src/condor_utils/condor_attributes.cpp</a>\n\n</p><p></p><hr/>\n<em>2011-Apr-25 12:17:02 by smoler:</em> <br/>\n\nFrom Matt:\n\"10. Appendix A: <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> Attributes\" is missing definitions for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestCpus\" title=\"Request Cpus\">RequestCpus</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestMemory\" title=\"Request Memory\">RequestMemory</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestDisk\" title=\"Request Disk\">RequestDisk</a></span>. They are discussed in \"3.13.9.9 Dynamic condor_startd Provisioning: Dynamic Slots\"\n\n<p></p><hr/>\n<em>2011-Apr-25 13:06:05 by smoler:</em> <br/>\n\nDefinitions for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestCpus\" title=\"Request Cpus\">RequestCpus</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestDisk\" title=\"Request Disk\">RequestDisk</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestMemory\" title=\"Request Memory\">RequestMemory</a></span> added to V7_6_0-branch.\n\n<p></p><hr/>\n<em>2011-Jul-11 14:34:30 by smoler:</em> <br/>\n\nJob <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attribute <code>X509UserProxy</code> has been missing from the manual for a long time.  It is the path and file name to the X.509 proxy.\n\n<p></p><hr/>\n<em>2011-Jul-12 12:08:09 by smoler:</em> <br/>\n\nDefinition for Job <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attribute <code>X509UserProxy</code> has been added to the V7_6_2-branch.\n\n<p></p><hr/>\n<em>2011-Aug-04 11:02:13 by smoler:</em> <br/>\n\nMissing since 7.2 in 2009, under <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=216\" onclick=\"get_ticket_and_populate_wrapper('216'); return false;\" title=\"SubmitterGroupQuota attribute worked in v6.8, not in v7.0\">#216</a></span>:\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RemoteUserResourcesInUse\" title=\"Remote User Resources In Use\">RemoteUserResourcesInUse</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SubmitterUserResourcesInUse\" title=\"Submitter User Resources In Use\">SubmitterUserResourcesInUse</a></span>; should also double check for missing documentation of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RemoteGroupResourcesInUse\" title=\"Remote Group Resources In Use\">RemoteGroupResourcesInUse</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SubmitterGroupResourcesInUse\" title=\"Submitter Group Resources In Use\">SubmitterGroupResourcesInUse</a></span>.\n\n<p>Also note that some of the attributes in this group spell with 'Submittor' and some with 'Submitter'.\n\n</p><p></p><hr/>\n<em>2012-May-30 11:33:50 by smoler:</em> <br/>\n\nFrom Klaus at Embraer:\n\n<p>I have not found any documentation for the following <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>:\n\n</p><p></p><pre>   CanHibernate\n   IsWakeAble\n   IsWakeOnLanEnabled\n   IsWakeOnLanSupported\n</pre>\n\n<p>I want to know the difference among them and when they are set to True or False to know how they could be used.  There would be other Hibernation related <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> in the same situation (not documented).\n\n</p><p></p><hr/>\n<em>2012-Jun-05 10:15:51 by smoler:</em> <br/>\n\nFrom Greg T.:\n\n<p><code>CanHibernate</code>\n\n</p><p>As described in the \"green computing\" section of the manual, the condor_startd has the capability to shut down or hibernate a machine when certain configurable criteria are met.  However, it can't shut down every machine, there are a number of factors which must be true:  the hardware itself must support hibernation, as must the operating system.  When the startd initializes, it checks for all these things, and if they are all true, it has the ability to hiberate the machine, and it sets this attribute to true.  Otherwise it is false.\n\n</p><p><code>IsWakeAble</code>\n\n</p><p>When a machines is hibernated or shutdown, it might have the capability to be awoken into a fully powered and running state by receiving a \"Wake on LAN\" packet.  This ability is a function of the operating system, the network adapter in this machine (notably, wireless network adapter usually don't have this function), and BIOS settings.  When the condor startd initializes, it tries to detect if the OS and network adapter support waking from hibernation by receipt of a wake-on-lan packet.  If so, the startd sets the machine attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsWakeAble\" title=\"Is Wake Able\">IsWakeAble</a></span> to true.  Otherwise it is false.\n\n</p><p><code>IsWakeEnabled</code>\n\n</p><p>If the hardware and software have the capacity to Wake on LAN, it can still be disabled via the BIOS or software.  If BIOS or the operating system have disabled this feature, the startd sets <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsWakeEnabled\" title=\"Is Wake Enabled\">IsWakeEnabled</a></span> to false in the machine ad.\n\n</p><p></p><hr/>\n<em>2012-Nov-05 14:38:16 by smoler:</em> <br/>\n\nJob attribute <code>UserLog</code>  is not documented.\n\n<p>From TJ:  full path and file name on submit machine of user log.\n\n</p><p></p><hr/>\n<em>2012-Dec-19 13:58:06 by smoler:</em> <br/>\n\nResolving this ticket, as all attributes listed in it seem to have been defined, and no new attributes have been added to the ticket.  We'll just open a new ticket as other undocumented attributes are discovered.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=2093\" onclick=\"get_ticket_and_populate_wrapper('2093'); return false;\" title=\"add definitions of undocumented negotiator classad attributes\">#2093</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nadd definitions of undocumented negotiator classad attributes</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-05 17:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=33999\">[33999]</a></span>: Some of the documentation for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3303\" onclick=\"get_ticket_and_populate_wrapper('3303'); return false;\" title=\"-priority, -dont_use_default_node_log DAGMan args aren't documented\">#3303</a></span> belongs on V7_8-branch. And, job attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span> (reference by new documentation) wasn't documented and needed to be. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3303\" onclick=\"get_ticket_and_populate_wrapper('3303'); return false;\" title=\"-priority, -dont_use_default_node_log DAGMan args aren't documented\">#3303</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1497\" onclick=\"get_ticket_and_populate_wrapper('1497'); return false;\" title=\"add definitions for undocumented ClassAd attributes\">#1497</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Nov-05 14:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=33993\">[33993]</a></span>: correct and complete documentation of condor_submit_dag options -dont_use_default_node_log and -priority. And, since one refers to undocumented job attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=UserLog\" title=\"User Log\">UserLog</a></span>, also document this. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=3303\" onclick=\"get_ticket_and_populate_wrapper('3303'); return false;\" title=\"-priority, -dont_use_default_node_log DAGMan args aren't documented\">#3303</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1497\" onclick=\"get_ticket_and_populate_wrapper('1497'); return false;\" title=\"add definitions for undocumented ClassAd attributes\">#1497</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-05 10:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32188\">[32188]</a></span>: add defns of machine <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attributes <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CanHibernate\" title=\"Can Hibernate\">CanHibernate</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsWakeAble\" title=\"Is Wake Able\">IsWakeAble</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsWakeEnabled\" title=\"Is Wake Enabled\">IsWakeEnabled</a></span> ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1497\" onclick=\"get_ticket_and_populate_wrapper('1497'); return false;\" title=\"add definitions for undocumented ClassAd attributes\">#1497</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Jul-12 12:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=26062\">[26062]</a></span>: added missing definition of job <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attribute X509UserProxy; gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1497\" onclick=\"get_ticket_and_populate_wrapper('1497'); return false;\" title=\"add definitions for undocumented ClassAd attributes\">#1497</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-25 13:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=26021\">[26021]</a></span>: added missing job <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attributes <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestCpus\" title=\"Request Cpus\">RequestCpus</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestDisk\" title=\"Request Disk\">RequestDisk</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=RequestMemory\" title=\"Request Memory\">RequestMemory</a></span>; part of gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=1497\" onclick=\"get_ticket_and_populate_wrapper('1497'); return false;\" title=\"add definitions for undocumented ClassAd attributes\">#1497</a></span>  (By Karen Miller )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2012-Dec-19 13:58", "status": "resolved", "created": "2010-Jul-09 11:24", "fixed_version": "2010-Jul-09 11:24", "broken_version": "v070400", "priority": "3", "subsystem": "Unknown", "assigned_to": "smoler", "derived_from": "", "creator": "smoler", "rust": "", "customer_group": "other", "visibility": "public", "notify": "smoler@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
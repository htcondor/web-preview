{"id": 6348, "title": "Ticket #6348: ENABLE_IPV6 = AUTO enables IPv6 when it's probably useless", "description": "<blockquote>\nThe current algorithm for 'auto' turns on IPv6 if any interface has an IPv6 address.  This caused Max Fischer some grief when he accidentally gave his CM a public IPv6 address, and all of his IPv6 loop-back and link-local -only machines started trying to contact it there (because its IPv4 address was private).  We should consider disabling IPv6 in when ENABLE_IPV6 is set to \"auto\" if the only IPv6 addresses are loop-back and link-local.\n\n<p>As Max says, \"Being able to safely set 'auto' on all machines would greatly simplify adopting dual stack, though.\"</p></blockquote>", "remarks": "<blockquote>\n<em>2017-Jul-14 14:29:09 by bbockelm:</em> <br/>\n\nAgreed.\n\n<p>The whole point of <code>AUTO</code> is to allow the sysadmin to say \"do what the HTCondor developers think is best\", so we should feel free to tweak the semantics as suggested here.\n\n</p><p></p><hr/>\n<em>2017-Aug-01 15:22:34 by tlmiller:</em> <br/>\n\nTo be clear, the problem Max had was that given a sinful with a public IPv6 address and a private IPv4 address, clients whose IPv6 address(es) were all either link-local or loop-back decided to attempt to contact the public IPv6 address, not that a daemon was advertising one of the (generally) useless IPv6 addresses.\n\n<p></p><hr/>\n<em>2017-Aug-16 11:53:46 by tim:</em> <br/>\n\n<strong>DOC REVIEW:</strong> Looks good</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-16 11:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52130\">[52130]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6348\" onclick=\"get_ticket_and_populate_wrapper('6348'); return false;\" title=\"ENABLE_IPV6 = AUTO enables IPv6 when it's probably useless\">#6348</a></span>) Fixup manual prose  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-16 11:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=52120\">[52120]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6348\" onclick=\"get_ticket_and_populate_wrapper('6348'); return false;\" title=\"ENABLE_IPV6 = AUTO enables IPv6 when it's probably useless\">#6348</a></span>) Documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Aug-03 14:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51990\">[51990]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6348\" onclick=\"get_ticket_and_populate_wrapper('6348'); return false;\" title=\"ENABLE_IPV6 = AUTO enables IPv6 when it's probably useless\">#6348</a></span>) Change ENABLE_IPV[4|6] = AUTO to be less stupid about useless addresses.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2017-Aug-16 11:53", "status": "resolved", "created": "2017-Jul-14 10:56", "fixed_version": "2017-Jul-14 10:56", "broken_version": "", "priority": "4", "subsystem": "Libs", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
{"id": 2767, "title": "Ticket #2767: usernames containing a period/dot cause problems in accounting groups", "description": "<blockquote>\nLIGO is increasingly standardizing their user's global identities to be first.last name everywhere (e.g., \"albert.einstein\").\n\n<p>Condor may not like this; usernames with periods in them may be confused with accounting groups, etc.\n\n</p><p>In the original RUST, it was claimed it will be a while before this becomes a problem for them, and it seems that time has come.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2012-Feb-10 14:44:30 by pfc:</em> <br/>\n\nUpdated priority to match Todd's new scheme (1=fire, 2=soon, 3=time permitting, 4=not yet prioritized, 5=wishlist/ideas).\n\n<p></p><hr/>\n<em>2012-Apr-19 16:27:23 by zmiller:</em> <br/>\n\nanyone have ideas for fixing this that doesn't break existing configs?  if not, i propose changing the group/user separator to a ':' instead of a '.' for 7.8.0, and making sure it's clearly mentioned in the release notes.  i haven't committed anything yet but will attach a potential patch that accomplishes this.\n\n<p></p><hr/>\n<em>2012-Apr-23 10:54:58 by eje:</em> <br/>\n\nI think a good solution for this would be to make the separator configurable, and default it to the current '.', but allow an admin to set it to ':' (or something else they choose) if they want to.   That will preserve backward compatability.\n\n<p></p><hr/>\n<em>2012-Jun-18 15:23:19 by zmiller:</em> <br/>\n\nafter some testing, it turns out this is probably not a big problem as the code does the intelligent thing here.\n\n<p>if a user \"zach.miller\" is used in a group hiearchy such as:\n  <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=AccountingGroup\" title=\"Accounting Group\">AccountingGroup</a></span> = top.middle.lowest.zach.miller\n\n</p><p>the code actually works backwards until it finds a valid group.  so in the above case it would be Group==top.middle.lowest and User==zach.miller\n\n</p><p>there is possibility for problematic behavior if you name a leaf group the same as someone's first name.  however, that seems unlikely, and we will deal with the real solution in the 7.9 series and leave 7.8 alone.\n\n</p><p></p><hr/>\n<em>2012-Jun-26 15:26:00 by pfc:</em> <br/>\n\n\n<p>Reopening at a lower priority, since we still want and need the \"real solution in the 7.9 series\" (we do have some user/group naming overlap) but it's not quite as critical as long as this works in 7.8.\n\n</p><p></p><hr/>\n<em>2013-Jan-17 17:37:03 by eje:</em> <br/>\n\nMy understanding of the current favored approach to this is to leverage the accountant's logic for attempting to assign the most-specific matching (sub)group, so that a dot in the user name will cause the desired behavior. (this may already be effectively happening, but should be tested)\n\n<p>Alternatively, have accountant look for a ':' (or some hard-coded choice - no configuration option), and if none is found, fall back on above.\n\n</p><p></p><hr/>\n<em>2013-Jan-22 10:15:21 by johnkn:</em> <br/>\n\n/ seems more natural than : for a group hierarchy separator.\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<blockquote>\n<ul>\n<li><a href=\"attach_get/553/ticket_2767_colon.patch\">ticket_2767_colon.patch</a>\n1058 bytes added by zmiller on 2012-Apr-19 21:30:05 UTC.\n<br/>\nchanges the group/user separator from a '.' to a ':' since usernames may actually contain a dot.<br/>\n</li></ul>\n</blockquote>", "check_ins": "", "type": "defect", "last_change": "2015-Sep-21 11:39", "status": "defer", "created": "2012-Jan-13 16:29", "fixed_version": "2012-Jan-13 16:29", "broken_version": "v070700", "priority": "5", "subsystem": "Daemons", "assigned_to": "zmiller", "derived_from": "#2728", "creator": "zmiller", "rust": "a22700", "customer_group": "ligo", "visibility": "public", "notify": "pfcouvar@syr.edu, tstclair@redhat.com, eje@cs.wisc.edu, tannenba@cs.wisc.edu, gthain@cs.wisc.edu,pcouvare@caltech.edu", "due_date": ""}
{"id": 62, "title": "Ticket #62: Deprecate ALLOW_VM_CRUFT", "description": "<blockquote>\nThe time has probably come for the VM cruft to finally go away.\n\n<p>Plan --\n\n</p><p></p><ul>\n<li>Discuss with FW <strong>DONE: 16 Feb 2010</strong>\n</li><li>Flip ALLOW_VM_CRUFT default to FALSE <strong>DONE</strong>\n</li><li>File a ticket against 7.7 to remove cruft code <strong>DONE:</strong> <span class=\"ticket\"><a class=\"stalled\" href=\"tktview?tn=1221\" title=\"Remove ALLOW_VM_CRUFT and associated cruft\">#1221</a></span></li></ul>\n</blockquote>", "remarks": "<blockquote>\n<em>2010-Feb-16 16:56:37 by matt:</em> <br/>\n\n<div class=\"verbatim\">\n<pre>give_interactive - ATTR_TOTAL_VIRTUAL_MACHINES\ncod_tools - slot name and ATTR_VIRTUAL_MACHINE_ID\nstarter_common - job env CONDOR_VM=name vs _CONDOR_SLOT=name\njic_shadow - param VM#_USER\nstartd_main - param STARTD_VM_ATTRS, STARTD_VM_EXPRS\nResource - ATTR_VIRTUAL_MACHINE_ID on slot\nResMgr - param MAX_VIRTUAL_MACHINE_TYPES, VIRTUAL_MACHINE_TYPE, NUM_VIRTUAL_MACHINE_TYPE_#, NUM_VIRTUAL_MACHINES, ATTR_TOTAL_VIRTUAL_MACHINES on slot\nmatchmaker - lookup ATTR_TOTAL_VIRTUAL_MACHINES\nadmin_event - lookup ATTR_VIRTUAL_MACHINE_ID on ad\nhashkey - lookup ATTR_VIRTUAL_MACHINE_ID on ad\ncollector_stats - lookup ATTR_VIRTUAL_MACHINE_ID on ad\n</pre></div>\n\n\n<p></p><hr/>\n<em>2010-Feb-16 19:19:14 by matt:</em> <br/>\n\nVersion History: The default for ALLOW_VM_CRUFT has been changed to FALSE, preventing old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=VirtualMachine\" title=\"Virtual Machine\">VirtualMachine</a></span> attributes from being included on slots, VM related configuration from being read, and VM related environment variables from being set for jobs. The VM cruft has been deprecated since the 6.7 series and will likely be entirely removed in the 7.7 series.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"stalled\" href=\"tktview?tn=1221\" title=\"Remove ALLOW_VM_CRUFT and associated cruft\">#1221</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRemove ALLOW_VM_CRUFT and associated cruft</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=1222\" title=\"Remove VirtualMachineId reference from UWCS_NEGOTIATOR_POST_JOB_RANK\">#1222</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRemove <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=VirtualMachineId\" title=\"Virtual Machine Id\">VirtualMachineId</a></span> reference from UWCS_NEGOTIATOR_POST_JOB_RANK</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-16 19:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17260\">[17260]</a></span>: Changed default for ALLOW_VM_CRUFT from true to false, <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=62\" title=\"Deprecate ALLOW_VM_CRUFT\">#62</a></span>  (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Feb-16 19:23", "status": "resolved", "created": "2009-Jan-21 17:43", "fixed_version": "2009-Jan-21 17:43", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "matt", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 4306, "title": "Ticket #4306: Glue refactoring", "description": "<blockquote>\nThere were two main classes of activities which we did NOT want batch test to be doing. One was creating the initial testing configuration and the other was starting up a test personal condor.\n\n<p>The first goal was for the glue to write the initial condor configuration which the tests will access from the environment variable CONDOR_CONFIG. The second is rip out all this activity from batch_test.pl\n\n</p><p>A consequence of this is that each test which does not currently start a condor\nwill get code from file condor_tests/testcondortemplate used to have it start its own with some lines going near the completion to shut that condor down.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jul-15 13:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40657\">[40657]</a></span>: Squash spurious perl dependencies <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-09 19:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40372\">[40372]</a></span>: make broken test for return values to dashboard run normally <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-09 19:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40371\">[40371]</a></span>: Tweaks to get test results to dashboard <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-06 15:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40360\">[40360]</a></span>: Tweaks after glue refactor <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40340\">[40340]</a></span>: Strip down batch test to somewhat core testing features only. Tale other modules and make their current functions available from the glue under windows native perl. IE de-cygwin them somewhat. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40339\">[40339]</a></span>: Changed the chomp for windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40338\">[40338]</a></span>: Changed test to create it's own personal condor as the event_log attribute is no longer defaulted. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40337\">[40337]</a></span>: Rewrote perremovve test to be all inclusive within the run file to have it easier to fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40336\">[40336]</a></span>: Add its own personal condor. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40335\">[40335]</a></span>: Changes to not run 4 java tests on windows for now and also cmd_q_shows-dag as windows 7 had no .sh. Does now so that will be tested. Also CMakeList.txt changes to turn off 3 dag tests as per kent. This will be adjusted. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40334\">[40334]</a></span>: Changes for temporarily having batch_test functionality moved out of batch test and into glue. Includes set up of personals for tests needing a condor to exist. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-04 10:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40333\">[40333]</a></span>: A list of tests which if run are believed to require a base personal condor set up for them. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-03 13:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40319\">[40319]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=40054\">[40054]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=40055\">[40055]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=40056\">[40056]</a></span>, Merge branch 'master-test_glue_refactoring' of /p/condor/repository/CONDOR_SRC into master-test_glue_refactoring Conflicts: nmi_tools/glue/test/TestGlue.pm <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-02 14:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40317\">[40317]</a></span>: I like this copy but have one locally that I don't want <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40055\">[40055]</a></span>: Should not be here. Default should run all tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40053\">[40053]</a></span>: Final glue and batch test after shifting initial configuration to remote_pre and personal condors for tests to tests. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40054\">[40054]</a></span>: Just for grins, keep copy with code turned off <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40052\">[40052]</a></span>: Turn off creation of a personal condor by batchtest <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40050\">[40050]</a></span>: Template for adding personal condor to tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40051\">[40051]</a></span>: Test job for refactoring <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-02 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40049\">[40049]</a></span>: start of moving config file generation to the glue.#4306  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-15 10:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39937\">[39937]</a></span>: Just for grins, keep copy with code turned off <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-15 09:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39936\">[39936]</a></span>: Final glue and batch test after shifting initial configuration to remote_pre and personal condors for tests to tests. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 12:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39935\">[39935]</a></span>: Turn off creation of a personal condor by batchtest <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 12:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39934\">[39934]</a></span>: Test job for refactoring <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 12:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39932\">[39932]</a></span>: Template for adding personal condor to tests <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-11 12:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39931\">[39931]</a></span>: start of moving config file generation to the glue.#4306  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2002-Sep-11 17:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=23307\">[23307]</a></span>: added the JAVA_SRC module (requested in condor-admin <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>)  (By wright )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2002-Sep-11 17:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=7446\">[7446]</a></span>: added the JAVA_SRC module (requested in condor-admin <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4306\" onclick=\"get_ticket_and_populate_wrapper('4306'); return false;\" title=\"Glue refactoring\">#4306</a></span>)  (By wright )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Aug-06 12:51", "status": "resolved", "created": "2014-Apr-11 12:29", "fixed_version": "2014-Apr-11 12:29", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "bt", "derived_from": "#3594", "creator": "bt", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
{"id": 7852, "title": "Ticket #7852: Remove old concurrency limit tests.", "description": "<blockquote>\nFollowing up <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7812\" onclick=\"get_ticket_and_populate_wrapper('7812'); return false;\" title=\"Fix test_concurrency_limits.py\">#7812</a></span>, we should have plenty of data by the release of 9.0.0 on that new test.  Assuming it's behaving as well as expected, remove each of the old concurrency limit tests.</blockquote>", "remarks": "<blockquote>\n<em>2020-Oct-02 13:59:04 by tlmiller:</em> <br/>\n\nThis will resolve <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4530\" onclick=\"get_ticket_and_populate_wrapper('4530'); return false;\" title=\"Static Slot concurrency issue\">#4530</a></span> (concurrency test failure) and <span class=\"ticket\"><a class=\"active\" href=\"/tickets?ticket=5036\" onclick=\"get_ticket_and_populate_wrapper('5036'); return false;\" title=\"Make concurrency tests more stable\">#5036</a></span> (unstable concurrency tests).\n\n<p>I believe that <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4503\" onclick=\"get_ticket_and_populate_wrapper('4503'); return false;\" title=\"Concurrency allowing too many jobs , one sched\">#4503</a></span> and <span class=\"ticket\"><a class=\"active\" href=\"/tickets?ticket=4504\" onclick=\"get_ticket_and_populate_wrapper('4504'); return false;\" title=\"Concurrency test extension - sequential job submition\">#4504</a></span> are symptoms of the same underlying design problem -- the negotiator has no memory of the concurrency tokens it's assigned.  (A memory of the assignments isn't a perfect solution, because the corresponding job may never start.  But it's almost certainly better, and less surprising, to schedule fewer jobs too many.)\n\n</p><p>I'm content to continue ignoring <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5669\" onclick=\"get_ticket_and_populate_wrapper('5669'); return false;\" title=\"Concurency limits ignored\">#5669</a></span> (concurrency incident report).\n\n</p><p>However, AFAIK, <span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=4121\" onclick=\"get_ticket_and_populate_wrapper('4121'); return false;\" title=\"Concurrency limits and partitionable slots lead to overclaiming limits\">#4121</a></span> (reusing a claim retains the concurrency token) is still unresolved and needs fixing.  It is not currently tested for.\n\n</p><p></p><hr/>\n<em>2020-Dec-08 15:43:17 by tlmiller:</em> <br/>\n\nNo documentation necessary for this strictly-internal change.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Dec-08 11:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61791\">[61791]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7852\" onclick=\"get_ticket_and_populate_wrapper('7852'); return false;\" title=\"Remove old concurrency limit tests.\">#7852</a></span>) Remove old concurrency limit tests.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2021-Mar-11 14:13", "status": "resolved", "created": "2020-Sep-10 11:20", "fixed_version": "2020-Sep-10 11:20", "broken_version": "", "priority": "2", "subsystem": "", "assigned_to": "tlmiller", "derived_from": "#7812", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
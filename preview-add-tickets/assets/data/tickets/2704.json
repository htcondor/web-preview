{"id": 2704, "title": "Ticket #2704: Create DAGMan test with node job log files that are symlinks", "description": "<blockquote>\nJens Voeckler just reported that 7.7.2 DAGMan fails for the situation of node job user log files being symlinks into /tmp (7.6.4 works okay).\n\n<p>Doing a quick look at the code, I didn't see any log reading-related changes between 7.6.4 and 7.7.2, but I didn't look terribly carefully.\n\n</p><p>At any rate, setting up log files that are symlinks into /tmp is apparently the standard Pegasus way of doing things, so we should set up a test where log files are symlinks.  (I don't know yet whether the fact that the log files are in /tmp as opposed to anywhere else is critical to the problem reported in the RUST ticket).</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Dec-13 14:31:10 by wenger:</em> <br/>\n\nHmm -- Todd T and I speculated yesterday that the actual bug would be fixed in 7.7.4 or 7.7.5, but that seems to not be the case -- my test is also failing on the master right now...\n\n<p></p><hr/>\n<em>2011-Dec-14 11:31:18 by wenger:</em> <br/>\n\nOkay, I have a fix for the problem in DAGMan -- passed manual tests, now running in NMI (still needs version history fix).\n\n<p></p><hr/>\n<em>2011-Dec-22 17:40:20 by wenger:</em> <br/>\n\nVersion history item is committed and pushed -- I'm going to resolve this.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-22 12:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=28897\">[28897]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2704\" title=\"Create DAGMan test with node job log files that are symlinks\">#2704</a></span>: added version history item.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-14 10:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=28829\">[28829]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2704\" title=\"Create DAGMan test with node job log files that are symlinks\">#2704</a></span>: fixed the problem with DAGMan failing on files that are symlinks; added a test that showed up the problem (for some reason I haven't figured out yet, the job_dagman_log_path didn't reproduce it).  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Jan-29 12:54", "status": "resolved", "created": "2011-Dec-12 14:47", "fixed_version": "2011-Dec-12 14:47", "broken_version": "v070702", "priority": "1", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "#1419", "creator": "wenger", "rust": "a22897", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu", "due_date": ""}
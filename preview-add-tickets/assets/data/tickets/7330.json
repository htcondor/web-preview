{"id": 7330, "title": "Ticket #7330: Add python chirp module to bindings", "description": "<blockquote>\nNow that <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=6907\" title=\"python bindings should be packaged following proper guidelines\">#6907</a></span> is in, include (HT)Chirp as part of the packaged bindings.</blockquote>", "remarks": "<blockquote>\n<em>2019-Oct-18 11:27:10 by jpatton:</em> <br/>\n\nPerhaps we could add <a class=\"external\" href=\"https://github.com/htcondor/htchirp\">https://github.com/htcondor/htchirp</a> as a git submodule and import HTChirp as <code>htcondor.chirp</code>? That way, users can still pip/conda install htchirp separately for small jobs that don't need the whole set of bindings, and the maintainer of the htchirp package (me, at the moment) has a single place to look for any updates.\n\n<p>(Yes, <code>htcondor.chirp</code> would most likely be available on any and all startds older than 8.9.5, but consider that users might be running a different version of Python than the system Python(s) and so could not access the system htcondor module.)\n\n</p><p></p><hr/>\n<em>2019-Oct-18 14:17:04 by jpatton:</em> <br/>\n\ngit submodule of the HTChirp repository (which includes all sorts of packaging information) inside the HTCondor source tree is not great because it requires a symlink (rip Windows) to get the actual code we care about into the right location. Three ways forward:\n\n<p></p><ol>\n<li>Blast away the HTChirp repo. Makes providing a separate package difficult :(\n</li><li>Move the code bits out of the HTChirp repo into HTCondor and add HTCondor as a submodule in the HTChirp repo.\n</li><li>Create a third repo that only houses the code bits that can be and submodule this repo in both the HTChirp and HTCondor repos (thanks ToddM).\n</li></ol>\n<hr/>\n<em>2020-Apr-10 07:46:37 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.\n\n<p></p><hr/>\n<em>2020-May-27 10:32:47 by karpel:</em> <br/>\n\nSomething I've been experimenting with for htcondor-dags is to make it a \"namespace package\" (<a class=\"external\" href=\"https://www.python.org/dev/peps/pep-0420/\">https://www.python.org/dev/peps/pep-0420/</a>). Perhaps we could do the same here?\n\n<p>With a namespace package, you can <code>import htcondor.chirp</code> even though <code>chirp</code> is not actually physically inside the <code>htcondor</code> module.\n\n</p><p></p><hr/>\n<em>2020-Jun-24 08:44:15 by jpatton:</em> <br/>\n\nSince the HTChirp repo/package is 99% a single Python file (htchirp.py) and development should be relatively rare, I have opted to copy htchirp.py (and related __init__.py) under <a class=\"file\" href=\"rlog?f=bindings/python/htcondor/htchirp\">/bindings/python/htcondor/htchirp</a> and then document it.\n\n<p>While this will require manually copying htchirp.py whenever development is done in its <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GitHub\" title=\"Git Hub\">GitHub</a></span> repo, the upshot is that users will not have to install the entire HTCondor python bindings in to each job that wants to use HTChirp, instead it also lives as its own lightweight package in PyPI and conda-forge.\n\n</p><p></p><hr/>\n<em>2020-Jun-24 11:37:13 by karpel:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>LGTM, should be a clean merge with the changes I'm making to the docs structure for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7682\" title=\"Integrate htcondor-dags into the Python bindings\">#7682</a></span>.\n\n</p><p>I think it'll be most sane to merge this to master before <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7682\" title=\"Integrate htcondor-dags into the Python bindings\">#7682</a></span>; I'll resolve any conflicts that happen when I merge that branch.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-31 14:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60296\">[60296]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>  (By Jason Patton )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-02 10:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60057\">[60057]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7682\" title=\"Integrate htcondor-dags into the Python bindings\">#7682</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>) improve Python bindings documentation in general, and htcondor.dags and htcondor.htchirp documentation in specific  (By Josh Karpel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-29 10:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60016\">[60016]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>) run black on Python bindings  (By Josh Karpel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-29 10:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60015\">[60015]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7682\" title=\"Integrate htcondor-dags into the Python bindings\">#7682</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>) fix up docs build for new Python bindings subpackages  (By Josh Karpel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-24 13:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=59968\">[59968]</a></span>: Merge branch master into V8_9-gt7330-branch <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>  (By Jason Patton )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-24 08:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=59964\">[59964]</a></span>: Add htcondor.htchirp to the Python bindings, with first stab at docs <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>  (By Jason Patton )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-24 08:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=59962\">[59962]</a></span>: Revert \"Add HTChirp upstream repo as git submodule and put it under Python bindings <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span>\" This reverts commit 09f3156a5a0916912896f402b313a7f3235bf51a.  (By Jason Patton )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Oct-18 12:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=58201\">[58201]</a></span>: Add HTChirp upstream repo as git submodule and put it under Python bindings <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7330\" title=\"Add python chirp module to bindings\">#7330</a></span> 1. Client is imported as htcondor.htchirp.HTChirp 2. Uses symlink to put htchirp in correct location, so this breaks Windows  (By Jason Patton )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Jul-31 14:31", "status": "resolved", "created": "2019-Oct-18 10:52", "fixed_version": "2019-Oct-18 10:52", "broken_version": "", "priority": "2", "subsystem": "PythonBinding", "assigned_to": "jpatton", "derived_from": "", "creator": "jpatton", "rust": "", "customer_group": "other", "visibility": "public", "notify": "jpatton@cs.wisc.edu karpel@wisc.edu", "due_date": ""}
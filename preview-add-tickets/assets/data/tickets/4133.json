{"id": 4133, "title": "Ticket #4133: Purged EC2 jobs may go on hold instead of being removed.", "description": "<blockquote>\nIf a service purges its record of an instance before we attempt to terminate it (but after we've checked to see if it's still active), the attempt will fail, causing the job will go on hold.  Instead, we should check the error, and if it fails because the instance we're trying to terminate doesn't exist, treat that as a success.\n\n<p>This bug may be triggered by another bug, in which we neglect to wait for the status of the job to change before checking to see if it terminated.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-15 11:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39161\">[39161]</a></span>: Edit 8.1.4 version history item. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4133\" onclick=\"get_ticket_and_populate_wrapper('4133'); return false;\" title=\"Purged EC2 jobs may go on hold instead of being removed.\">#4133</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-03 11:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39114\">[39114]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4133\" onclick=\"get_ticket_and_populate_wrapper('4133'); return false;\" title=\"Purged EC2 jobs may go on hold instead of being removed.\">#4133</a></span>) Documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-31 14:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39106\">[39106]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4133\" onclick=\"get_ticket_and_populate_wrapper('4133'); return false;\" title=\"Purged EC2 jobs may go on hold instead of being removed.\">#4133</a></span>) React appropriately when an attempt to terminate a purged instance fails. Also fixes a bug in the CANCEL/CANCEL_CHECK loop that would allow the polling delay to be incorrectly bypassed.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Jan-03 11:01", "status": "resolved", "created": "2013-Dec-20 14:31", "fixed_version": "2013-Dec-20 14:31", "broken_version": "", "priority": "4", "subsystem": "Grid", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, tiradani@fnal.gov", "due_date": ""}
{"id": 193, "title": "Ticket #193: Allow startd to grow and shrink slots on demand", "description": "<blockquote>\nAs part of multicore support, we need to add and shrink slots from the startd on demand.  Questions:\n\n<p>Should this be persistant?  On a lease?\nWe need to support drainage.\nAs the slots aren't uniform on many startds, do we need to turn off specific slots?  And what does that mean?</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Feb-20 10:46:03 by gthain:</em> <br/>\n\nThe current plan is to leverage work for pool upgrades.  Fundamentally, we aren't going to change any given startd, rather, we will launch a new startd, potentially with a different configuration, which will run alongside the old one, until the old one drains out.  This allows us to effectively change anything about the startd, including number of slots and policies.\n\n<p>When the process is startd, the old startd essentially goes into graceful shutdown mode, and can't come out.  The name of the old startd is changed to something like old-name.  The master forks a new startd, which polls the old startd for the job status.  There is a mapping of old slots to new that describes which running old slots block new slots, not necessarily one-to-one.  Thus, if we switch from an 8-way machine to a 1 way machine, all 8 old slots block the one new slot.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "todo", "last_change": "2013-Jan-22 09:16", "status": "defer", "created": "2009-Feb-06 10:30", "fixed_version": "2009-Feb-06 10:30", "broken_version": "v070400", "priority": "5", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "#139", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
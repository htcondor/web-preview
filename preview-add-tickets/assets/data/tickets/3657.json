{"id": 3657, "title": "Ticket #3657: Make minor improvements to /proc/cpuinfo parsing code.", "description": "<blockquote>\nAddress the following low-priority issues from the code review.\n\n<p><strong>low importance</strong>  sysapi_processor_flags_raw() Hard coded buffer of 1024. The comment (\"see ncpus.cpp\") is silly; just copy that comment over. Or better: don't make it a hard coded buffer. If this ever fails, it will fail cryptically as flags are silently lost. Perhaps time to write a small \"safe_fgets\" that returns a newly malloced string (with a warning that the user needs to free it) and solve the problem once and for all?\n\n</p><p><strong>low importance</strong> sysapi_processor_flags_raw() Any possibility that we'll have different flags on different processors? Seems unlikely, but I can envision a future where hyperthreaded core advertise different features. Probably not worth trying to fix, but for bonus points: detect if the flags vary across cores and complain to the log.\n\n</p><p><strong>low importance</strong> sysapi_processor_flags_raw() For paranoia in case the /proc/cpuinfo format changes, assert that colon[1] == ' '?</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Sep-19 12:01:53 by adesmet:</em> <br/>\n\n<strong>CODE REVIEW:</strong> Passed without changes.\n\n<p></p><hr/>\n<em>2013-Sep-19 12:02:04 by adesmet:</em> <br/>\n\nResolving as it's already committed.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-May-24 10:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=35858\">[35858]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3657\" title=\"Make minor improvements to /proc/cpuinfo parsing code.\">#3657</a></span>) Future-proof the /proc/cpuinfo parsing code.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Sep-19 12:02", "status": "resolved", "created": "2013-May-24 10:17", "fixed_version": "2013-May-24 10:17", "broken_version": "v080000", "priority": "4", "subsystem": "Std", "assigned_to": "adesmet", "derived_from": "#3544", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20130607"}
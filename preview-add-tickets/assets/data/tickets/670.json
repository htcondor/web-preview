{"id": 670, "title": "Ticket #670: Windows build does not stop when there is an error", "description": "<blockquote>\nSince switching to Visual Studio 2008, when an error occurs during a build, the build just keeps on chugging along to the bitter end.  Back in the good ol Visual C++ 6.0 days, the build would stop on the failed target, saving time and making it easier to see what failed. It would be great if our Studio 2008 build worked the same way.</blockquote>", "remarks": "<blockquote>\n<em>2009-Aug-17 09:03:23 by burnett:</em> <br/>\n\nI'm sure this is easy enough to google and what not, but I have a msbuild \"best practices\" book on the way--which should be here some time this wee--so it may worth looking at it for some details.  This has been bugging me for a while too (among some other build steps we have).\n\n<p></p><hr/>\n<em>2009-Aug-28 11:14:11 by ziliang:</em> <br/>\n\nThere's a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StopOnFirstFailure\" title=\"Stop On First Failure\">StopOnFirstFailure</a></span> setting that we can use in a .proj file.  I've cobbled one together here:\n\n<p></p><pre>  &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n  &lt;Project DefaultTargets=\"condor\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\" &gt;\n   &lt;Target Name=\"condor\"&gt;\n    &lt;MSBuild Projects=\"condor.sln\" Properties=\"Configuration=Release;VCBuildUseEnvironment=true\" StopOnFirstFailure=\"true\" /&gt;\n    &lt;/Target&gt;\n  &lt;/Project&gt;\n</pre>\n\n<p>But something seems to be off regarding the order of builds and their dependencies.  Condor powerstate bailed because it claimed it was missing the precompiled header, which never happened before.  It was also never built that early in the process.\n\n</p><p>From google, it seems that there are instances where msbuild doesn't respect the dependencies of a VS solution.\n\n</p><p></p><hr/>\n<em>2010-Aug-16 11:41:17 by ziliang:</em> <br/>\n\nThe cmake changes are liable to fix this issue so currently in wait and see mode.\n<hr/>\n<em>2010-Aug-23 17:07:50 by adesmet:</em> <br/>\n\nBulk change of target version from v070402 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2013-May-29 13:54", "status": "defer", "created": "2009-Aug-16 16:53", "fixed_version": "2009-Aug-16 16:53", "broken_version": "v070300", "priority": "5", "subsystem": "Win32", "assigned_to": "ziliang", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "other", "visibility": "public", "notify": "burnett@cs.wisc.edu,tannenba@cs.wisc.edu", "due_date": ""}
{"id": 2741, "title": "Ticket #2741: condor_q -global produces inconsistent exit status", "description": "<blockquote>\nParag noticed that condor_q exits with status 0 if there are no ads in the queue, but condor_q -global exits with status 1.  I suspect it has been this way into the distant past, much longer ago than 7.6.0.\n\n<p>I propose making condor_q -global exit with status 0 when all queues are empty.  I'm finding out from Parag if it would be helpful to him for this to be fixed in 7.6.  If he doesn't care, I'll do it in 7.7.</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Jul-18 09:57:39 by jfrey:</em> <br/>\n\ncondor_q -global queries the collector for schedd ads with a filter that omits schedds with no jobs queued. If the query returns no ads, then condor_q prints <code>All queues are empty</code> and exits with status 1. Otherwise, it queries the schedds it's told about and exits with status 0. If none of those schedds have jobs queued, then the output will be empty. This can happen if the the queue emptied in the past several minutes and the schedd hasn't sent an update to the collector since.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2014-Jul-18 09:57", "status": "new", "created": "2012-Jan-04 10:31", "fixed_version": "2012-Jan-04 10:31", "broken_version": "v070600", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "dan@hep.wisc.edu", "due_date": ""}
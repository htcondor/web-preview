{"id": 5272, "title": "Ticket #5272: Add support for opaque security \"ubertickets\" to accompany jobs.", "description": "<blockquote>\n<div class=\"restricted\"><h1>THE V8_5-CERN-Cred-branch IS CLOSED</h1></div><strong>Below, you can find the history of the tickets done on this branch</strong>\n\n<p>All future changes should be done on the master branch.\n\n</p><p></p><div>\n<table border=\"1\" cellpadding=\"2\" cellspacing=\"0\" summary=\"EMBED: Status Table of Derived Tickets\">\n<caption>\n  <a href=\"rptview?rn=86\" rel=\"nofollow\" title=\"EMBED: Status Table of Derived Tickets\">EMBED: Status Table of Derived Tickets</a>\n</caption>\n<tbody><tr>\n<td colspan=\"11\"><form action=\"rptview\" method=\"GET\">\n<input name=\"rn\" type=\"hidden\" value=\"86\"/>\nTN: <input name=\"TN\" type=\"text\" value=\"5272\"/>\n<input type=\"submit\" value=\"Go\"/>\n</form></td></tr> \n<tr>\n<th><a href=\"rptview?rn=86&amp;order_by=2&amp;order_dir=ASC&amp;TN=5272\">Developer</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=3&amp;order_dir=ASC&amp;TN=5272\">#</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=4&amp;order_dir=ASC&amp;TN=5272\">Status</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=5&amp;order_dir=ASC&amp;TN=5272\">Type</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=6&amp;order_dir=ASC&amp;TN=5272\">Pri</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=7&amp;order_dir=ASC&amp;TN=5272\">Created</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=8&amp;order_dir=ASC&amp;TN=5272\">Changed</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=9&amp;order_dir=ASC&amp;TN=5272\">Target</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=10&amp;order_dir=ASC&amp;TN=5272\">Due Date</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=11&amp;order_dir=ASC&amp;TN=5272\">Days left</a></th>\n<th><a href=\"rptview?rn=86&amp;order_by=12&amp;order_dir=ASC&amp;TN=5272\">Title</a></th>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5964,86\">5964</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ndefect\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2016 Oct\n</td>\n<td valign=\"top\">\n2016 Nov\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nInconsistencies in credential filenames when using accounting groups\n</td>\n</tr>\n<tr bgcolor=\"#f2dcdc\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5331,86\">5331p</a></td>\n<td valign=\"top\">\nnew\n</td>\n<td valign=\"top\">\ndefect\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\ntrouble with decoding\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5287,86\">5287</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-01\n</td>\n<td valign=\"top\">\n-2197.9\n</td>\n<td valign=\"top\">\nHave CredD receive and securely store security token on UNIX\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5282,86\">5282</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Sep\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-01\n</td>\n<td valign=\"top\">\n-2197.9\n</td>\n<td valign=\"top\">\nHave condor_submit on UNIX send a credential to the CredD if requested\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5281,86\">5281</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Sep\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-01\n</td>\n<td valign=\"top\">\n-2197.9\n</td>\n<td valign=\"top\">\nCompile the Windows Credd on Unix\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5309,86\">5309</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-15\n</td>\n<td valign=\"top\">\n-2183.9\n</td>\n<td valign=\"top\">\nHave condor_submit use job attribute to decide if sending uberticket\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5296,86\">5296</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-16\n</td>\n<td valign=\"top\">\n-2182.9\n</td>\n<td valign=\"top\">\nStarter needs to receive opaque credential, store, and activate it\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5295,86\">5295</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-16\n</td>\n<td valign=\"top\">\n-2182.9\n</td>\n<td valign=\"top\">\nAdd RPC in shadow for starter to fetch opaque credential from shadow.\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5311,86\">5311</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-17\n</td>\n<td valign=\"top\">\n-2181.9\n</td>\n<td valign=\"top\">\nStarter needs to manage krb5ccache in job sandbox\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5317,86\">5317</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-19\n</td>\n<td valign=\"top\">\n-2179.9\n</td>\n<td valign=\"top\">\nconsolidate code that deals with the Credential Monitor\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5315,86\">5315</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-19\n</td>\n<td valign=\"top\">\n-2179.9\n</td>\n<td valign=\"top\">\ncreate a secure_read_file() to remove several duplicate code blocks\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5314,86\">5314</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-19\n</td>\n<td valign=\"top\">\n-2179.9\n</td>\n<td valign=\"top\">\nrefactor/combine the handlers for CREDD_GET_PASSWD in shadow/credd\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5312,86\">5312</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-22\n</td>\n<td valign=\"top\">\n-2176.9\n</td>\n<td valign=\"top\">\nallow binary (non-printable) credential files\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5336,86\">5336</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-29\n</td>\n<td valign=\"top\">\n-2169.9\n</td>\n<td valign=\"top\">\nHave ubertickets age out or get cleaned up on the SchedD side.\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5337,86\">5337</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-29\n</td>\n<td valign=\"top\">\n-2169.9\n</td>\n<td valign=\"top\">\nHave ubertickets age out or get cleaned up on the StartD side.\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5313,86\">5313</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-10-30\n</td>\n<td valign=\"top\">\n-2168.9\n</td>\n<td valign=\"top\">\nensure all error codes and corner cases are checked for CERN security\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5338,86\">5338</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-11-03\n</td>\n<td valign=\"top\">\n-2164.9\n</td>\n<td valign=\"top\">\nDeal with reacquiring creds after a SchedD (daemon or machine) restart\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5316,86\">5316</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Apr\n</td>\n<td valign=\"top\">\nv080505\n</td>\n<td valign=\"top\">\n2015-12-10\n</td>\n<td valign=\"top\">\n-2127.9\n</td>\n<td valign=\"top\">\nclean up debugging output on V8_5-CERN-Cred-branch\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5335,86\">5335</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n1\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Nov\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nMake CredD non-blocking for STORE_CRED\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5981,86\">5981</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2016 Oct\n</td>\n<td valign=\"top\">\n2018 Oct\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nEnable encryption by default for credd commands\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=6032,86\">6032</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2016 Dec\n</td>\n<td valign=\"top\">\n2017 Jan\n</td>\n<td valign=\"top\">\nv080600\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nHTCondor support for AFS tokens on Linux via kernel keyrings\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\ntannenba\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=6091,86\">6091</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ndefect\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2017 Jan\n</td>\n<td valign=\"top\">\n2017 Jan\n</td>\n<td valign=\"top\">\nv080600\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nDAGMan cannot submit jobs with AFS / Kerberos support enabled\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\ntim\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5984,86\">5984p</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2016 Oct\n</td>\n<td valign=\"top\">\n2016 Dec\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nDon't allow one user to store credentials for another user\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5302,86\">5302p</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\ntodo\n</td>\n<td valign=\"top\">\n2\n</td>\n<td valign=\"top\">\n2015 Oct\n</td>\n<td valign=\"top\">\n2016 Mar\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nKerberos token and AFS investigation\n</td>\n</tr>\n<tr bgcolor=\"#c8c8c8\">\n<td valign=\"top\">\nzmiller\n</td>\n<td valign=\"top\"><a href=\"tktview?tn=5974,86\">5974</a></td>\n<td valign=\"top\">\nresolved\n</td>\n<td valign=\"top\">\nenhance\n</td>\n<td valign=\"top\">\n3\n</td>\n<td valign=\"top\">\n2016 Oct\n</td>\n<td valign=\"top\">\n2016 Nov\n</td>\n<td valign=\"top\">\nv080508\n</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\u00a0</td>\n<td valign=\"top\">\nReread credmon's pid file periodically\n</td>\n</tr>\n</tbody></table></div>\n\n\n<p>All work is being done on <strong>V8_5-CERN-Cred-branch</strong>\n\n</p><p></p><div class=\"verbatim\">\n<pre>==============================================\nORIGINAL PLAN (ordered by component)\n==============================================\n\n1) Submit:\n  param for SEC_CREDENTIAL_PRODUCER.\n  invoke it and securely capture stdout and exit code.\n  send (new) command to Credd: V2_STORE_CRED\n  block until Credd responds, or timeout (20 seconds?)\n  on failure, report and abort.  schedd not involved.\n  on success, continue with normal submission.\n\n\n2) credd\n  create new command: V2_STORE_CRED  (needs to fork or be non-blocking).\n\n   always receive credential (hold in mem)\n   if it and the .cc file already exist in sec_cred_dir, return success\n   otherwise, write it to SEC_CREDENTIAL_DIRECTORY as\n     username.cred.tmp with ownership of root and permissions 0600.\n   rename it to username.cred.\n   Send SIGHUP to credential monitor. (how to locate?)\n   periodically (1 second?) look for existence of username.cc\n   if found, return success.\n   after 20 seconds, remove username.cred and return failure.\n\n  This means the first time the cred comes in, it will take some time to\n  acheive success.  The second and beyond should return \"instantly\".\n\n\n3) Claim activation (running a job):\n  Shadow (as root) grabs uberticket directly from sec_cred_dir (does not\n   talk to credd to get it) and sends it with a special file transfer sub\n   command (receive credential).\n  Starter receives special command and holds the uberticket in memory. If\n   the .cc already exists, it the in-mem uberticket can be discarded. and\n   we can proceed \"normally\".\n\n   If the .cc is not present, write the uberticket (securely,atomically)\n   uberticket into the sec_cred_dir and immediately send sighup to cred\n   monitor (again, how to locate?).\n\n  Finish file transfer if needed.\n\n  Before execing job, poll (1 second) for .cc file.  When found, copy to\n   job sandbox as user, perms 0600.  Set KRB5CCACHE to point to file.\n\n  Launch job.\n\n  Periodically (SEC_CREDENTIAL_LIFETIME / 2) check for updates of the\n   .cc in the sec_cred_dir and if needed replace the sandbox copy.\n\n  Job finishes, sandbox is cleaned up automatically.\n\n\n4) Startd: When reaping starters, if it's the last for a given user, clean up\n the username.cred from sec_cred_dir.\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5281\" onclick=\"get_ticket_and_populate_wrapper('5281'); return false;\" title=\"Compile the Windows Credd on Unix\">#5281</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nCompile the Windows Credd on Unix</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5282\" onclick=\"get_ticket_and_populate_wrapper('5282'); return false;\" title=\"Have condor_submit on UNIX send a credential to the CredD if requested\">#5282</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave condor_submit on UNIX send a credential to the CredD if requested</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5287\" onclick=\"get_ticket_and_populate_wrapper('5287'); return false;\" title=\"Have CredD receive and securely store security token on UNIX\">#5287</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave CredD receive and securely store security token on UNIX</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5295\" onclick=\"get_ticket_and_populate_wrapper('5295'); return false;\" title=\"Add RPC in shadow for starter to fetch opaque credential from shadow.\">#5295</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAdd RPC in shadow for starter to fetch opaque credential from shadow.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5296\" onclick=\"get_ticket_and_populate_wrapper('5296'); return false;\" title=\"Starter needs to receive opaque credential, store, and activate it\">#5296</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nStarter needs to receive opaque credential, store, and activate it</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5302\" onclick=\"get_ticket_and_populate_wrapper('5302'); return false;\" title=\"Kerberos token and AFS investigation\">#5302</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nKerberos token and AFS investigation</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5309\" onclick=\"get_ticket_and_populate_wrapper('5309'); return false;\" title=\"Have condor_submit use job attribute to decide if sending uberticket\">#5309</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave condor_submit use job attribute to decide if sending uberticket</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5311\" onclick=\"get_ticket_and_populate_wrapper('5311'); return false;\" title=\"Starter needs to manage krb5ccache in job sandbox\">#5311</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nStarter needs to manage krb5ccache in job sandbox</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5312\" onclick=\"get_ticket_and_populate_wrapper('5312'); return false;\" title=\"allow binary (non-printable) credential files\">#5312</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nallow binary (non-printable) credential files</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5313\" onclick=\"get_ticket_and_populate_wrapper('5313'); return false;\" title=\"ensure all error codes and corner cases are checked for CERN security\">#5313</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nensure all error codes and corner cases are checked for CERN security</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5314\" onclick=\"get_ticket_and_populate_wrapper('5314'); return false;\" title=\"refactor/combine the handlers for CREDD_GET_PASSWD in shadow/credd\">#5314</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nrefactor/combine the handlers for CREDD_GET_PASSWD in shadow/credd</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5315\" onclick=\"get_ticket_and_populate_wrapper('5315'); return false;\" title=\"create a secure_read_file() to remove several duplicate code blocks\">#5315</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ncreate a secure_read_file() to remove several duplicate code blocks</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5316\" onclick=\"get_ticket_and_populate_wrapper('5316'); return false;\" title=\"clean up debugging output on V8_5-CERN-Cred-branch\">#5316</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nclean up debugging output on V8_5-CERN-Cred-branch</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5317\" onclick=\"get_ticket_and_populate_wrapper('5317'); return false;\" title=\"consolidate code that deals with the Credential Monitor\">#5317</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nconsolidate code that deals with the Credential Monitor</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/tickets?ticket=5331\" onclick=\"get_ticket_and_populate_wrapper('5331'); return false;\" title=\"trouble with decoding\">#5331</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\ntrouble with decoding</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5335\" onclick=\"get_ticket_and_populate_wrapper('5335'); return false;\" title=\"Make CredD non-blocking for STORE_CRED\">#5335</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nMake CredD non-blocking for STORE_CRED</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5336\" onclick=\"get_ticket_and_populate_wrapper('5336'); return false;\" title=\"Have ubertickets age out or get cleaned up on the SchedD side.\">#5336</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave ubertickets age out or get cleaned up on the SchedD side.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5337\" onclick=\"get_ticket_and_populate_wrapper('5337'); return false;\" title=\"Have ubertickets age out or get cleaned up on the StartD side.\">#5337</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave ubertickets age out or get cleaned up on the StartD side.</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5338\" onclick=\"get_ticket_and_populate_wrapper('5338'); return false;\" title=\"Deal with reacquiring creds after a SchedD (daemon or machine) restart\">#5338</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDeal with reacquiring creds after a SchedD (daemon or machine) restart</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5964\" onclick=\"get_ticket_and_populate_wrapper('5964'); return false;\" title=\"Inconsistencies in credential filenames when using accounting groups\">#5964</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nInconsistencies in credential filenames when using accounting groups</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5974\" onclick=\"get_ticket_and_populate_wrapper('5974'); return false;\" title=\"Reread credmon's pid file periodically\">#5974</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nReread credmon's pid file periodically</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5981\" onclick=\"get_ticket_and_populate_wrapper('5981'); return false;\" title=\"Enable encryption by default for credd commands\">#5981</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nEnable encryption by default for credd commands</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5984\" onclick=\"get_ticket_and_populate_wrapper('5984'); return false;\" title=\"Don't allow one user to store credentials for another user\">#5984</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDon't allow one user to store credentials for another user</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6032\" onclick=\"get_ticket_and_populate_wrapper('6032'); return false;\" title=\"HTCondor support for AFS tokens on Linux via kernel keyrings\">#6032</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHTCondor support for AFS tokens on Linux via kernel keyrings</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6091\" onclick=\"get_ticket_and_populate_wrapper('6091'); return false;\" title=\"DAGMan cannot submit jobs with AFS / Kerberos support enabled\">#6091</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nDAGMan cannot submit jobs with AFS / Kerberos support enabled</td></tr>\n</tbody></table>", "attachments": "<blockquote>\n<ul>\n<li><a href=\"attach_get/904/CERN+Kerberos+and+HTCondor+Touchpoints.pdf\">CERN Kerberos and HTCondor Touchpoints.pdf</a>\n82023 bytes added by zmiller on 2015-Sep-29 19:57:37 UTC.\n<br/>\nProposed \"Touchpoints\" document which CERN has agreed to.<br/>\n</li><li><a href=\"attach_get/921/credmon.tar.gz\">credmon.tar.gz</a>\n7677 bytes added by zmiller on 2016-Jan-11 17:42:31 UTC.\n</li></ul>\n</blockquote>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-16 15:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48061\">[48061]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=45859\">[45859]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45862\">[45862]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45866\">[45866]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45870\">[45870]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45876\">[45876]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45879\">[45879]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45887\">[45887]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45891\">[45891]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45897\">[45897]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45898\">[45898]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45907\">[45907]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45908\">[45908]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45909\">[45909]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45911\">[45911]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45972\">[45972]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45973\">[45973]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45975\">[45975]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45976\">[45976]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45979\">[45979]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45980\">[45980]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45981\">[45981]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45982\">[45982]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45983\">[45983]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45985\">[45985]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45986\">[45986]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45987\">[45987]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45991\">[45991]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45992\">[45992]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45993\">[45993]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45994\">[45994]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45995\">[45995]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=45998\">[45998]</a></span>, <span class=\"chng\"><a href=\"chngview?cn=46001\">[46001]</a></span>,\u00a0[...]\n (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-16 15:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48039\">[48039]</a></span>: check for NULL password before getting length. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-14 13:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47724\">[47724]</a></span>: Undo more cmake quackery I had inserted earlier. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-11 12:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47713\">[47713]</a></span>: Undo some cmake quackery I had inserted earlier. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-10 16:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=47699\">[47699]</a></span>: Updates to fix build on windows (which does not use the credmon) <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Dec-14 17:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=46585\">[46585]</a></span>: Updates to fix build errors on various platforms. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-15 23:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=45995\">[45995]</a></span>: Fix some parameter ordering for future usefulness. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5272\" onclick=\"get_ticket_and_populate_wrapper('5272'); return false;\" title='Add support for opaque security \"ubertickets\" to accompany jobs.'>#5272</a></span>  (By zmiller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Apr-26 20:56", "status": "resolved", "created": "2015-Sep-22 16:34", "fixed_version": "2015-Sep-22 16:34", "broken_version": "", "priority": "1", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "", "creator": "zmiller", "rust": "", "customer_group": "cern", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": ""}
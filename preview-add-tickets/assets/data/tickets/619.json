{"id": 619, "title": "Ticket #619: Write compatibility functions for conversion from old to new ClassAds", "description": "<blockquote>\nTo ease the proposed transition from old to new <span class=\"quote\">ClassAds</span>, we want to write compatibility functions for methods that exist in old <span class=\"quote\">ClassAds</span> but not new <span class=\"quote\">ClassAds</span>. The current list of functions to be written is at <span class=\"wiki\"><a href=\"wiki?p=ClassAdConversionTodo\" title=\"Class Ad Conversion Todo\">ClassAdConversionTodo</a></span>.\n\n<p>The code for the <span class=\"quote\">ClassAds</span> conversion is on branch V7_3-new_classads-branch in git. The compatibility methods are implemented in a child class of classad::ClassAd called compat_classad::<span class=\"quote\">ClassAd</span>. The code is in src/condor_c++_util/compat_classad.cpp/h.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Jul-13 15:21:21 by mccardel:</em> <br/>\n\nA few questions that I'm placing in here in case anyone either knows the answers or if I forget them later:\n\n<p>1) The current <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalString\" title=\"Eval String\">EvalString</a></span> methods first check to see if the Target is themselves, then does something if that is the case. If the function hasn't returned after that, it'll make a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span> called `mad`. This <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span> doesn't seem to be used, but there is a function call to \"EvaluateAttrString(...)\" right below its creation. It seems like this should be \"mad.EvaluateAttrString(...)\", since there's no reason to create the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span> if you aren't going to use it. Does anyone know the correct behaviour?\n\n</p><p>2) The function sPrintExpr takes in a char* buffer. The buffer is set during the function, but it is also returned. The documentation for it mentions that it returns FALSE if the named expression can not be found in the classad, TRUE otherwise, so it seems like at one point it returned a boolean. Should I update the docs or rewrite the function to return booleans?\n\n</p><p></p><hr/>\n<em>2009-Jul-21 10:59:09 by mccardel:</em> <br/>\n\nStatus update:\n\n<p>All the functions from blocks <span class=\"quote\">#1</span> and <span class=\"quote\">#2</span> but ClassAd::put(), ClassAd::initFromStream(), and ClassAd::GetReferences() are done (but not tested).\n\n</p><p>That leaves just those three, ExprTree::Eval() and the stringList*() functions to do. As well as thorough testing.\n\n</p><p></p><hr/>\n<em>2009-Aug-03 13:29:49 by mccardel:</em> <br/>\n\nStatus update time! I've been spending most of the past week(s) testing and rewriting.\n\n<p>The following functions are done and tested: sPrintExpr, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsValidAttrValue\" title=\"Is Valid Attr Value\">IsValidAttrValue</a></span>, fPrintAsXML, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ChainCollapse\" title=\"Chain Collapse\">ChainCollapse</a></span>, EvalString(...,char *), EvalString(..., MyString&amp;), and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NextDirtyExpr\" title=\"Next Dirty Expr\">NextDirtyExpr</a></span>.\n\n</p><p>The function <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EscapeStringValue\" title=\"Escape String Value\">EscapeStringValue</a></span> is done and tested, but needs some call-site changes.\n\n</p><p>The function initFromStream() is done and needs testing (not sure how to do that one).\n\n</p><p>The function put() is mostly done, and mostly tested. I need to figure out how invisible attrs work, and how they'll \"work\" in compat classads.\n\n</p><p>To thoroughly test the put() and initFromStream() functions, I'm thinking of setting up a system where those functions are used instead of the normal ones, and seeing what breaks. The main other way I can think of testing these is by crafting my own Stream object and trying to test with that pre-made Stream, but I'm not sure how to go about creating a Stream just for that. If anyone knows how, get in touch!\n\n</p><p>We need to change the call-sites of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SetDirtyFlag\" title=\"Set Dirty Flag\">SetDirtyFlag</a></span> (as outlined in its page), as well as <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetDirtyFlag\" title=\"Get Dirty Flag\">GetDirtyFlag</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CopyAttribute\" title=\"Copy Attribute\">CopyAttribute</a></span>.\n\n</p><p>I still need to write all the stringListFoo() functions (and figure out what's the analogous use for them in new classads!). These shouldn't take too long I don't think. Just need to figure out a few things and it'll be easy from there.\n\n</p><p>I also need to write and test ExprTree::EvalTree() and ClassAd::GetInternalReferences(). Other than glancing at the code and deciding to put these off til the last (so I'd have a better understanding of the code), I haven't done much with these.\n\n</p><p></p><hr/>\n<em>2009-Aug-10 11:52:32 by mccardel:</em> <br/>\n\nDid some further testing and fixed a few functions. Added support for invisible attributes to put(). Rewrote the code for put() so we didn't have two Mostly Identical functions, but now just one function that takes in a bool to decide if we need to do special things with regard to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyType\" title=\"My Type\">MyType</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TargetType\" title=\"Target Type\">TargetType</a></span>.\n\n<p>I believe I have <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span> working. I haven't tested it yet, and before that I want to look over it one more time to make sure it follows the \"when a reference is internal\" rules. <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetExternalReferences\" title=\"Get External References\">GetExternalReferences</a></span> also has a version that takes in a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PortReference\" title=\"Port Reference\">PortReference</a></span>, but I haven't written an Internal version of that since I'm not certain we'd need it. Should be a fast addition if the need arises.\n\n</p><p>I'm in the process of writing ExprTree::EvalTree(). I still have to write the stringListFoo() functions, and I still have to figure out what they're used for and how to emulate them. edit: the stringListFoo() functions appear to have already been written. They're in fnCall.cpp.\n\n</p><p></p><hr/>\n<em>2009-Aug-27 09:54:06 by mccardel:</em> <br/>\n\nThe stringlistFOO functions were in the file fnCall.cpp in the new classad's directory, so I did not write those.\n\n<p><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalTree\" title=\"Eval Tree\">EvalTree</a></span> is 99.999% done, and I just need to double check that my interpretation of wording is correct.\n\n</p><p><span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span> has been written, tested, rewritten, and tested again. It appears to be working, but I want to do a little more testing before I'm certain.</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=959\" title=\"Linking both old and new ClassAds on AIX\">#959</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nLinking both old and new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> on AIX</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=1974\" title=\"ClassAd::sPrint() should append, not overwrite\">#1974</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nClassAd::sPrint() should append, not overwrite</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-18 22:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17290\">[17290]</a></span>: Add My reference for single-ad evaluation in compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> When evaluating an expression in the context of a local ad but no target ad, temporarily add a My=self attribute, so that attribute references with a My. scope evaluate properly.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-18 22:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17289\">[17289]</a></span>: Skip deleted attrs in dirty list in compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> In new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, the list of dirty attributes includes removed attributes. In old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, it doesn't. So we need to skip the removed attributes in the compatibility layer.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-09 18:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17160\">[17160]</a></span>: Add stringlist functions to compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-06 00:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17111\">[17111]</a></span>: Fix compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> bug that causes crashes on Windows. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Comparing an iterator from one ad with the end() from another ad causes crashes on Windows. This affected NextNameOriginal() and NextExpr().  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-05 13:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17105\">[17105]</a></span>: Fix bug in new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> GetMyTypeName() and GetMyTargetName() were returning pointers from a local variable, which is destroyed when the function returns. Made the variables static.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-02 17:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17069\">[17069]</a></span>: Fix bug in EvalBool() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The wrong variable was being passed to Value::IsIntegerValue(). This could result in EvalBool() returning the wrong answer.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-28 09:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17003\">[17003]</a></span>: Make 2nd arg to compat ClassAd::initFromString() optional. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-28 09:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=17002\">[17002]</a></span>: Fix C++ scoping on a call to ConvertEscapingOldToNew(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-28 08:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16999\">[16999]</a></span>: Update compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> constructor to match old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The constructor that reads an ad out of a file needed to be updated to match its equivalent in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. This includes reading and ignoring the full line after the delimiter and ignoring lines of pure whitespace and lines starting with\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-28 08:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16998\">[16998]</a></span>: Convert string escaping in more places in compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Now, we convert string escaping from old style to new style everywhere we need to. The conversion is done in the new utility function ConvertEscapingOldToNew().  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-27 14:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16996\">[16996]</a></span>: Fix crashing bug in GetDirtyFlag() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The caller can pass NULL for the exists and dirty parameters.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-27 09:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16987\">[16987]</a></span>: Enable dirty tracking when reading a compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> from a file. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-26 13:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16974\">[16974]</a></span>: Fix the EscapeStringValue() test for compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The test, like the method as originally written, assumed quotes should be added around the escaped string.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-26 09:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16967\">[16967]</a></span>: Fix some bugs in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Send private attributes over CEDAR when appropriate. * Lookup and Eval methods shouldn't modify result argument if attribute can't be found or evaluated. * When iterating over an ad and its parent, be careful that end() from both can evaluate equally.\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-15 17:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16909\">[16909]</a></span>: Clear out old value in ExprTreeToString(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The unparser appends to the string, rather than overwriting. Thus, we have to clear it ourselves.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-15 16:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16906\">[16906]</a></span>: Fix Assign and AssignExpr() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Both of these methods can take a NULL for a value in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, which means use a value of Undefined.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-14 14:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16894\">[16894]</a></span>: Unparse compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> into old format. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-13 12:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16877\">[16877]</a></span>: Fix lib_eventlog_build test build. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Before, the build line wasn't getting the WANT_OLD_CLASSADS defintion.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-12 16:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16870\">[16870]</a></span>: Fix build failure on AIX. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The linking of condor_schedd was failing due to an overflow of the TOC (Table Of Contents). Add some gcc flags to reduce the number of symbols put into the TOC.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-11 17:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16863\">[16863]</a></span>: Tell Windows build about move of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> parser source files. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The parser code in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> for new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> and XML formats has moved to condor_c++_util.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-08 11:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16856\">[16856]</a></span>: Implement GetReferences() and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetExprReferences\" title=\"Get Expr References\">GetExprReferences</a></span> in compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-08 11:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16855\">[16855]</a></span>: Make GetInternalReferences() recurse on attribute refs in new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-07 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16851\">[16851]</a></span>: Added signatures for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetReferences\" title=\"Get References\">GetReferences</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetExprReferences\" title=\"Get Expr References\">GetExprReferences</a></span> to compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-07 15:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16850\">[16850]</a></span>: Added a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetReferences\" title=\"Get References\">GetReferences</a></span> which'll return a list of both external and internal references. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-07 15:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16849\">[16849]</a></span>: Minor changes to condor_startd_factory so it works with compat layer, and changes so test code respects new fopen rules (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-07 15:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16848\">[16848]</a></span>: Major reworking of test_compat_classads, adding a more sane way of testing, fixed classad generation, and more test cases for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span>. Also includes changes to <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span>. (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 22:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16815\">[16815]</a></span>: Remove some <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> forward declarations for compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 22:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16814\">[16814]</a></span>: Fix up compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAdList\" title=\"Class Ad List\">ClassAdList</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Add Count() method. * Change signature of sort comparison function.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 11:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16813\">[16813]</a></span>: Add comments to a couple compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> methods. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 10:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16811\">[16811]</a></span>: Minor tweaks to code to work with <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 10:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16810\">[16810]</a></span>: Add alternate code for compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> for uses of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ExprTree\" title=\"Expr Tree\">ExprTree</a></span> and scanner. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> This code uses the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ExprTree\" title=\"Expr Tree\">ExprTree</a></span> class heirarchy and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> scanner in ways that are hard to emulate in the compatibility layer. So we'll include alternate code for new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> directly in the functions.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-05 10:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16809\">[16809]</a></span>: Add missing functions to compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * add AttrList_setPublishServerTimeMangled() * add ClassAd::IsValidAttrName() * make ClassAd::IsValidAttrValue() static  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-04 15:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16808\">[16808]</a></span>: Remove forward declarations of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> These forward declarations were causing build failures when using the compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> layer.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-26 12:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16799\">[16799]</a></span>: Ensure <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CurrentTime\" title=\"Current Time\">CurrentTime</a></span> is always set in compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-26 12:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16798\">[16798]</a></span>: Fix problems with compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> CEDAR methods. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-26 00:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16795\">[16795]</a></span>: Don't build compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> when using old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The new version of sPrintAsXML() makes it annoying to build the compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> classes when using old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, as it relies on the old XML unparsing class.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-26 00:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16794\">[16794]</a></span>: Fixed up some printing methods in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Add new white-list argument to fPrint() and sPrintAsXML() * Add ClassAdList::fPrintAttrListList()  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 22:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16793\">[16793]</a></span>: Adjust code to work with <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> compatibility layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Remove some forward declarations of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. * Remove some references to ExprTree::invisible.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 22:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16792\">[16792]</a></span>: Make XML <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> parsing code work with compatibility layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Remove reference to ExprTree::invisible. * Replace old ClassAd-specific code when compatibility layer is in use.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 22:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16790\">[16790]</a></span>: Add option to replace old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> with compatibility layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Configure now accepts a --enable/disable-old-classads option, which sets macro WANT_OLD_CLASSADS. If --disable-old-classads is given, old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> are removed, replaced by compat_classad::ClassAd. The default is to use old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 21:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16789\">[16789]</a></span>: Move old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> parsing files out of old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> library. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> This lets us use them with the compatibility <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> layer.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 21:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16788\">[16788]</a></span>: Fix up compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> * Add ClassAd::initFromString() * Add missing argument to ClassAd::EscapeStringValue() * Add a couple typedefs * Add ATTRLIST_MAX_EXPRESSION definition  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 01:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16787\">[16787]</a></span>: Add SetPrivateAttributesInvisible() to compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> This method causes private attributes to be omitted in fPrint(), sPrint(), put() and putAttrList().  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Dec-25 00:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16786\">[16786]</a></span>: Remove use of removed <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> constructor in test code. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-16 16:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16350\">[16350]</a></span>: Remove usage of ExprTree::MyType() in classad_reevaluate(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-16 16:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16349\">[16349]</a></span>: Revert \"Remove unused files ClassAdReevaluator*. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>\" This reverts commit a8f3fb55b8b84510fc112eae1d26c6184fb0843b.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-16 11:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16346\">[16346]</a></span>: Add configure test for _REENTRANT for localtime_r on HPUX. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> localtime_r and gmtime_r are available on HPUX only if _REENTRANT is defined. Copying test directly from new ClassAd's configure.ac to test for this.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-16 09:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16345\">[16345]</a></span>: Add stripped and static targets to new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> Imakefile. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-14 23:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16324\">[16324]</a></span>: Fix <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAdList\" title=\"Class Ad List\">ClassAdList</a></span> handling in negotiator for compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAdList\" title=\"Class Ad List\">ClassAdList</a></span> in old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> has reference counting. When an ad is inserted into multiple lists, it is not deleted until it's removed from all of the lists. <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAdList\" title=\"Class Ad List\">ClassAdList</a></span> in the compatibility layer for new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> doesn't have this, so the caller\u00a0[...]\n (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 01:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16299\">[16299]</a></span>: Add compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> functions EvalBool(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The code is lifted straight from old Classads, with a few minor tweaks.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 01:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16298\">[16298]</a></span>: Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat functions IsAMatch and IsAHalfMatch. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> Annoyingly, I had to remove the consts from the parameters because in new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, we need to temporarily modify the ads' parent scope when using the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span> to evaluate them.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 00:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16297\">[16297]</a></span>: Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat function <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAdsAreSame\" title=\"Class Ads Are Same\">ClassAdsAreSame</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 00:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16296\">[16296]</a></span>: Remove unused files ClassAdReevaluator*. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 00:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16295\">[16295]</a></span>: Add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat methods putAttrList and initAttrListFromStream. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 00:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16294\">[16294]</a></span>: Define compat_classad::AttrList. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-12 00:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16293\">[16293]</a></span>: Rename put() and initFromStream() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=AttrList\" title=\"Attr List\">AttrList</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The new names are putAttrList() and initAttrListFromStream(). This will make it easier to transition to new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-11 23:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16292\">[16292]</a></span>: Fix old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> test program. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> The removal of constructor ClassAd(char*,char) broke the test program. Now, the test program uses ClassAd::initFromString() instead.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-06 14:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16259\">[16259]</a></span>: Add new constructor to convert from new to compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> This new constructor makes it easy to create a compat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> from a new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span>.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-06 00:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16256\">[16256]</a></span>: Use new function <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalExprTree\" title=\"Eval Expr Tree\">EvalExprTree</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-06 00:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16255\">[16255]</a></span>: Add function EvalExprTree() for transition to new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> In new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ExprTree\" title=\"Expr Tree\">ExprTree</a></span> doesn't have an EvalTree() method. So we introduce an equivalent free-standing function, with version for compat_classad::ClassAd.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-05 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16253\">[16253]</a></span>: Remove little-used constructor for old ClassAd/AttrList. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span> ClassAd(char*,char) and AttrList(char*,char) were only called in two locations, which I switched to use other calls.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-04 23:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16240\">[16240]</a></span>: Add old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat method NextExpr(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-04 23:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16239\">[16239]</a></span>: Add old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat methods CopyAttribute(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-04 22:48</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16238\">[16238]</a></span>: Add old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat methods Get/SetDirtyFlag(). <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15548\">[15548]</a></span>: Made some changes to test compat classads so -vv was supported for better control over what the output is. A lot more changes were made to the test program to make it test better. The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span> test now does a better job of testing.\u00a0[...]\n (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15547\">[15547]</a></span>: Added <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GetInternalReferences\" title=\"Get Internal References\">GetInternalReferences</a></span> and ExprTree::EvalTree(). <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalTree\" title=\"Eval Tree\">EvalTree</a></span> is in classad_oldnew.(cpp/h), and will require callsite changes since it needs the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ExprTree\" title=\"Expr Tree\">ExprTree</a></span> to be passed in.\u00a0[...]\n (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15546\">[15546]</a></span>: Tested and fixed bugs in sPrintExpr, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=IsValidAttrValue\" title=\"Is Valid Attr Value\">IsValidAttrValue</a></span>, fPrintAsXML, sPrintAsXML, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ChainCollapse\" title=\"Chain Collapse\">ChainCollapse</a></span>. Tested <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalStrings\" title=\"Eval Strings\">EvalStrings</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NextDirtyExpr\" title=\"Next Dirty Expr\">NextDirtyExpr</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EscapeStringValue\" title=\"Escape String Value\">EscapeStringValue</a></span>. Added support for invisible attributes to put() and refactored the put() code so there's less duplicate code. (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15545\">[15545]</a></span>: Added the compat function put(). Also added putOldClassAdNoTypes(), which doesn't treat <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyType\" title=\"My Type\">MyType</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TargetType\" title=\"Target Type\">TargetType</a></span> special (like the default put() does). (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15544\">[15544]</a></span>: Added <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ChainCollapse\" title=\"Chain Collapse\">ChainCollapse</a></span> to compat_classad.(cpp/h). The old classad version had a boolean option specifying whether it should be deep copied or not. This one does not. This also doesn't have the bool with_deep_copy, since we should always deep copy. Also changed some call-sites. (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Aug-27 15:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=15543\">[15543]</a></span>: Added compat function for EvalString(), the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyString\" title=\"My String\">MyString</a></span> version of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalString\" title=\"Eval String\">EvalString</a></span>, sPrintExpr(), IsValidAttrValue(), NextDirtyExpr(), fPrintAsXml(), sPrintAsXML(), and EscapeStringValue(). Will need to change callsites for EscapeStringValue(). (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=619\" title=\"Write compatibility functions for conversion from old to new ClassAds\">#619</a></span>)  (By Will <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=McCardell\" title=\"Mc Cardell\">McCardell</a></span> )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Feb-05 15:38", "status": "resolved", "created": "2009-Jul-07 17:46", "fixed_version": "2009-Jul-07 17:46", "broken_version": "v070300", "priority": "4", "subsystem": "Libs", "assigned_to": "mccardel", "derived_from": "#187", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
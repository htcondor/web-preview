{"id": 2016, "title": "Ticket #2016: uncommenting PREEN no longer disables it", "description": "<blockquote>\nBurt made the following observation:\n\n<p>We normally leave PREEN unset/commented out for glideins.  According to the manual, this is the right thing to do:\n\n</p><p>PREEN\n    In addition to the daemons defined in $(DAEMON_LIST), the condor_master also starts up a special process, condor_preen to clean out junk files that have been left laying around by Condor. This macro determines where the condor_master finds the condor_preen binary. Comment out this macro, and condor_preen will not run.\n\n</p><p>and yet I see the first preen kicking off after an hour under Condor 7.5.5.  Looking just a little bit deeper on a Condor 7.5.5 install:\n\n</p><p></p><div class=\"verbatim\">\n<pre>[root@cms-xen37 ~]# condor_version\n$CondorVersion: 7.5.5 Jan 26 2011 BuildID: 308936 $\n$CondorPlatform: I686-LINUX_x86_rhap_5 $\n[root@cms-xen37 ~]# condor_config_val -verbose PREEN\nPREEN: /usr/sbin/condor_preen\n  Defined in '&lt;Internal&gt;'.\n</pre></div>\n\n\n<p>As opposed to 7.4.1 (which I had lying around):\n\n</p><p></p><div class=\"verbatim\">\n<pre>[root@cmslpc11 burt]# condor_version\n$CondorVersion: 7.4.1 Dec 18 2009 BuildID: 204351 $\n$CondorPlatform: X86_64-LINUX_RHEL3 $\n[root@cmslpc11 burt]# condor_config_val -verbose PREEN\nNot defined: PREEN\n</pre></div>\n\n\n<p><span class=\"section\"></span></p><h2>How to Fix</h2>\n\n<p>I think we should stick with the new behavior, which is to have a default value for PREEN in the param table, hard-coded into Condor.  If we do that, we need to update the docs to correctly indicate that to disable PREEN, one must explicitly unset it rather than just uncomment it.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Mar-31 09:14:32 by burt:</em> <br/>\n\nChanging the manual is fine with me (and glideinWMS).  I'd advise adding something to the Release Notes, as well as checking for and documenting other variables that now insert a default value if they are commented out in the config.\n\n<p></p><hr/>\n<em>2011-Apr-04 11:24:03 by danb:</em> <br/>\n\nI updated the docs and did a search for other misuses of the words 'comment' and 'uncomment'.  I found some minor things, which are now under discussion.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-04 11:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=25982\">[25982]</a></span>: Corrected statement about how to disable preen. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2016\" title=\"uncommenting PREEN no longer disables it\">#2016</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Apr-04 11:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=21249\">[21249]</a></span>: Correct comment in default config file about how to disable PREEN. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2016\" title=\"uncommenting PREEN no longer disables it\">#2016</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Apr-04 11:24", "status": "resolved", "created": "2011-Mar-30 21:07", "fixed_version": "2011-Mar-30 21:07", "broken_version": "v070500", "priority": "2", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "burt@fnal.gov,psilord@cs.wisc.edu,dan@hep.wisc.edu", "due_date": ""}
{"id": 1326, "title": "Ticket #1326: Allow regexp for node name for script, retry, etc.", "description": "<blockquote>\n(This was suggested by Ian Stokes-Rees on condor-users today.)\n\n<p>Anyhow, the idea is to be able to do something like this:\n\n</p><p>RETRY       * 7\nSCRIPT POST * ./process_output $JOB $JOBID\n\n</p><p>Seems like a good idea...</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Sep-22 12:05:29 by wenger:</em> <br/>\n\nWe currently have a FindNodeByName() method in the Dag class; I guess we could also add a FindNodeByRegex() method.  My thought is that, to avoid a lot of inefficiency, the only time we'd call FindNodeByRegex() is during parsing, if we called FindNodeByName() and didn't find anything.  If we just call FindNodeByRegex() all the time I think that will slow down the parsing a lot.\n\n<p>One thing to think about -- how this interacts with the VARS code for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=1780\" title=\"VARS values in top-level DAG should be able to be applied to splices\">#1780</a></span>.\n\n</p><p></p><hr/>\n<em>2014-Sep-22 12:13:09 by wenger:</em> <br/>\n\nWe clearly want to do this for VARS if we do it, even though that's not included in the original title.  Maybe clean up the VARS implementation first...\n\n<p></p><hr/>\n<em>2016-Jun-06 11:01:26 by wenger:</em> <br/>\n\nIf we do this, I think we need to disallow characters like *, etc., in node names.  The reason is that, for performance, we don't want to do a regex lookup every time we process a command -- that will get super-slow for really big DAGs.  What I think we should do is look up the specified name in the node name hash table, and, only if that fails, run a regex against the node names.\n\n<p>I guess another option would be to look for special regex characters in the node name in VARS commands, etc., and if we find them, run the regex lookup.\n\n</p><p>Either way, though, we probably want to prohibit special regex chars in node names.</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=5729\" title='Allow \"for all\" for node name for script, retry, etc.'>#5729</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nAllow \"for all\" for node name for script, retry, etc.</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2016-Jun-06 11:01", "status": "new", "created": "2010-Apr-01 09:54", "fixed_version": "2010-Apr-01 09:54", "broken_version": "v070502", "priority": "4", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, psilord@cs.wisc.edu", "due_date": ""}
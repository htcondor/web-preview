{"id": 2211, "title": "Ticket #2211: Publish performance stat attributes for the Collector", "description": "<blockquote>\nPublish some performance statistics on the collector ad to aid in determining if the collector is performing well or is overworked.  Analogous to the recent performance statistics enhancements for the negotiator and scheduler ads.\n\n<p>Suggested performance statistics so far are:\n</p><div class=\"verbatim\">\n<pre>WindowedStatWidth -- value of COLLECTOR.WINDOWED_STAT_WIDTH (see #2006)\nCollectorUpdates -- updates over most recent time window WindowedStatWidth\nCollectorUpdateRate -- update rate over the previous time window, defined by WindowedStatwidth\nCollectorUpdatesCumulative updates over collector lifetime\n\nEventLoopLoad -- 0% to 100% (or 0 to 1).  What fraction of time in event loop is non-idle.  (look into properly accounting for time spent in select())  (is this also over WindowedStatWidth?)\nEventLoopLoadCumulative -- load over collector lifetime\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2011-Jun-04 12:15:39 by matt:</em> <br/>\n\nEventLoopLoad* -- sounds like a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DaemonCore\" title=\"Daemon Core\">DaemonCore</a></span> statistic that can be published into all daemon ads\n\n<p></p><hr/>\n<em>2011-Jun-04 14:29:41 by matt:</em> <br/>\n\nselect() overhead <code>?</code> 1 - <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EventLoopLoad\" title=\"Event Loop Load\">EventLoopLoad</a></span>, assuming a client load that guarantees data always exists on select()d fds\n\n<p></p><hr/>\n<em>2011-Jul-20 15:49:03 by tannenba:</em> <br/>\n\nHow is this effort coordinated w/ the design plan in <span class=\"ticket\"><a class=\"stalled\" href=\"tktview?tn=2197\" title=\"General statistics architecture for Condor\">#2197</a></span>?  I.e. will they use the same conventions for attribute naming? and the same conventions for publication of raw -vs- cooked data? Hint: the answer must be <strong>yes</strong>. :)\n\n<p></p><hr/>\n<em>2011-Sep-08 10:08:21 by johnkn:</em> <br/>\n\n<span class=\"quote\">EventLoopLoad</span> can be determined from DC Statistics defined in <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2354\" title=\"Statistics in DaemonCore\">#2354</a></span>\n\n<p></p><pre>  DCSelectWaittime / DCStatsLifetime\n  RecentDCSelectWaittime / DCRecentStatsLifetime\n</pre>\n\n<p>or alternatively\n\n</p><p></p><pre>  DCSelectWaittime / (DCTimerRuntime + DCPipeRuntime + DCSocketRuntime + DCSignalRuntime)\n</pre>\n\n<p>or perhape some subset of the sum of the above runtimes because you don't really want to include time spent handling signals...\n</p><hr/>\n<em>2012-Oct-22 14:58:56 by zmiller:</em> <br/>\n\nBulk change of target version from v070901 to v070902 using ./ticket-target-mover.\n<hr/>\n<em>2012-Dec-11 16:37:58 by johnkn:</em> <br/>\n\nBulk change of target version from v070902 to v070903 using ./ticket-target-mover.\n<hr/>\n<em>2013-Jan-22 10:54:51 by johnkn:</em> <br/>\n\nBulk change of target version from v070903 to v070904 using ./ticket-target-mover.\n<hr/>\n<em>2013-Mar-05 10:58:27 by johnkn:</em> <br/>\n\nBulk change of target version from v070904 to v070905 using ./ticket-target-mover.\n<hr/>\n<em>2013-Apr-22 11:10:10 by johnkn:</em> <br/>\n\nBulk change of target version from v070905 to v070906 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2013-Apr-22 11:10", "status": "new", "created": "2011-Jun-04 12:13", "fixed_version": "2011-Jun-04 12:13", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "eje", "derived_from": "#2197", "creator": "eje", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com, eje@redhat.com, dan@hep.wisc.edu", "due_date": ""}
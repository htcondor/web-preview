{"id": 4018, "title": "Ticket #4018: Have utility that can fetch and cache remote config files", "description": "<blockquote>\nDue to DoIT's requests/requirements, we need a built in utility for downloading a remote configuration file on Windows. The easiest way is to create a new executable that uses curl to download a file and cache it locally in case future downloads fail.</blockquote>", "remarks": "<blockquote>\n<em>2013-Nov-18 14:53:41 by ziliang:</em> <br/>\n\nOutput from -help:\n\n<p></p><pre>  This utility accepts arguments in the following format:\n  config_fetch http://url.to.config.file [path_to_cache_file]\n  config_fetch -help\n</pre>\n\n<p>Utility takes in a URL and an optional path to where to cache the config file. After the first run, if it fails to retrieve the file, it will look at the cache file to get the previous results.\n\n</p><p></p><hr/>\n<em>2013-Dec-11 14:37:56 by jfrey:</em> <br/>\n\ncondor_urlfetch is using tmpnam() to create a temporary file, which has potential security problems. It should use condor_mkstemp() instead.\n\n<p></p><hr/>\n<em>2014-May-29 11:32:34 by tim:</em> <br/>\n\nconfig_fetch needs to be removed.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-13 13:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=40409\">[40409]</a></span>: remove obsolete config_fetch tool from sources <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span> ===VersionHistory:None=== this tool was never documented.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-09 12:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39888\">[39888]</a></span>: Changed condor_url_fetch.pl to .run <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-07 13:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39870\">[39870]</a></span>: Added condor_urlftech_test to CMakeLists.txt <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-02 16:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39846\">[39846]</a></span>: Run ready condor_urlfetch_test.pl <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-31 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39806\">[39806]</a></span>: Nearly done condor_urlfetch_test.pl <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-28 16:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39759\">[39759]</a></span>: incomplete condor_urlfetch test perl script <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-27 09:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39722\">[39722]</a></span>: first pass documentation for new condor_urlfetch tool <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Feb-21 16:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39467\">[39467]</a></span>: new condor_urlfetch tool pushed to version 8.1.5, so comment out unfinished man page <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-15 10:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=39157\">[39157]</a></span>: Add mostly empty man page for new 8.1.4 condor_urlfetch tool. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Dec-06 15:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38956\">[38956]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-22 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38826\">[38826]</a></span>: fix config_fetch so that doesn't just write the last buffer to disk/stdout <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span> ===VersionHistory:None== bug never shipped  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-22 14:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38954\">[38954]</a></span>: Ticket number <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Luke Brandl )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-21 20:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38816\">[38816]</a></span>: change <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span> because gcc can't figure out that valid code is valid  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Nov-21 15:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38812\">[38812]</a></span>: fix write to stdout for the config_fetch tool. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span> ===VersionHistory:None=== bug never shipped  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-30 13:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=38026\">[38026]</a></span>: Fix build of config fetch utility on Linux. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-28 16:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37999\">[37999]</a></span>: Fix error handling so that the fetch utility to properly detect invalid urls. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Ziliang Guo )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Oct-28 16:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=37998\">[37998]</a></span>: Implement utility for downloading a config file remotely and also support setting the local config knob via the MSI installer. Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4018\" onclick=\"get_ticket_and_populate_wrapper('4018'); return false;\" title=\"Have utility that can fetch and cache remote config files\">#4018</a></span>  (By Ziliang Guo )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Aug-04 11:53", "status": "resolved", "created": "2013-Oct-28 16:05", "fixed_version": "2013-Oct-28 16:05", "broken_version": "v080000", "priority": "4", "subsystem": "FileTransfer", "assigned_to": "johnkn", "derived_from": "", "creator": "brandl", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
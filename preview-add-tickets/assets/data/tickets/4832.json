{"id": 4832, "title": "Ticket #4832: GCE instances not cleaned up properly", "description": "<blockquote>\nFor GCE (Google Compute Engine) jobs, the instances on the server aren't cleaned up properly. If an instance shuts down, it enters the TERMINATED state. The gridmanager treats this as job completion and lets the job leave the queue, but it doesn't destroy the instance on the server. Unlike EC2, TERMINATED instances don't go away unless explicitly destroyed.\n\n<p>As part of this fix, get rid of the double-check that a destroyed instance is actually gone. Unlike with EC2, the gahp can wait and confirm from the server that the destroy operation completed successfully.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Jan-23 10:26:26 by tlmiller:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>Looks good to me.</p></blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-26 13:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42382\">[42382]</a></span>: super minor 8.2.7 version history item edits <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4832\" onclick=\"get_ticket_and_populate_wrapper('4832'); return false;\" title=\"GCE instances not cleaned up properly\">#4832</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4761\" onclick=\"get_ticket_and_populate_wrapper('4761'); return false;\" title=\"Cloned children shouldn't rotate daemon log\">#4761</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-15 10:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42226\">[42226]</a></span>: Docs for GCE update and bug fixes. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4586\" onclick=\"get_ticket_and_populate_wrapper('4586'); return false;\" title=\"Google cloud type doesn't work as documented\">#4586</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4832\" onclick=\"get_ticket_and_populate_wrapper('4832'); return false;\" title=\"GCE instances not cleaned up properly\">#4832</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-15 09:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=42225\">[42225]</a></span>: Improve cleanup of GCE instances. <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=4832\" onclick=\"get_ticket_and_populate_wrapper('4832'); return false;\" title=\"GCE instances not cleaned up properly\">#4832</a></span> GCE isn't like EC2, where termianted instances will go away automatically. They have to be explicitly deleted.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Jan-23 10:28", "status": "resolved", "created": "2015-Jan-14 14:32", "fixed_version": "2015-Jan-14 14:32", "broken_version": "v080104", "priority": "2", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": ""}
{"id": 4200, "title": "Ticket #4200: MSI installer doesn't properly handle ALLOW_READ, ALLOW_WRITE", "description": "<blockquote>\nStub on condor-users reported:\n\n<p></p><div class=\"verbatim\">\n<pre>I do the unattended install, according to the HTCondor manual; something like this:\nset MSI=\"condor-8.0.5-212140-Windows-x86.msi\"\nset ARGS=\nset ARGS=NEWPOOL=\"N\"\nset ARGS=%ARGS% POOLNAME=\"Library\"\nset ARGS=%ARGS% RUNJOBS=\"C\"\nset ARGS=%ARGS% VACATEJOBS=\"Y\"\nset ARGS=%ARGS% SUBMITJOBS=\"N\"\nset ARGS=%ARGS% CONDOREMAIL=\"\"\nset ARGS=%ARGS% SMTPSERVER=\"\"\nset ARGS=%ARGS% HOSTALLOWREAD=\"xxx.xxx.0.0/16\"\nset ARGS=%ARGS% HOSTALLOWWRITE=\"xxx.xxx.0.0/16\"\n.....[etc. etc.]\nmsiexec /qn /norestart /l*v condor-install-log.txt /i %MSI% %ARGS%\nThen I see in the file C:\\condor\\condor_config  things like this:\nALLOW_READ=xxx.xxx.0.0/16#ALLOW_READ = *.your.domain, *.cs.wisc.edu\nand\nALLOW_WRITE=xxx.xxx.0.0/16#ALLOW_WRITE = *.your.domain, your-friend's-machine.other.domain\n</pre></div>\n\n\n<p>The problem appears to be that the MSI installer doesn't actually substitute lines that begin with # in the generic config, it appears to insert at the beginning of the line instead.</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Feb-05 17:14:34 by johnkn:</em> <br/>\n\nAfter more investigation, it appears that the problem is not that the HTCondor MSI installer is inserting onto the line it should be replacing, but that the replacement line has a unix style ending so that it when condor_config is opened in notepad, the line appears to run right into the next line.\n\n<p>This is not a problem for the HTCondor config file parser, since it doesn't care which style of line ending is used, but it is a usability issue for users.\n\n</p><p></p><hr/>\n<em>2014-May-29 11:38:59 by tim:</em> <br/>\n\nAbandoning because user should have used a editor that can handle either line ending style. HTCondor works properly with either or mixed line endings.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2014-May-29 11:39", "status": "abandoned", "created": "2014-Feb-05 14:23", "fixed_version": "2014-Feb-05 14:23", "broken_version": "v080005", "priority": "1", "subsystem": "Win32", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
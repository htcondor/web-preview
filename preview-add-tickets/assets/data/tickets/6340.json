{"id": 6340, "title": "Ticket #6340: The '*' security specifier is IPv4-specific.", "description": "<blockquote>\nThe second thing that condor_netaddr::match() checks is to see if the netaddr and the proposed match have the same address type.  That'd be fine, if the condor_netaddr::from_string() code didn't assign '*' to the IPv4 address type.</blockquote>", "remarks": "<blockquote>\n<em>2017-Jul-11 13:36:50 by zmiller:</em> <br/>\n\n<strong>CODE REVIEW</strong>: I think the code that sets <code>matchesEverything</code> in the case of \"<code>*/*</code>\" isn't reachable in the case where the address is IPv6, because of the check for <code>base_.is_ipv4()</code> and the following checks for interpreting the netmask correctly.\n\n<p></p><hr/>\n<em>2017-Jul-11 15:51:13 by tlmiller:</em> <br/>\n\nPatch rewritten according to verbal discussion with reviewer.\n\n<p></p><hr/>\n<em>2017-Jul-11 16:03:49 by zmiller:</em> <br/>\n\n<strong>CODE REVIEW</strong>:  Looks good!  Don't forget to merge through master.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-11 16:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51858\">[51858]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6340\" onclick=\"get_ticket_and_populate_wrapper('6340'); return false;\" title=\"The '*' security specifier is IPv4-specific.\">#6340</a></span>) Documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-11 15:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51857\">[51857]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6340\" onclick=\"get_ticket_and_populate_wrapper('6340'); return false;\" title=\"The '*' security specifier is IPv4-specific.\">#6340</a></span>) Rewrite patch to be more understandable and eliminate the possibility of a bug in recognizing '*/*'.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-07 21:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51839\">[51839]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6340\" onclick=\"get_ticket_and_populate_wrapper('6340'); return false;\" title=\"The '*' security specifier is IPv4-specific.\">#6340</a></span>) Keep Fedora compiler happy  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jul-07 14:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=51838\">[51838]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6340\" onclick=\"get_ticket_and_populate_wrapper('6340'); return false;\" title=\"The '*' security specifier is IPv4-specific.\">#6340</a></span>) Add a flag for '*' and '*/*' wildcards, so that they don't care about address type.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Jul-11 16:41", "status": "resolved", "created": "2017-Jul-07 14:16", "fixed_version": "2017-Jul-07 14:16", "broken_version": "", "priority": "4", "subsystem": "Libs", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "cern", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, tannenba@cs.wisc.edu, zmiller@cs.wisc.edu", "due_date": ""}
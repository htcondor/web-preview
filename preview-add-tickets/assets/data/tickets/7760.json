{"id": 7760, "title": "Ticket #7760: Python ClassAds do not define equality operator", "description": "<blockquote>\nPython <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> do not define equality, so we get results like this:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">&gt;&gt;&gt; c = {\"foo\": \"bar\"}\n&gt;&gt;&gt; d = {\"foo\": \"bar\"}\n&gt;&gt;&gt; c = classad.ClassAd(c)\n&gt;&gt;&gt; d = classad.ClassAd(d)\n&gt;&gt;&gt; c == d\nFalse\n&gt;&gt;&gt; print(c)\n    [\n        foo = \"bar\"\n    ]\n&gt;&gt;&gt; print(d)\n    [\n        foo = \"bar\"\n    ]\n</pre></div>\n\n\n<p>or\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">&gt;&gt;&gt; import classad\n&gt;&gt;&gt; x = classad.ClassAd()\n&gt;&gt;&gt; y = classad.ClassAd()\n&gt;&gt;&gt; x == y\nFalse\n</pre></div>\n\n\n<p>... which is why I've been converting classads to dicts before comparing them for a while, thinking that we just didn't have sensible comparison operators for them, when it turns out we don't have them at all. We should defer to the C++ <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> equality operator here.</p></blockquote>", "remarks": "<blockquote>\n<em>2020-Sep-01 07:07:18 by tim:</em> <br/>\n\nThis seems simple enough to put into stable.\n\n<p></p><hr/>\n<em>2020-Sep-01 12:21:02 by tlmiller:</em> <br/>\n\nDone.  We can't cherry-pick the test back, but resolving the conflict for the code was simple and my smoke tests passed.\n\n<p></p><hr/>\n<em>2020-Sep-01 12:29:13 by tlmiller:</em> <br/>\n\nDocumented and merge to master.  I moved the release not from 8.9 and 8.8.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Sep-01 12:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61180\">[61180]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7760\" onclick=\"get_ticket_and_populate_wrapper('7760'); return false;\" title=\"Python ClassAds do not define equality operator\">#7760</a></span>) Stable-series release note.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Sep-01 11:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=61179\">[61179]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7760\" onclick=\"get_ticket_and_populate_wrapper('7760'); return false;\" title=\"Python ClassAds do not define equality operator\">#7760</a></span>) Define equivalence and non-equivalence operators for classad.ClassAd.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-31 11:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60293\">[60293]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7760\" onclick=\"get_ticket_and_populate_wrapper('7760'); return false;\" title=\"Python ClassAds do not define equality operator\">#7760</a></span>) Documentation.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-29 16:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60274\">[60274]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7501\" onclick=\"get_ticket_and_populate_wrapper('7501'); return false;\" title=\"Add new Python-based test framework\">#7501</a></span>) add tests for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7760\" onclick=\"get_ticket_and_populate_wrapper('7760'); return false;\" title=\"Python ClassAds do not define equality operator\">#7760</a></span>  (By Josh Karpel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-29 16:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60271\">[60271]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=7760\" onclick=\"get_ticket_and_populate_wrapper('7760'); return false;\" title=\"Python ClassAds do not define equality operator\">#7760</a></span>) Define equivalence and non-equivalence operators for classad.ClassAd.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2020-Sep-09 18:11", "status": "resolved", "created": "2020-Jul-28 12:13", "fixed_version": "2020-Jul-28 12:13", "broken_version": "", "priority": "3", "subsystem": "PythonBinding", "assigned_to": "tlmiller", "derived_from": "", "creator": "karpel", "rust": "", "customer_group": "other", "visibility": "public", "notify": "karpel@wisc.edu, tlmiller@cs.wisc.edu", "due_date": ""}
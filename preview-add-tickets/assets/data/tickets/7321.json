{"id": 7321, "title": "Ticket #7321: add a command to the master to test preen", "description": "<blockquote>\nIn order to test preen, we need to be able to force it to run on command.  The easy way to do this would be to add preen as an option to the DAEMON_ON command, and modify the generic tool to be able to send this option.\n\n<p>so running </p><div class=\"term\">\n<pre class=\"term\">condor_on -preen</pre></div>\n would cause the master to run preen immediately.   A test could then create some bogus files in spool or log, etc, force preen to run, and look to see that those files were cleaned up and that no <strong>other</strong> files were cleaned up.\n\n<p>Having preen write to a log file and not just to stdout/stderr would be helpful also.</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2020-Apr-10 07:42:27 by tim:</em> <br/>\n\nBulk change of target version from v080808 to v080809 using ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jun-29 15:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=60025\">[60025]</a></span>: Updated documentation for dataflow jobs (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7321\" title=\"add a command to the master to test preen\">#7321</a></span>)  (By Mark Coatsworth )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Oct-17 12:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=58195\">[58195]</a></span>: add a command to the master to help test preen <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=7321\" title=\"add a command to the master to test preen\">#7321</a></span> command not added to usage or documentation. this will be secret for now. ===VersionHistory:none===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Apr-26 10:46", "status": "resolved", "created": "2019-Oct-11 11:56", "fixed_version": "2019-Oct-11 11:56", "broken_version": "", "priority": "3", "subsystem": "DaemonMaster", "assigned_to": "johnkn", "derived_from": "#7320", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
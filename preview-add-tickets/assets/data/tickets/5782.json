{"id": 5782, "title": "Ticket #5782: Add new classad ? : meta if-defined operator", "description": "<blockquote>\nWhen writing classad expressions, there is a common pattern where a user would like to evaluate some complex expression, which may evaluated to undefined, and if it does, return some default value.  Today, we can do this with the ternary operator, but it is cumbersome if the expression is complicated, e.g.\n\n<p></p><div class=\"code\">\n<pre class=\"code\"> !IsUndefined(SomeBigExpression) ? SomeBigExpression : defaultValue\n</pre></div>\n\n\n<p>This change makes the 2nd part of the ternary operator (between the ? and the :) optional, with the semantics that if missing, and the selector evaluated to any defined value, the expression returns that value.  If missing, and the selector returns undefined, the third expression is returned.  So, instead of the above,\nwe can write\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\"> SomeBigExpression ?: defaultValue\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2016-Jul-11 21:48:58 by bbockelm:</em> <br/>\n\n<strong>Sings of the glories of the new shortcutting ternary operator.</strong>\n\n<p>(although - is it really a ternary operator if it takes two arguments?)</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=6798\" onclick=\"get_ticket_and_populate_wrapper('6798'); return false;\" title=\"negotiator core dump with meta if-defined operator\">#6798</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nnegotiator core dump with meta if-defined operator</td></tr>\n</tbody></table>", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-27 10:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=49311\">[49311]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5782\" onclick=\"get_ticket_and_populate_wrapper('5782'); return false;\" title=\"Add new classad ? : meta if-defined operator\">#5782</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-29 11:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48894\">[48894]</a></span>: Lift version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5782\" onclick=\"get_ticket_and_populate_wrapper('5782'); return false;\" title=\"Add new classad ? : meta if-defined operator\">#5782</a></span> into proper place  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-21 11:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48828\">[48828]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5782\" onclick=\"get_ticket_and_populate_wrapper('5782'); return false;\" title=\"Add new classad ? : meta if-defined operator\">#5782</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-11 13:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48764\">[48764]</a></span>: Merged <span class=\"chng\"><a href=\"chngview?cn=48763\">[48763]</a></span>, Merge branch 'V8_5-questioncolon-branch' <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5782\" onclick=\"get_ticket_and_populate_wrapper('5782'); return false;\" title=\"Add new classad ? : meta if-defined operator\">#5782</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jul-11 13:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48763\">[48763]</a></span>: Add shortcutting ternary operator to classads expr ?: value <span class=\"ticket\"><a class=\"resolved\" href=\"/tickets?ticket=5782\" onclick=\"get_ticket_and_populate_wrapper('5782'); return false;\" title=\"Add new classad ? : meta if-defined operator\">#5782</a></span> Returns expr if it is defined, otherwise value  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Sep-27 10:38", "status": "resolved", "created": "2016-Jul-11 13:04", "fixed_version": "2016-Jul-11 13:04", "broken_version": "v080400", "priority": "3", "subsystem": "ClassAd", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
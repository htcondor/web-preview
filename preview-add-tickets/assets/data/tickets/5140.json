{"id": 5140, "title": "Ticket #5140: ccb tests refuse to say they got the message the tests are expecting", "description": "<blockquote>\nlib_ccb_startd and lib_ccb_schedd vary in what daemons the collector running ccb server does a mesg in collector log saying enabling CCB server. Then there are several CCB: registered target daemon xxxxxxx. What is missing in both tests the final message.\n\n<p>CCB: received 'success' from target daemon xxxxxxxx.\n\n</p><p>In the test we do not care what comes after 'target daemon'.\n\n</p><p>This is not just a case of a different message for the same good state.\nThere is no string saying it got a happy connection or any cnnection.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Jul-08 14:54:54 by jfrey:</em> <br/>\n\nTo force CCB to be used when client and server are on the same machine, you need to set PRIVATE_NETWORK_NAME to different values. In the test suite, do something like this:\n<div class=\"verbatim\">\n<pre>PRIVATE_NETWORK_NAME=$(FULL_HOSTNAME)\nSTARTD.PRIVATE_NETWORK_NAME=FOO\nSTARTER.PRIVATE_NETWORK_NAME=FOO\n</pre></div>\n\n\n<p></p><hr/>\n<em>2015-Jul-08 14:55:52 by jfrey:</em> <br/>\n\nI've investigating what happens when one or both ends have PRIVATE_NETWORK_NAME unset to see if there's any behavior there that needs fixing.\n\n<p></p><hr/>\n<em>2015-Jul-10 09:36:55 by jfrey:</em> <br/>\n\nEverything with PRIVATE_NETWORK_NAME in the code looks fine. This test failure was triggered by changing the default value of PRIVATE_NETWORK_NAME to $(FULL_HOSTNAME). Changing the test to set different values for PRIVATE_NETWORK_NAME for startd and schedd fixes it.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2015-Jul-10 09:37", "status": "resolved", "created": "2015-Jul-08 13:15", "fixed_version": "2015-Jul-08 13:15", "broken_version": "v080307", "priority": "1", "subsystem": "CCB", "assigned_to": "jfrey", "derived_from": "#5139", "creator": "bt", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
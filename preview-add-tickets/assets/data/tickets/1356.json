{"id": 1356, "title": "Ticket #1356: Event log reader doesn't initialize properly with XML logs", "description": "<blockquote>\nBrian Bockelman has discovered that the user log reader doesn't initialize properly for reading the eventlog if the eventlog is in XML.</blockquote>", "remarks": "<blockquote>\n<em>2010-Apr-18 18:38:23 by bbockelm:</em> <br/>\n\nHey Nick,\n\n<p>Actually, I uncovered two problems:\n\n</p><p>1) The initialize() method (no arguments) doesn't work like it should.  Running things through a debugger, I could see that something failed when Condor was trying to figure out where the Event log was.  Using strace, I was able to confirm the class never attempted to open any files, so it's not a permissions issue.\n\n</p><p>2) (More severe) The XML log parser does not handle log growths.  That is, if you read all the events in the file and the file grows, then the event parser will always claim there are no more events in the file.\n\n</p><p>To reproduce:\n\n</p><p></p><pre>   1) Create the log parser with an XML EventLog\n   2) Read all the events until readEvent returns ULOG_NO_EVENT.\n   3) Sleep until a new event is written to the log\n   4) Call readEvent again; it returns ULOG_NO_EVENT</pre>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2010-Apr-27 15:24", "status": "new", "created": "2010-Apr-16 09:39", "fixed_version": "2010-Apr-16 09:39", "broken_version": "v070400", "priority": "4", "subsystem": "Libs", "assigned_to": "nleroy", "derived_from": "", "creator": "nleroy", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "<bbockelm@cse.unl.edu>", "due_date": ""}
{"id": 1656, "title": "Ticket #1656: dprintf_dump_stack() code path doesn't work correctly", "description": "<blockquote>\nI stumbled across this <a class=\"external\" href=\"http://nmi-s006.cs.wisc.edu//nmi/run/cndrauto/2010/09/cndrauto_nmi-s006.cs.wisc.edu_1284535832_1370/userdir/nmi:ia64_rhas_3/lib_unit_tests-1.out\">output</a> from a unit test ran in our nightlies.\n\n<p>If you notice, the program actually segfaulted or had some other terrible problem, but yet managed to complete(?!?!) in a manner as to be labeled good by our testing infrastructure.\n\n</p><p><code>dprint_dump_stack()</code> is invoked in a signal handler called <code>sig_backtrace_handler()</code> which is registered by <code>install_sig_handler_with_mask()</code> in a function called <code>install_backtrace_handler()</code> in file <code>src/condor_util_lib/dprintf_config.c</code>.\n\n</p><p><code>sig_backtrace_handler()</code> is supposed to unblock the errant signal and redeliver it to itself as to cause the process to die by it. Why didn't that happen?</p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 16:03:30 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:50:47 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:19:13 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "defect", "last_change": "2011-Feb-01 16:19", "status": "new", "created": "2010-Sep-15 14:22", "fixed_version": "2010-Sep-15 14:22", "broken_version": "v070503", "priority": "1", "subsystem": "Libs", "assigned_to": "", "derived_from": "", "creator": "psilord", "rust": "", "customer_group": "other", "visibility": "public", "notify": "psilord@cs.wisc.edu", "due_date": ""}
{"id": 5480, "title": "Ticket #5480: Actually submit DAG-level NOOP jobs", "description": "<blockquote>\nMiron would like DAG-level NOOP jobs to be actually submitted to HTCondor, as opposed to the current semantics where DAGMan creates \"fake\" submit and terminated events without actually submitting the job to HTCondor.\n\n<p>I think that we could do this pretty easily, by just appending\n\n</p><p></p><pre>  -append \"noop_job = true\"\n</pre>\n\n<p>to the condor_submit command line for such jobs.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Jan-14 12:51:01 by wenger:</em> <br/>\n\nI don't know how important this is, but I have some recollection that one reason we implemented things the way we did is that it means that you could do a \"dry run\" of your DAG without even having a schedd -- if you marked all of the nodes as NOOPs, and ran condor_dagman on the command line, DAGMan would run the workflow.\n\n<p></p><hr/>\n<em>2016-Jan-14 15:30:22 by wenger:</em> <br/>\n\nOne other issue if we do this -- currently DAG-level NOOP jobs don't need to have valid submit files (you could specify /dev/null for the submit file).  If we actually submit NOOP jobs, they will have to have valid submit files.\n\n<p></p><hr/>\n<em>2016-Jan-14 15:41:33 by wenger:</em> <br/>\n\nHmm -- according to ticket <span class=\"ticket\"><a class=\"defer\" href=\"tktview?tn=1078\" title=\"Be able to have NOOP jobs in a DAG that are not actually submitted\">#1078</a></span>, LIGO wanted DAGMan to not actually submit DAG-level NOOP jobs.  (That ticket doesn't say <strong>why</strong> LIGO wanted this, but it refers to an old condor-gnats ticket...)\n\n<p></p><hr/>\n<em>2016-Feb-18 11:38:32 by wenger:</em> <br/>\n\nOkay, updates according to email discussion with Miron:\n<ul>\n<li>Make a new config knob for whether or not to actually submit DAG-level NOOP jobs.  This would default to submitting them; maybe would eventually go away entirely if user's don't object.\n</li><li>DAGMan would cons up a suitable submit file (can we do this entirely with a bunch of -appends to condor_submit?) so that things still work if the user specifies, say, /dev/null for their submit file.\n</li></ul>\n\n<p></p><hr/>\n<em>2016-Mar-27 18:11:19 by wenger:</em> <br/>\n\nCreated V8_5-gittrac_5480-branch for this.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-28 11:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=48121\">[48121]</a></span>: Gittrac <span class=\"ticket\"><a class=\"active\" href=\"tktview?tn=5480\" title=\"Actually submit DAG-level NOOP jobs\">#5480</a></span>: Initial version of submitting NOOP node jobs works (it works if there's a real submit file for the node, but not otherwise). Commit includes temporary code.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Mar-27 18:43", "status": "active", "created": "2016-Jan-14 12:37", "fixed_version": "2016-Jan-14 12:37", "broken_version": "v080501", "priority": "3", "subsystem": "Dag", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, miron@cs.wisc.edu, zmiller@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
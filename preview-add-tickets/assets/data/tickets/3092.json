{"id": 3092, "title": "Ticket #3092: MatchClassAd::ReplaceLeftAd() and ReplaceRightAd() need fixing", "description": "<blockquote>\nIn class <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MatchClassAd\" title=\"Match Class Ad\">MatchClassAd</a></span>, methods ReplaceLeftAd() and ReplaceRightAd() have wonky semantics if a NULL is passed in. Before the addition of caching (<span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2541\" title=\"Memory utilization of classads (revised)\">#2541</a></span>), lad and ladParent would be set to NULL, but the candidate ad itself would be left in the match ad. After the caching was added, ladParent is set to NULL, but lad is left alone and the candidate ad is left in the match ad.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-28 15:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=32525\">[32525]</a></span>: Improve semantics of MatchClassAd::ReplaceLeft/RightAd() <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=3092\" title=\"MatchClassAd::ReplaceLeftAd() and ReplaceRightAd() need fixing\">#3092</a></span> Now, ReplaceLeft/RightAd() always removes and deletes the old candidate ad, if any. If it returns false, then the new candidate ad isn't retained in the match ad object.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Jun-28 15:49", "status": "resolved", "created": "2012-Jun-27 16:26", "fixed_version": "2012-Jun-27 16:26", "broken_version": "v070800", "priority": "4", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "#2541", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2219, "title": "Ticket #2219: RFE: check for deferred jobs that missed their window in the scheduler", "description": "<blockquote>\nThere are certain conditions where a deferred job that misses its window can fail to enter the 'held' state.  For example, it may fail to be matched with a slot in time, or (more rarely) the startd might fail after matching.\n\n<p>These conditions can arise because deferred jobs are only checked for holding in the startd.  A similar check could be added to the scheduler: the count() routine could include a scan for jobs with deferral, and if they have missed their window and are still idle, the scheduler can put them on hold.\n\n</p><p>Adding this check would increase the consistency of the behavior for deferred jobs missing their window.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Jun-08 17:32:16 by eje:</em> <br/>\n\nnote to self: consider any worst-case latency for job status idle-&gt;running.  i.e. is it possible for schedd to detect a job past its window and idle, but it started successfully and transition is en route?\n\n<p></p><hr/>\n<em>2011-Sep-21 14:13:29 by tstclair:</em> <br/>\n\nFix for <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=2486\" title=\"condor_hold /rm / graceful shutdown of deferred jobs will not cleanup\">#2486</a></span> may invalidate this.\n\n<p></p><hr/>\n<em>2011-Oct-03 15:42:18 by tstclair:</em> <br/>\n\ninvalidated by update.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "", "type": "enhance", "last_change": "2011-Oct-03 15:42", "status": "abandoned", "created": "2011-Jun-08 17:07", "fixed_version": "2011-Jun-08 17:07", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "tstclair", "derived_from": "#2486", "creator": "eje", "rust": "", "customer_group": "other", "visibility": "public", "notify": "eje@redhat.com, ltrilety@redhat.com, tstclair@redhat.com, matt@cs.wisc.edu", "due_date": ""}
{"id": 1105, "title": "Ticket #1105: New Classads: get collector working", "description": "<blockquote>\nThe collector built with <span class=\"quote\">--disable-old-classads</span> always finds 0 matches to any query (or, at least, any query that I've tried so far).  This behavior seems less than optimal.\n\n<p>I really don't have a feel for how much effort this will require, so I'm initially slapping this coming Friday as the due date; I may adjust it after investigation.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Jan-14 16:39:46 by jfrey:</em> <br/>\n\nPushed a fix to V7_5-new_classads-branch.</blockquote>", "derived_tickets": "", "attachments": "", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-14 16:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"chngview?cn=16896\">[16896]</a></span>: Fix EvalExprTree() in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> compat layer. <span class=\"ticket\"><a class=\"resolved\" href=\"tktview?tn=1105\" title=\"New Classads: get collector working\">#1105</a></span> When the expression evaluates to a boolean, EvalExprTree() should return an integer value in <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=EvalResult\" title=\"Eval Result\">EvalResult</a></span>. This makes the collector respond properly to queries when not using old <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-14 16:40", "status": "resolved", "created": "2010-Jan-13 10:21", "fixed_version": "2010-Jan-13 10:21", "broken_version": "", "priority": "2", "subsystem": "Libs", "assigned_to": "nleroy", "derived_from": "#1109", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": "20100115"}
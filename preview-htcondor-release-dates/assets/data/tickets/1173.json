{"id": 1173, "title": "Ticket #1173: condor_q doesn't use projection with most display options", "description": "<blockquote>\nWhen called with no display options or with -format, condor_q will use the queue-management api's projection feature (via the GetAllJobsByConstraint() function) so that the schedd only sends job ad attributes that will be used in condor_q's output. When other display options are given, such as -run or -globus, condor_q pulls full job ads. It should use projections whenever possible.\n\n<p>The BNL Atlas group has observed a schedd taking 3-4 seconds to answer a 'condor_q -globus' query on a queue of 4200 jobs. A projected query (done manually with -attributes) takes only 0.2 seconds.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Feb-02 16:59:43 by jfrey:</em> <br/>\n\nHere is the list of attributes for a -globus projection:\n<code>ClusterId,ProcId,Owner,GlobusStatus,Cmd,GridResource</code></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/205/patch.diff\">patch.diff</a>\n2742 bytes added by slauson on 2010-Jul-29 19:49:09 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-29 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b6940ce2a9ae12795fe0867d043aab7da2b878f6\">[25588]</a></span>: Added documentation for gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1173\" onclick=\"get_ticket_and_populate_wrapper('1173'); return false;\" title=\"condor_q doesn't use projection with most display options\">#1173</a></span>.  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jul-29 15:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c39037161dd436dbc819516da35198053b1a2f8d\">[18665]</a></span>: Added projection usage to condor_q for -run, -hold, -goodput, -cputime, -currentrun, and -io options. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1173\" onclick=\"get_ticket_and_populate_wrapper('1173'); return false;\" title=\"condor_q doesn't use projection with most display options\">#1173</a></span>)  (By Josh Slauson )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-05 14:18</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f76c18fd1e0995fe59e22fa04631a15ad3e481a0\">[17106]</a></span>: Use projection for condor_q -globus. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1173\" onclick=\"get_ticket_and_populate_wrapper('1173'); return false;\" title=\"condor_q doesn't use projection with most display options\">#1173</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jul-29 15:33", "status": "resolved", "created": "2010-Feb-02 16:54", "fixed_version": "2010-Feb-02 16:54", "broken_version": "v070300", "priority": "3", "subsystem": "Tools", "assigned_to": "slauson", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "atlas", "visibility": "public", "notify": "", "due_date": ""}
{"id": 3327, "title": "Ticket #3327: SLOT_TYPE cpus=auto produces wrong number of Cpus", "description": "<blockquote>\nBase config -\n\n<p></p><div class=\"verbatim\">\n<pre>SLOT_TYPE_1_PARTITIONABLE = TRUE\nNUM_SLOTS_TYPE_1 = 1\n</pre></div>\n\n\n<p>With SLOT_TYPE_1 = auto\n</p><div class=\"verbatim\">\n<pre>$ condor_status -long\nTotalCpus = 4\nCpus = 1\nTotalSlotCpus = 1\nDetectedCpus = 4\n...\n</pre></div>\n\n\n<p>With SLOT_TYPE_1 = cpus=auto,auto\n</p><div class=\"verbatim\">\n<pre>$ condor_status -long\nTotalCpus = 4\nCpus = 1\nTotalSlotCpus = 1\nDetectedCpus = 4\n...\n</pre></div>\n\n\n<p>With SLOT_TYPE_1 = cpus=100%,auto\n</p><div class=\"verbatim\">\n<pre>$ condor_status -long\nTotalCpus = 4\nCpus = 4\nTotalSlotCpus = 4\nDetectedCpus = 4\n...\n</pre></div>\n\n\n<p>The in all cases <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalCpus\" title=\"Total Cpus\">TotalCpus</a></span> == Cpus is correct. This is how Memory and Disk work (roughly: Disk appears to be evaluated at different times and has slightly different values).\n\n</p><p>Problem: The partitionable slot will have Cpus = 0 after one job start running, thus preventing the use of the remaining cores.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Oct-31 09:13:05 by jfrey:</em> <br/>\n\nThis is a duplicate of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3249\" onclick=\"get_ticket_and_populate_wrapper('3249'); return false;\" title=\"cpus=auto doesn't work in multi slot environment\">#3249</a></span>.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2013-Oct-31 09:13", "status": "abandoned", "created": "2012-Nov-16 13:21", "fixed_version": "2012-Nov-16 13:21", "broken_version": "v070600", "priority": "4", "subsystem": "DaemonsExecNode", "assigned_to": "", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 7627, "title": "Ticket #7627: Support CPU affinity with Docker", "description": "<blockquote>\nFrom github pr114:\n\n<p>If condor admin configured CPU affinity (ASSIGN_CPU_AFFINITY for example), use this CPU affinity\nfor docker universe jobs running on those slots by using the --cpuset-cpus\noption in Docker create cmd API.\nAlso, made this support mutuale exclusive with the CPU share configuration\n(taking into account machineAD number of CPUs), as they should have the same effect.</p></blockquote>", "remarks": "<blockquote>\n<em>2020-Apr-30 15:51:42 by tim:</em> <br/>\n\n<strong>CODE REVIEW:</strong> Greg Thain says, \"it looks good to me\"</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Jul-31 17:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e6bba0dd8ab06eb53c3fcffe36bd85632ea55ef2\">[60298]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7500\" onclick=\"get_ticket_and_populate_wrapper('7500'); return false;\" title=\"Clients should not suggest authentication methods they don't support\">#7500</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7627\" onclick=\"get_ticket_and_populate_wrapper('7627'); return false;\" title=\"Support CPU affinity with Docker\">#7627</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7647\" onclick=\"get_ticket_and_populate_wrapper('7647'); return false;\" title=\"UW condor 8.9.7 RPM does not pull in Python bindings\">#7647</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7712\" onclick=\"get_ticket_and_populate_wrapper('7712'); return false;\" title='Add \"--debug\" option to bosco_cluster'>#7712</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7753\" onclick=\"get_ticket_and_populate_wrapper('7753'); return false;\" title=\"RHEL-based Bosco tarballs using the wrong version\">#7753</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Apr-30 07:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c043c5290b4a823df1447287e2affbc872fb8b8c\">[59533]</a></span>: condor_starter: Support of CPU affinity with docker <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7627\" onclick=\"get_ticket_and_populate_wrapper('7627'); return false;\" title=\"Support CPU affinity with Docker\">#7627</a></span> If condor admin configured CPU affinity (ASSIGN_CPU_AFFINITY for example), use this CPU affinity for docker universe jobs running on those slots by using the --cpuset-cpus option in Docker create cmd API. Also, made this support mutuale exclusive\u00a0[...]\n (By Doron Shoham )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Jul-31 17:40", "status": "resolved", "created": "2020-Apr-30 15:50", "fixed_version": "2020-Apr-30 15:50", "broken_version": "", "priority": "4", "subsystem": "DaemonsExecNode", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "p114", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 7311, "title": "Ticket #7311: JobEventLog initialization failure error messages are uninformative", "description": "<blockquote>\nThe exception message for when the new <code>JobEventLog</code> reader fails to read the log for any reason is very opaque:\n<div class=\"code\">\n<pre class=\"code\">10/08/19 21:50:45 (D_ALWAYS) ReadUserLog: Failed to open /home/hkoh9/Rel/output/3rs_10488937.log\n10/08/19 21:50:45 (D_ALWAYS) FileModifiedTrigger( /home/hkoh9/Rel/output/3rs_10488937.log ): inotify_add_watch() failed: Permission denied (13).\nTraceback (most recent call last):\n  File \"/home/karpel/miniconda3/bin/condor_watch_q\", line 10, in &lt;module&gt;\n    sys.exit(cli())\n  File \"/home/karpel/miniconda3/lib/python3.7/site-packages/condor_watch_q.py\", line 86, in cli\n    event_readers = make_event_readers(event_logs)\n  File \"/home/karpel/miniconda3/lib/python3.7/site-packages/condor_watch_q.py\", line 170, in make_event_readers\n    return [htcondor.JobEventLog(p).events(0) for p in event_log_paths]\n  File \"/home/karpel/miniconda3/lib/python3.7/site-packages/condor_watch_q.py\", line 170, in &lt;listcomp&gt;\n    return [htcondor.JobEventLog(p).events(0) for p in event_log_paths]\nOSError: JobEventLog not initialized.  Check the debug log, looking for ReadUserLog or FileModifiedTrigger.  (Or call htcondor.enable_debug() and try again.)\n</pre></div>\n\n\n<p>In this case it's because I don't have permission to read the file; <code>OSError</code> is appropriate here, but \"<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobEventLog\" title=\"Job Event Log\">JobEventLog</a></span> not initialized\" is a technically-correct-but-totally-useless error message.\n\n</p><p>Since I did run with <code>htcondor.enable_debug()</code>, we see that somewhere deep down the stack we do get the actual error <code>Permission denied (13)</code>. Is there any way we can transport that back up the stack? I'm imagining the error message in this case being something like <code>Failed to initialize a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobEventLog\" title=\"Job Event Log\">JobEventLog</a></span> for file &lt;path&gt;: Permission denied (13)</code>.\n\n</p><p>(I think the grammatical change is also important; this message always tricks me into thinking the the job's event log file itself is somehow \"not initialized\", not that the reader object blew up.)\n\n</p><p>Vaguely related to <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6935\" onclick=\"get_ticket_and_populate_wrapper('6935'); return false;\" title=\"Unexpected exceptions in Python bindings\">#6935</a></span>, so I marked this as derived from that.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2019-Oct-08 22:09", "status": "new", "created": "2019-Oct-08 22:09", "fixed_version": "2019-Oct-08 22:09", "broken_version": "v080800", "priority": "4", "subsystem": "PythonBinding", "assigned_to": "tlmiller", "derived_from": "#6935", "creator": "karpel", "rust": "", "customer_group": "other", "visibility": "public", "notify": "karpel@wisc.edu tlmiller@cs.wisc.edu", "due_date": ""}
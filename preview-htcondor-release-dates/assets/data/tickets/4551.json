{"id": 4551, "title": "Ticket #4551: Windows user reports corruption of job queue on restart", "description": "<blockquote>\nSupport user reports\n\n<p></p><div class=\"verbatim\">\n<pre>Every time someone reboots a windows box that has a schedd running, it corrupts the job queue. Seems to happen even if they have no jobs running!\n\n07/16/14 09:48:33 (pid:7604) WARNING: Encountered corrupt log record 111 (byte offset 43509)\n07/16/14 09:48:33 (pid:7604) Lines following corrupt log record 111 (up to 3):\n07/16/14 09:48:33 (pid:7604)     103 02008.-1 Args \"-REDACTED\"\n07/16/14 09:48:33 (pid:7604)     103 02008.-1 TargetType \"Machine\"\n07/16/14 09:48:33 (pid:7604)     103 02008.-1 TransferIn false\n07/16/14 09:48:33 (pid:7604) ERROR \"Error: corrupt log record 111 (byte offset 43509) occurred inside closed transaction, recovery failed\" at line 1153 in file c:\\condor\\execute\\dir_12868\\userdir\\src\\condor_utils\\classad_log.cpp\n07/16/14 09:48:33 (pid:7604) Cron: Killing all jobs\n</pre></div>\n\n\n<p>So far, we have not been able to reproduce this problem.  It seems broken that the log does not show the actual corrupt line of the log - so that at least will be fixed.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Aug-25 15:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d125f951a7796fe963edc36043f20c11c4e534b1\">[41029]</a></span>: add test app to validate the job queue log in support of fixing <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=4551\" onclick=\"get_ticket_and_populate_wrapper('4551'); return false;\" title=\"Windows user reports corruption of job queue on restart\">#4551</a></span> ===VersionHistory:None=== no user visible changes.  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "incident", "last_change": "2015-Feb-04 11:03", "status": "new", "created": "2014-Aug-25 10:10", "fixed_version": "2014-Aug-25 10:10", "broken_version": "v080007", "priority": "4", "subsystem": "DaemonsSubmitNode", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "s8455", "customer_group": "support", "visibility": "public", "notify": "", "due_date": ""}
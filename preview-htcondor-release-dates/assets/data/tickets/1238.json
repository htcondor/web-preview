{"id": 1238, "title": "Ticket #1238: CPU / Hyperthreading count failing on some new CPUs", "description": "<blockquote>\nSee the RUST ticket for details.  I haven't been able to reproduce the exact behavior that Tony has reported, but it's certainly not working correctly.</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Aug-23 17:42:37 by adesmet:</em> <br/>\n\nBulk change of target version from v070403 to v070404 using ./ticket_target_mover.\n<hr/>\n<em>2010-Oct-27 16:39:01 by adesmet:</em> <br/>\n\nBulk change of target version from v070404 to v070405 using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-26 13:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/236e6f1d6ec5e4aa6234bbe3c4cc9af3a5b3ea89\">[25330]</a></span>: gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1238\" onclick=\"get_ticket_and_populate_wrapper('1238'); return false;\" title=\"CPU / Hyperthreading count failing on some new CPUs\">#1238</a></span>: miscount of cpus on hyper-threaded machines item belongs in 7.4.2 version history  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-26 13:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6f4b0da22adaef1e76e4dc3393619835d09b80de\">[25328]</a></span>: Revert \"Documented fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1238\" onclick=\"get_ticket_and_populate_wrapper('1238'); return false;\" title=\"CPU / Hyperthreading count failing on some new CPUs\">#1238</a></span>\" This reverts commit 259008e07e78f52926f02689a09d64d2f5bf0724.  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-26 12:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/259008e07e78f52926f02689a09d64d2f5bf0724\">[25326]</a></span>: Documented fix for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1238\" onclick=\"get_ticket_and_populate_wrapper('1238'); return false;\" title=\"CPU / Hyperthreading count failing on some new CPUs\">#1238</a></span>  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-19 21:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c681cda88fc27ce2f80eb455c0878f4182b75f29\">[17297]</a></span>: Fixed a bug in the CPU / HT detection code that was causing it to report incorrect results on some modern machines for FNAL (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1238\" onclick=\"get_ticket_and_populate_wrapper('1238'); return false;\" title=\"CPU / Hyperthreading count failing on some new CPUs\">#1238</a></span>)  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Feb-19 16:05</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/47cb098094aa1f29ab818a68bc6ae46db49819ff\">[17296]</a></span>: Added CPU info for the FNAL machines on which the CPU / hyperthreading dection code is failing (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1238\" onclick=\"get_ticket_and_populate_wrapper('1238'); return false;\" title=\"CPU / Hyperthreading count failing on some new CPUs\">#1238</a></span>). Also cleaned up the debugging code to make it more readable. This commit does <em>not</em> fix the problem.  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2011-Apr-26 15:36", "status": "resolved", "created": "2010-Feb-19 13:40", "fixed_version": "2010-Feb-19 13:40", "broken_version": "v070401", "priority": "4", "subsystem": "Daemons", "assigned_to": "nleroy", "derived_from": "", "creator": "nleroy", "rust": "a20284", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": ""}
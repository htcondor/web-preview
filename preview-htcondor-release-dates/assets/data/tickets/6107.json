{"id": 6107, "title": "Ticket #6107: bosco remote ft-gahp config not correct ?", "description": "<blockquote>\nHi,\n\n<p>When setting up a remote condor endpoint at NERSC with\n\n</p><p>bosco_cluster --add hufnagel@cori.nersc.gov slurm\n\n</p><p>the resulting condor_config.ft-gahp doesn't look correct.\n\n</p><p>I need to add\n\n</p><p>ENABLE_URL_TRANSFERS = FALSE\n\n</p><p>to make incoming sandbox transfers work at all and I need to set\n\n</p><p>USE_SHARED_PORT = FALSE\n\n</p><p>to avoid blowing up the FTGahpLog with endless error messages\n\n</p><p>01/11/17 20:58:39 <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/69573609acc42790aeb65ef27a3a848c7f8451c0\">[62232]</a></span> <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SharedPortEndpoint\" title=\"Shared Port Endpoint\">SharedPortEndpoint</a></span>: failed to open /global/homes/h/hufnagel/bosco/glite/log/shared_port_ad: No such file or directory\n\n</p><p>01/11/17 20:58:39 <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/69573609acc42790aeb65ef27a3a848c7f8451c0\">[62232]</a></span> <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SharedPortEndpoint\" title=\"Shared Port Endpoint\">SharedPortEndpoint</a></span>: did not successfully find <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SharedPortServer\" title=\"Shared Port Server\">SharedPortServer</a></span> address. Will retry in 60s.\n\n</p><p>Cheers\n\n</p><p>Dirk</p></blockquote>", "remarks": "<blockquote>\n<em>2017-Jan-24 13:34:39 by jfrey:</em> <br/>\n\nI'm surprised by the need to set ENABLE_URL_TRANSFERS=False. Do you have any daemon logs showing what goes wrong if you don't set it?\n\n<p></p><hr/>\n<em>2017-Jan-25 18:01:52 by hufnagel:</em> <br/>\n\nNot at the moment, but I will try to recreate them...\n\n<p></p><hr/>\n<em>2017-Jan-25 23:21:53 by hufnagel:</em> <br/>\n\nOk, so it's the same as the other. Setting it avoids endless errors in the log.\n\n<p></p><div class=\"verbatim\">\n<pre>01/25/17 20:25:03 [116692] BOSCO: created upload_sandbox thread, id: 119893\n01/25/17 20:25:03 [116692] FTGAHP: upload sandbox\n01/25/17 20:25:03 [116692] my_popenv: Failed to exec in child, errno=2 (No such file or directory)\n01/25/17 20:25:03 [116692] FILETRANSFER: Failed to execute /tmp/condorinstall0/libexec/curl_plugin, ignoring\n01/25/17 20:25:03 [116692] FILETRANSFER: failed to add plugin \"/tmp/condorinstall0/libexec/curl_plugin\" because: FILETRANSFER:1:Failed to execute /tmp/condorinstall0/libexe\nc/curl_plugin, ignoring\n01/25/17 20:25:03 [116692] my_popenv: Failed to exec in child, errno=2 (No such file or directory)\n01/25/17 20:25:03 [116692] FILETRANSFER: Failed to execute /tmp/condorinstall0/libexec/data_plugin, ignoring\n01/25/17 20:25:03 [116692] FILETRANSFER: failed to add plugin \"/tmp/condorinstall0/libexec/data_plugin\" because: FILETRANSFER:1:Failed to execute /tmp/condorinstall0/libexe\nc/data_plugin, ignoring|FILETRANSFER:1:Failed to execute /tmp/condorinstall0/libexec/curl_plugin, ignoring\n</pre></div>\n\n\n<p></p><hr/>\n<em>2017-Mar-01 15:38:05 by johnkn:</em> <br/>\n\n<strong>CODE_REVIEW</strong> : looks good.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Mar-01 14:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9e4a11a67284786f211ddc0d38f283999dc59752\">[50247]</a></span>: Docs for ft-gahpc config change in Bosco. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6107\" onclick=\"get_ticket_and_populate_wrapper('6107'); return false;\" title=\"bosco remote ft-gahp config not correct ?\">#6107</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Jan-30 16:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a454da016c665694c5a1dba7b19ffdcaae98fa28\">[50077]</a></span>: Disable unusable feature in ft-gahp configuration. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6107\" onclick=\"get_ticket_and_populate_wrapper('6107'); return false;\" title=\"bosco remote ft-gahp config not correct ?\">#6107</a></span> Under Bosco, the ft-gahp doesn't have a shared-port server or file transfer plugins. Disable these features features in the configuration file that we create for the ft-gahp. This avoids copious error messages in the daemon log and avoids possible\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "todo", "last_change": "2017-Mar-01 15:48", "status": "resolved", "created": "2017-Jan-24 00:25", "fixed_version": "2017-Jan-24 00:25", "broken_version": "v080507", "priority": "4", "subsystem": "Grid", "assigned_to": "johnkn", "derived_from": "", "creator": "hufnagel", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
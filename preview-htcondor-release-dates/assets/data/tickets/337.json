{"id": 337, "title": "Ticket #337: ReadUserLog::CheckFileStatus() returns LOG_STATUS_GROWN on empty file", "description": "<blockquote>\nIf you create a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ReadUserLog\" title=\"Read User Log\">ReadUserLog</a></span> object, initialize it, and then call CheckFileStatus() on an existing but empty log file, it returns LOG_STATUS_GROWN, which doesn't seem right.  (I don't want to just go ahead and change it, though, because I'm afraid that I'll break some weird case in the rotation handling.)</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jul-17 16:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/72c36ed015946c68c73574bb2c81d70c91779bb1\">[15137]</a></span>: A few (hopefully final) cleanups to the lazy log file code; removed gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=337\" onclick=\"get_ticket_and_populate_wrapper('337'); return false;\" title=\"ReadUserLog::CheckFileStatus() returns LOG_STATUS_GROWN on empty file\">#337</a></span> workaround because that's fixed. (Ran valgrind on lazy log file DAGMan; re-ran all DAGMan tests.) Committing with the lazy log file code conditionaled out pending a final review by Pete.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jun-09 15:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a028a86fe1f3d8099073d9018aa33be5e42e38aa\">[24841]</a></span>: Documented fix to handling of zero sized event lo files (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=337\" onclick=\"get_ticket_and_populate_wrapper('337'); return false;\" title=\"ReadUserLog::CheckFileStatus() returns LOG_STATUS_GROWN on empty file\">#337</a></span>)  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-May-20 10:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/019cf09bc9ac74feb772bde1a82dee2b68b5f570\">[14728]</a></span>: User log reader: fixed handling of CheckFileStatus() when the file has zero size (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=337\" onclick=\"get_ticket_and_populate_wrapper('337'); return false;\" title=\"ReadUserLog::CheckFileStatus() returns LOG_STATUS_GROWN on empty file\">#337</a></span>)  (By Nick <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=LeRoy\" title=\"Le Roy\">LeRoy</a></span> )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 08:36", "status": "resolved", "created": "2009-Mar-20 14:00", "fixed_version": "2009-Mar-20 14:00", "broken_version": "v070301", "priority": "2", "subsystem": "Libs", "assigned_to": "nleroy", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
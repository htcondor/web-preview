{"id": 3083, "title": "Ticket #3083: Condor compilation support for C++11", "description": "<blockquote>\nWhere possible condor should compile test and compile -std=c++11 and use new std data structures if it is possible.\n\n<p>In some cases such as visual studio that may be c++0x support.\n\n</p><p>Namely because the new standard versions of data structures are highly optimized.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-Sep-25 14:11:55 by tstclair:</em> <br/>\n\nIn clearing off my plate I found a series of what I would consider bugs in the compiler\n\n<p>refs: <a class=\"external\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=733867\">https://bugzilla.mozilla.org/show_bug.cgi?id=733867</a>\n\n</p><p>Wait till &gt;&gt; gcc 4.7.0 till then stall.\n\n</p><p></p><hr/>\n<em>2012-Sep-25 15:21:39 by tstclair:</em> <br/>\n\n<a class=\"external\" href=\"http://gcc.gnu.org/bugzilla/show_bug.cgi?id=51282\">http://gcc.gnu.org/bugzilla/show_bug.cgi?id=51282</a> - sigh\n\n<p></p><hr/>\n<em>2012-Sep-26 13:28:47 by tstclair:</em> <br/>\n\nKicking to wrangler for review redistribution.  Open question still around windows and what compiler version we are supporting for this series.\n\n<p>It may make sense to hold off till 2012 b/c they will have full c++11 support vs. 2010 which has experimental c++0x support.\n\n</p><p></p><hr/>\n<em>2012-Sep-27 10:20:07 by tstclair:</em> <br/>\n\npatches seem... ok.  Running through NMI.\n\n<p></p><hr/>\n<em>2012-Sep-29 20:10:43 by tstclair:</em> <br/>\n\nKicking to Jamie for Mac+Clang patch review.\n\n<p></p><hr/>\n<em>2012-Oct-02 13:52:49 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>The changes to silence warnings in Clang look good.\n\n</p><p></p><hr/>\n<em>2012-Oct-03 15:53:46 by tstclair:</em> <br/>\n\nJamie are you going to apply and close out?  Or is Brian?\n\n<p></p><hr/>\n<em>2012-Oct-04 20:09:47 by bbockelm:</em> <br/>\n\nBased on jefrey's review, I just committed this work.\n\n<p>Thanks all!  I'm going to close out the ticket.</p></blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3261\" onclick=\"get_ticket_and_populate_wrapper('3261'); return false;\" title=\"C++11 changes break UW-style builds with Clang on Mac\">#3261</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nC++11 changes break UW-style builds with Clang on Mac</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/639/gt3083.patch\">gt3083.patch</a>\n15616 bytes added by bbockelm on 2012-Sep-27 00:19:06 UTC.\n<br/>\nHi tstclair,\n\n<p>Oddly enough, clang's c++11 picked up a few alternate warnings and errors.  See attached.  Of the patch series, 1 is for errors and the other 2 are for warnings.\n\n</p><p>There are still additional warnings, but those look like actual bugs - or at least things which need more thought than I was willing to do on an airplane.\n\n</p><p>Brian<br/>\n</p></li><li><a href=\"../files/640/gt3083_v2.patch\">gt3083_v2.patch</a>\n20217 bytes added by bbockelm on 2012-Sep-28 19:41:34 UTC.\n<br/>\nThe attached file has three patches:\n1) Changes to cmake to give the appropriate clang compiler flags on Mac OS X.\n2) Fix some c++11 warnings about hidden virtuals\n3) A few random Mac OS X warnings.\n\n<p>In the commit messages, I marked the second two as <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2750\" onclick=\"get_ticket_and_populate_wrapper('2750'); return false;\" title=\"Fix clang and other warning from MacOS build\">#2750</a></span>, even if they were revealed when doing this one.<br/>\n</p></li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-04 20:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a69c599964347795aadf4ed9e66591f87ef2720f\">[33592]</a></span>: C++11 cmake fixes for clang on Mac OS X. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3083\" onclick=\"get_ticket_and_populate_wrapper('3083'); return false;\" title=\"Condor compilation support for C++11\">#3083</a></span>  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-28 10:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e97055d1e99700e25f7fe12076391392fc80a785\">[33537]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3083\" onclick=\"get_ticket_and_populate_wrapper('3083'); return false;\" title=\"Condor compilation support for C++11\">#3083</a></span> squash of Brians clang fixes for -std=c++11 Squashed commit of the following: commit b3bcaa1e4bd08d0c1ddc020c00a44efd7727bbb8 Merge: 8f991ae f9757dd Author: Timothy St. Clair &lt;tstclair@redhat.com&gt; Date: Thu Sep 27 16:01:53 2012 -0500\u00a0[...]\n (By Timothy St. Clair )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-26 13:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f169491a6e825ea02567e76dba04ea4be9aeeaa8\">[33503]</a></span>: Ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3083\" onclick=\"get_ticket_and_populate_wrapper('3083'); return false;\" title=\"Condor compilation support for C++11\">#3083</a></span> Added compilation support for -std=c++11 across condor.  (By Timothy St. Clair )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Oct-04 20:10", "status": "resolved", "created": "2012-Jun-22 16:33", "fixed_version": "2012-Jun-22 16:33", "broken_version": "v070900", "priority": "4", "subsystem": "Packaging", "assigned_to": "jfrey", "derived_from": "", "creator": "tstclair", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com, eje@cs.wisc.edu, tannenba@cs.wisc.edu, jfrey@cs.wisc.edu", "due_date": ""}
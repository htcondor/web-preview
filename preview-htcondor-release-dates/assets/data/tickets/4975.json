{"id": 4975, "title": "Ticket #4975: CentOS 7: Condor does not start properly after a reboot", "description": "<blockquote>\nFrom HTCondor-Users:\n\n<p>I'm still having a problem with centos 7 rpm. This time after reboot I got\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">02/02/15 15:06:56 error opening watchdog pipe /var/run/condor/procd_pipe.watchdog: No such file or directory (2)\n02/02/15 15:06:56 ProcFamilyClient: error initializing LocalClient\n02/02/15 15:06:56 ProcFamilyProxy: error initializing ProcFamilyClient\n02/02/15 15:06:56 attempting to restart the Procd\n</pre></div>\n\n\n<p>repeated half a dozen times before\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">02/02/15 15:06:56 ERROR \"unable to restart the ProcD after several tries\" at line 677 in file /home/tim/rpmbuild/BUILD/condor-8.2.6/src/condor_utils/proc_family_proxy.cpp\n02/02/15 15:06:56 All daemons are gone.\n</pre></div>\n\n\n<p>-- /var/run gets \"cleaned up\" at reboot so /var/run/condor doesn't exist\nwhen condor_mater starts. Adding\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">ExecStartPre=-/usr/bin/mkdir -p /var/run/condor\nExecStartPre=-/usr/bin/chown -R condor:condor /var/run/condor\nPermissionsStartOnly=true\n</pre></div>\n\n\n<p>to <code>/usr/lib/systemd/system/condor.service</code> fixes it.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Apr-02 15:42:39 by tim:</em> <br/>\n\nThis turned out to be a configuration problem. The condor user and group ids were stored in a LDAP server. The LDAP server was not available (or too slow) when the <code>/etc/tmpfile.d/condor.conf</code> interpreted.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Apr-02 15:42", "status": "abandoned", "created": "2015-Apr-01 17:09", "fixed_version": "2015-Apr-01 17:09", "broken_version": "v080200", "priority": "4", "subsystem": "", "assigned_to": "tim", "derived_from": "", "creator": "tim", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
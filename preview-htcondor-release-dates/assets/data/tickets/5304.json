{"id": 5304, "title": "Ticket #5304: Need more permissions for match password auth", "description": "<blockquote>\nFor SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION to work, authorization entries must be made for the match principals, submit-side@matchsession and execute-side@matchsession. Currently, some of these entries are made automatically when the feature is enabled, but others need to be explicitly added in the configuration files.\n\n<p>Now that we have SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION enabled by default, we should have all of the authorization entries added automatically.\n\n</p><p>The following authorization entries currently need to be done explicitly in the configuration files:\n</p><ul>\n<li>schedd: CLIENT\n</li><li>shadow: CLIENT\n</li><li>startd: CLIENT and DAEMON\n</li><li>starter: CLIENT and DAEMON\n</li></ul>\n\n<p>The CLIENT entries do not need to be made if ALLOW_CLIENT isn't set in the configuration files (because the default is to allow all).\n\n</p><p>Most of the new automatic entries will not be limited by IP address (i.e. the entries will act like <code>submit-side@matchsession/*</code>). We don't believe this adds any security problems, and it's necessary for the startd, which has no way to know what schedds may want to claim it.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Oct-20 17:10:57 by zmiller:</em> <br/>\n\n<strong>CODE REVIEW</strong> Looks good and does not raise any security concerns.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-21 13:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/267b767c60cdbbfd338bf3f0d11a9e81fdcbb15a\">[46066]</a></span>: Docs for automatic authorization for match password authentication. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5304\" onclick=\"get_ticket_and_populate_wrapper('5304'); return false;\" title=\"Need more permissions for match password auth\">#5304</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Oct-12 16:21</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d452c6a1bf711ae44a8fe896d8f1568ba31df643\">[45965]</a></span>: Automatically set all permissions for match password auth <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5304\" onclick=\"get_ticket_and_populate_wrapper('5304'); return false;\" title=\"Need more permissions for match password auth\">#5304</a></span> Previously, some authorization entries had to be set explicitly in the config files in order for SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION to work. Now, all of these entries are added automatically by the affected daemons when SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Oct-21 13:33", "status": "resolved", "created": "2015-Oct-12 15:42", "fixed_version": "2015-Oct-12 15:42", "broken_version": "v080200", "priority": "3", "subsystem": "Daemons", "assigned_to": "jfrey", "derived_from": "#5054", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
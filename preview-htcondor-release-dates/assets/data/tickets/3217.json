{"id": 3217, "title": "Ticket #3217: Macros that are prefixes of \"DOLLAR\" are not recognized", "description": "<blockquote>\nIt turns out a macro that is a proper prefix of \"DOLLAR\" (e.g., $(D), $(DO), etc) would never be recognized by the macro configuration code. I have a fix that I am pushing into V7_8-branch.</blockquote>", "remarks": "<blockquote>\n<em>2012-Sep-05 05:06:46 by nwp:</em> <br/>\n\nTo see the bug, insert the following into a condor_config:\n<div class=\"code\">\n<pre class=\"code\">DO=$(SPOOL)\nJOB_QUEUE_LOG=$(DO)/job_queue.log\n</pre></div>\n\nRun <code>condor_schedd -f -t</code> and watch the schedd try to open <code>$(DO)/job_queue.log</code>. (The literal file name, not the macro expansion).\n\n<p></p><hr/>\n<em>2012-Sep-05 13:13:32 by johnkn:</em> <br/>\n\nfix looks ok to me.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-11 12:03</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/65584d7489bd693a19693576e71db95e9d3ca2fe\">[33313]</a></span>: rewrite of 7.8.4 version history item of esoteric bug ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3217\" onclick=\"get_ticket_and_populate_wrapper('3217'); return false;\" title='Macros that are prefixes of \"DOLLAR\" are not recognized'>#3217</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-05 12:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/716acc5f35450eab4648e1e18d874c4468c15d67\">[33282]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3217\" onclick=\"get_ticket_and_populate_wrapper('3217'); return false;\" title='Macros that are prefixes of \"DOLLAR\" are not recognized'>#3217</a></span>  (By Nathan W. Panike )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-04 23:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/76934b61a9639695d003064ca50501de553409b6\">[33273]</a></span>: Check the length of a macro when comparing against \"DOLLAR\" <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3217\" onclick=\"get_ticket_and_populate_wrapper('3217'); return false;\" title='Macros that are prefixes of \"DOLLAR\" are not recognized'>#3217</a></span> I discovered this while looking into gt3196. Turns out the find_config_macro function would never identify $(D), $(DO), $(DOL), etc., as a configuration macro.  (By Nathan W. Panike )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2013-Jan-29 14:15", "status": "resolved", "created": "2012-Sep-04 23:08", "fixed_version": "2012-Sep-04 23:08", "broken_version": "v070802", "priority": "3", "subsystem": "Libs", "assigned_to": "nwp", "derived_from": "", "creator": "nwp", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": "20120904"}
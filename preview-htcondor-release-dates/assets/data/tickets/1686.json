{"id": 1686, "title": "Ticket #1686: schedd crash due to memory corruption", "description": "<blockquote>\nThis was observed in a pre-release of 7.5.5:\n\n<p></p><div class=\"verbatim\">\n<pre>$CondorVersion: 7.5.5 Sep 23 2010 BuildID: 274250 PRE-RELEASE-UWCS $\n$CondorPlatform: X86_64-LINUX_RHEL3 $\n</pre></div>\n\n\n<p>It appears that memory got corrupted, because the schedd died in malloc.  It's not clear what caused this.\n\n</p><p></p><div class=\"verbatim\">\n<pre>Stack dump for process 17639 at timestamp 1285983425 (18 frames)\ncondor_schedd(dprintf_dump_stack+0xb3)[0x5dcf2b]\ncondor_schedd(_Z18linux_sig_coredumpi+0x28)[0x5ced68]\n/lib64/tls/libpthread.so.0[0x2a95678430]\n/lib64/tls/libc.so.6[0x2a95fa6458]\n/lib64/tls/libc.so.6(malloc+0x92)[0x2a95fa8202]\n/usr/lib64/libstdc++.so.5(_Znwm+0x25)[0x2a95b6b425]\ncondor_schedd(_ZN6SecMan12startCommandEiP4SockbP11CondorErroriPFvbS1_S3_PvES4_bPKcS8_+0x2c)[0x6d4ecc]\ncondor_schedd(_ZN6Daemon12startCommandEiP4SockiP11CondorErrorPFvbS1_S3_PvES4_bPKcPcP6SecManbS8_+0x12f)[0x61eeb1]\ncondor_schedd(_ZN6Daemon24startCommand_nonblockingEiP4SockiP11CondorErrorPFvbS1_S3_PvES4_PKcbS8_+0x83)[0x61f2ed]\ncondor_schedd(_ZN11DCMessenger12startCommandE18classy_counted_ptrI5DCMsgE+0x47f)[0x63474b]\ncondor_schedd(_ZN6Daemon7sendMsgE18classy_counted_ptrI5DCMsgE+0xc2)[0x623654]\ncondor_schedd(_Z9sendAliveP9match_rec+0x232)[0x53e6fc]\ncondor_schedd(_ZN9Scheduler10sendAlivesEv+0x123)[0x53ead3]\ncondor_schedd(_ZN12TimerManager7TimeoutEv+0x26f)[0x5d83d5]\ncondor_schedd(_ZN10DaemonCore6DriverEv+0x71f)[0x5bb9d1]\ncondor_schedd(main+0x1921)[0x5d1d5d]\n/lib64/tls/libc.so.6(__libc_start_main+0xdb)[0x2a95f593fb]\ncondor_schedd(_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_c+0x42)[0x51fbea]\n</pre></div>\n\n\n<p>The full <code>SchedLog</code> is at <a class=\"external\" href=\"http://www.hep.wisc.edu/~dan/schedd_crash_2010-10-04/SchedLog\">http://www.hep.wisc.edu/~dan/schedd_crash_2010-10-04/SchedLog</a></p></blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2011-Jan-27 14:50:47 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 16:20:02 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2014-Jul-16 11:59:58 by bbockelm:</em> <br/>\n\nClosing old debugging tickets - reopen if it happens again.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2014-Jul-16 12:00", "status": "abandoned", "created": "2010-Oct-04 10:17", "fixed_version": "2010-Oct-04 10:17", "broken_version": "v070505", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "dan@hep.wisc.edu", "due_date": ""}
{"id": 7290, "title": "Ticket #7290: custom print formats that do aggregation not working with condor_q", "description": "<blockquote>\na custom print format like <div class=\"code\">\n<pre class=\"code\">condor_q -print-format idle.cpf</pre></div>\n\nwhere the print format file uses <code>SELECT UNIQUE</code> to ask the schedd to count jobs with unique values for the given attributes (see <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7241\" onclick=\"get_ticket_and_populate_wrapper('7241'); return false;\" title=\"Add condor_q -idle to complement condor_q -run\">#7241</a></span>) is not currently working with condor_q.  The problem is that the set of 'significant' attributes is not being sent to the schedd as part of that query, so the schedd ends up using a blank set for the aggregation, which results in no output.\n\n<p>The code to put the significant attributes in the query is missing as far back as the end of the 8.6 branch.</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Oct-22 09:30:34 by gthain:</em> <br/>\n\n<strong>CODE REVIEW</strong> all good</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Sep-27 11:27</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f973dbed6c1ad0df4a0cc1a6b5ff7912e641b2a\">[57941]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7290\" onclick=\"get_ticket_and_populate_wrapper('7290'); return false;\" title=\"custom print formats that do aggregation not working with condor_q\">#7290</a></span>) Remove duplicate const that gcc doesn't like  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Sep-27 10:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/690e9456d7f545893dd577aaf6f04edfde9d40e1\">[57939]</a></span>: fix <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7290\" onclick=\"get_ticket_and_populate_wrapper('7290'); return false;\" title=\"custom print formats that do aggregation not working with condor_q\">#7290</a></span>, custom print formats that do aggregation not working with condor_q ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2019-Nov-13 08:06", "status": "resolved", "created": "2019-Sep-27 09:51", "fixed_version": "2019-Sep-27 09:51", "broken_version": "v080600", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "", "due_date": ""}
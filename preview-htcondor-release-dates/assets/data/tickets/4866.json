{"id": 4866, "title": "Ticket #4866: schedd crashes if a job is removed while concurrently spooling input", "description": "<blockquote>\nIf a job is submitted with -spool, condor submits the job on hold, and in a separate transaction, spools the input files to the scheduler.  If the held job is removed before the spooling starts, the schedd will crash.</blockquote>", "remarks": "<blockquote>\n<em>2015-Feb-05 09:54:39 by jfrey:</em> <br/>\n\n<strong>Code Review</strong>\n\n<p>This change looks good.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Mar-03 10:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f11d3a9fc69b0661a6d6c55e2d1e7d14a003a16a\">[43498]</a></span>: minor 8.2.8 version history item edit <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4866\" onclick=\"get_ticket_and_populate_wrapper('4866'); return false;\" title=\"schedd crashes if a job is removed while concurrently spooling input\">#4866</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-04 15:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6123d28ea1895817c55ab6a29c1daa044de081ab\">[43249]</a></span>: Remove sstream include as we no longer use it <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4866\" onclick=\"get_ticket_and_populate_wrapper('4866'); return false;\" title=\"schedd crashes if a job is removed while concurrently spooling input\">#4866</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-04 15:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/47944d7af14d36e0ddf8a85bd9fbcd81c6467aae\">[43247]</a></span>: Document <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4866\" onclick=\"get_ticket_and_populate_wrapper('4866'); return false;\" title=\"schedd crashes if a job is removed while concurrently spooling input\">#4866</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-04 15:25</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b6f931c25c65e09e6c0b3b222486e0e55b4af44e\">[43245]</a></span>: Fix schedd crash when jobs removed while spooling in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4866\" onclick=\"get_ticket_and_populate_wrapper('4866'); return false;\" title=\"schedd crashes if a job is removed while concurrently spooling input\">#4866</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Feb-05 10:14", "status": "resolved", "created": "2015-Feb-04 10:51", "fixed_version": "2015-Feb-04 10:51", "broken_version": "v070800", "priority": "1", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "s8521", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 3036, "title": "Ticket #3036: Add sandbox movement to pbs/lsf workflow in gridmanager", "description": "<blockquote>\nModify pbs/lsf job management code in the gridmanager to add sandbox movement to and from a remote server. Particular attention should be paid to proper failure recovery.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-30 17:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1dcb990d2886bc4275d929b0b8a569e5c72d8827\">[32924]</a></span>: Improve file handling of stdout/err for bosco jobs. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> Filenames that contain path information are now supported. Stdout and stderr are now renamed on the remote system, just as they are for Condor-C and shadow/starter.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-30 15:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4b0432a4e4e316e4b8259cc00f76204626b214bf\">[32923]</a></span>: Always transfer stdout/err for bosco jobs. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-25 14:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/99857ff6d887fa35d0d98ade0a2634ae94f6529f\">[32911]</a></span>: Improve error handling and submit throttling for bosco jobs. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-20 00:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d37b67329d4b35a2df34441d706778bec64ca822\">[32865]</a></span>: Fix error propagation for ft-gahp failures, part 2. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> Missed a couple calls in the previous commit.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-20 00:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/398e28c239ce6c02c331c4a8ed1ccd122ded4ca8\">[32864]</a></span>: Fix error propagation for ft-gahp failures. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> Before, we were pulling the error message from the wrong <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GahpClient\" title=\"Gahp Client\">GahpClient</a></span> object.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-20 00:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/118e4b24946411936a6edd3f5d1fff8ce623881d\">[32863]</a></span>: Fix authentication between gridmanger and ft-gahp. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> Use the pool password set up by the campus factory for authentication between the gridmanager and ft-gahp.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-16 14:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ec5a64920e3f68fbcf986b18ca76157513f078f4\">[32804]</a></span>: Allow <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> server side to do non-blocking transfers. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> The default is blocking, but the gridmanager now uses the non-blocking mode.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 15:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0a210531afbb2851e6b9601a60beaccd7c7f39fe\">[32764]</a></span>: Add condor_ft-gahp to bosco_cluster installation code. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-12 13:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b7b6a64b8e91420d0bc7f642df26aed4ad1f95eb\">[32754]</a></span>: Support not transferring the executable for bosco. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 21:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/273477902ef4f1f510db20388689fd483905ae71\">[32737]</a></span>: Fix failure recovery for bosco file transfer. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 19:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e415f35e160d794da7913a8687915903f87f83c1\">[32733]</a></span>: Fix cedar hole-punching for bosco file transfer. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 18:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a9ddf4228a814bb685bf84d61c9fe014896a6435\">[32731]</a></span>: Run condor_ft-gahp in the foreground. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 18:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c06cf50e253b5df9e81a1e1f7096abf6b48465a4\">[32730]</a></span>: Add CEDAR hole-punching code for bosco file transfer. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 12:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2579d290b34b3b145a299289598fc259e3ac2a9d\">[32707]</a></span>: Modify job ad for bosco file transfer in gridmanager. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-05 10:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4d246e7bce0408620991878c4eb240ff956e4986\">[32187]</a></span>: First round changes to add bosco file transfer to gridmanager. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3036\" onclick=\"get_ticket_and_populate_wrapper('3036'); return false;\" title=\"Add sandbox movement to pbs/lsf workflow in gridmanager\">#3036</a></span> Add states to INFNBatchJob class for sandbox movement.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2012-Sep-25 17:21", "status": "resolved", "created": "2012-Jun-04 16:52", "fixed_version": "2012-Jun-04 16:52", "broken_version": "v070800", "priority": "2", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#2386", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": "20120711"}
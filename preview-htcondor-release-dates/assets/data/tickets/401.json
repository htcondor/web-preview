{"id": 401, "title": "Ticket #401: SLOT_TYPE_* parser doesn't EXCEPT on nonsense", "description": "<blockquote>\nThe SLOT_TYPE_* code appears to silently ignore unsupported entries.  For example, given the following:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">SLOT_TYPE_1 = cpus=50%,ram=50%\nNUM_SLOTS_TYPE_1 = 1\nSLOT_TYPE_2 = cpus=50%/($(NUM_SLOTS)-1),ram=50%/($(NUM_SLOTS)-1)\nNUM_SLOTS_TYPE_2 = 2</pre></div>\n\n\n<p>The error is\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">04/21 16:37:58 ERROR: Can't allocate 2nd slot of type 2\n    Requesting: Cpus: 1, Memory: 1575, Swap: auto, Disk: auto\n    Available:  Cpus: 1, Memory: 1, Swap: 100.00%, Disk: 100.00%\n04/21 16:37:58 ERROR \"Ran out of system resources\" at line 590 in file ResMgr.cpp\n</pre></div>\n\n\n<p>The expected error would be\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">04/21 16:37:58 ERROR: \"100%/($(NUM_SLOTS)-1)\" was not understood as part of SLOT_TYPE_2. You cannot use expressions here.</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 14:50", "status": "new", "created": "2009-Apr-21 16:39", "fixed_version": "2009-Apr-21 16:39", "broken_version": "v070000", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
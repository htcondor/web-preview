{"id": 32, "title": "Ticket #32: Replace MAX_CLAIM_ ALIVES_MISSED with DEFAULT_CLAIM_ LEASE_DURATION", "description": "<blockquote>\n(Replaces Drupal <span class=\"drupalnode\"><a href=\"http://drupal-old.batlab.cs.wisc.edu/node/1648\">1648 (backup)</a> <a href=\"http://nmi.cs.wisc.edu/node/1648\">1648 (public)</a></span>)\n\n<p>MAX_CLAIM_ALIVES_MISSED is almost never used in Condor. When it is, it&amp;#8217;s behavior is surprising.\n\n</p><p>Claim leases on startds default to job_lease_duration/JobLeaseDuration (from the job). job_lease_duration defaults to 20 minutes. If and only if job_lease_duration is missing is MAX_CLAIM_ALIVES_MISSED used. (A user can use job_lease_duration=0 to get this behavior.) In that case, the claim lease duration is MAX_CLAIM_ALIVES_MISSED*current_alive_interval_on_schedd. The current alive interval on the schedd changes! It starts at ALIVE_INTERVAL, but if the current value is ever larger than the job_lease_duration/3 of a starting job, it is permanently lowered (until the schedd restarts).\n\n</p><p>So, MAX_CLAIM_ALIVES_MISSED is a multiplier based on a number that is actually under the control of user job submissions! So this knob will almost never be used, and when it is used it&amp;#8217;s hard to guess exactly what it means. Documenting it is clearly is difficult because so many parts are involved.\n\n</p><p>Proposed change: remove MAX_CLAIM_ALIVES_MISSED. When the schedd send the current alive interval, the startd should ignore it. Replace the c_lease_duration calculations in condor_startd.V6/claim.C where multiplies max_claim_alives_missed against the new_alive/c_aliveint with a simple PARAM for DEFAULT_CLAIM_LEASE_DURATION. Now the documentation is straightforward: the claim lease is the job_lease_duration; if not present DEFAULT_CLAIM_LEASE_DURATION is used.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2010-Feb-12 11:33", "status": "new", "created": "2009-Jan-16 10:55", "fixed_version": "2009-Jan-16 10:55", "broken_version": "", "priority": "4", "subsystem": "Daemons", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
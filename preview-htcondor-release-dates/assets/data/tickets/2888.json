{"id": 2888, "title": "Ticket #2888: Unexpected response from nordugrid ldap server can kill gridmanager", "description": "<blockquote>\nWhen the gridmanager queries a nordugrid ldap server for the status of all jobs, it expects all of the attributes it wants to be present in each record and in a specific order. If this isn't the case, the gridmanager ASSERT()s.</blockquote>", "remarks": "<blockquote>\n<em>2012-Mar-16 13:16:47 by jfrey:</em> <br/>\n\nI've pushed a fix to V7_6-branch for 7.6.7. The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NordugridResource\" title=\"Nordugrid Resource\">NordugridResource</a></span> object in the gridmanager no longer cares about the ordering of ldap attributes and ignores records where attributes are missing. It no longer ASSERT()s on any response from the ldap server.\n\n<p></p><hr/>\n<em>2012-Mar-16 17:18:17 by johnkn:</em> <br/>\n\nLooks good.  The code will ignore records that don't have both of the required fields, and tolerate records that have the fields in either order.\n\n<p>It might be good to have it also print out a message when it sees records that it doesn't expect, or at least when it gets a response that contains ONLY records that it doesn't recognise.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-16 13:14</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d272ac655846c70360e1c26a9aed9c981d663922\">[30945]</a></span>: Make gridmanager more tolerant of nordugrid ldap responses. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2888\" onclick=\"get_ticket_and_populate_wrapper('2888'); return false;\" title=\"Unexpected response from nordugrid ldap server can kill gridmanager\">#2888</a></span> When querying a nordugrid ldap server for job statuses, the gridmanager expected all requested attributes to be present and in a certain order in each record. Otherwise, it ASSERT()ed. We've now seen servers that don't follow these expectations.\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-May-10 11:41", "status": "resolved", "created": "2012-Mar-13 15:47", "fixed_version": "2012-Mar-13 15:47", "broken_version": "v070400", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
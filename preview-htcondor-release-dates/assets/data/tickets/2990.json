{"id": 2990, "title": "Ticket #2990: Cgroups code doesn't cleanly handle nodes with swap accounting disable", "description": "<blockquote>\nWhen we added cgroup support, we read out of the statistics for the max memory + swap used by the job.\n\n<p>In some cases (RHEL6 with a special boot parameter, F16 by default), swap accounting is disabled.  The statistic we use is unavailable and the procd sends out an angry message to the log.\n\n</p><p>The attached patch just looks at max memory in case if memory + swap is unavailable.</p></blockquote>", "remarks": "<blockquote>\n<em>2012-May-14 08:51:13 by tstclair:</em> <br/>\n\nI'll evaluate for stable series inclusion.\n\n<p></p><hr/>\n<em>2012-Jul-06 10:56:51 by bbockelm:</em> <br/>\n\nThe patch I just posted for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3003\" onclick=\"get_ticket_and_populate_wrapper('3003'); return false;\" title=\"cgroup reuse does not reset accounting statistics\">#3003</a></span> includes this.\n<hr/>\n<em>2012-Aug-23 13:51:42 by zmiller:</em> <br/>\n\nBulk change of target version from v070802 to v070803 using ./ticket-target-mover.\n<hr/>\n<em>2012-Sep-11 11:06:53 by johnkn:</em> <br/>\n\nBulk change of target version from v070803 to v070804 using ./ticket-target-mover.\n<hr/>\n<em>2012-Sep-19 16:15:53 by zmiller:</em> <br/>\n\nBulk change of target version from v070804 to v070805 using ./ticket-target-mover.\n\n<p></p><hr/>\n<em>2012-Oct-01 15:47:42 by tannenba:</em> <br/>\n\nAbandoned, as it was dealt with in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3003\" onclick=\"get_ticket_and_populate_wrapper('3003'); return false;\" title=\"cgroup reuse does not reset accounting statistics\">#3003</a></span>.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/563/cgroups_noswap.patch\">cgroups_noswap.patch</a>\n4334 bytes added by bbockelm on 2012-May-14 02:43:32 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "enhance", "last_change": "2012-Oct-01 15:47", "status": "abandoned", "created": "2012-May-13 21:43", "fixed_version": "2012-May-13 21:43", "broken_version": "v070700", "priority": "2", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
{"id": 5179, "title": "Ticket #5179: condor_who -daemon -log asserts", "description": "<blockquote>\n<div class=\"verbatim\">\n<pre>submit-3:~/condor/test$ condor_who -daemon -log /home/tlmiller/condor/obj/tmp/unit_test_sinful.saveme/pdir3864/pdir3864ccbAndSp/log\n\nLOG directory \"/home/tlmiller/condor/obj/tmp/unit_test_sinful.saveme/pdir3864/pdir3864ccbAndSp/log\"\n\nDaemon       Alive  PID    PPID   Exit   Addr                     Executable\n------       -----  ---    ----   ----   ----                     ----------\nCollector    no     no     no     0      &lt;128.104.100.22:9909?addrs=128.104.100.22-9909&amp;noUDP&amp;sock=collector&gt;\nMaster       no     no     no     0      &lt;128.104.100.22:0?sock=4147_1356&gt;\nNegotiator   no     no     no     0      &lt;128.104.100.22:9909?addrs=128.104.100.22-9909&amp;noUDP&amp;sock=4147_1356_5&gt;\nSchedd       no     no     no     0      &lt;128.104.100.22:9909?addrs=128.104.100.22-9909&amp;noUDP&amp;sock=4147_1356_4&gt;\nSharedPort   no     no     no     0      &lt;128.104.100.22:9909?addrs=128.104.100.22-9909&amp;noUDP&gt;\nStartd       no     no     no     0      &lt;128.104.100.22:9909?addrs=128.104.100.22-9909&amp;noUDP&amp;sock=4147_1356_3&gt;\nERROR \"Assertion ERROR on (fd &gt;= 0)\" at line 330 in file /home/tlmiller/condor/source/src/condor_io/condor_rw.cpp\n</pre></div>\n\n\n<p>This appears to be caused by not checking for errors in condor_who/who.cpp, get_daemon_param(), especially from sock.connect() and dae.startCommand().\n\n</p><p>This is probably specific to the wacky configuration of the personal condor in question.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Aug-05 16:22:47 by tlmiller:</em> <br/>\n\nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d9773f7101cfc4f6085ca4203773a8a5ebcc2eb5\">[45475]</a></span> confirms that this fixes the problem.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/884/config-and-log.tar.gz\">config-and-log.tar.gz</a>\n15985 bytes added by tlmiller on 2015-Jul-28 21:13:35 UTC.\n<br/>\nConfig files and log directory for reproduction.<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Aug-04 11:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/04fdae60a9e467de7b1eb89d1520a64121d45502\">[45459]</a></span>: fix for assert in condor_who <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5179\" onclick=\"get_ticket_and_populate_wrapper('5179'); return false;\" title=\"condor_who -daemon -log asserts\">#5179</a></span> ===VersionHistory:none=== does not rise to level of...  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Aug-10 11:39", "status": "resolved", "created": "2015-Jul-28 16:10", "fixed_version": "2015-Jul-28 16:10", "broken_version": "", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
{"id": 6989, "title": "Ticket #6989: invoke Singularity with special command that brings in NVIDIA drivers", "description": "<blockquote>\nWhat Docker and Singularity call the \"NVIDIA runtime\" is basically this:\n\n<p></p><ul>\n<li>nvidia has a tool which you run and it produces a list of files on stdout\n</li><li>docker / singularity bind mount those files inside the container (or equivalent operations)\n</li><li>thus one is reasonably assured of having the same libraries inside the container as are running the kernel\n</li></ul>\n\n<p>Request_gpus &gt; 0 should trigger this singularity option.  This solves a fairly fundamental problem in portability of GPU code.</p></blockquote>", "remarks": "<blockquote>\nDuplicate of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6898\" onclick=\"get_ticket_and_populate_wrapper('6898'); return false;\" title=\"Singularity jobs should set --nv command line flag if it asks for gpus\">#6898</a></span> -- solves this problem in a somewhat different way.\n\n<p></p><hr/>\n<em>2019-Apr-24 14:14:03 by pfc:</em> <br/>\n\nWe're accepting Greg's bold unsubstantiated claim that this is resolved unless/until Tom or other have info or opinions to the contrary.\n\n<p></p><hr/>\n<em>2019-Apr-24 14:30:17 by tpdownes:</em> <br/>\n\nThey are certainly aiming to do the right thing and I presume the right thing will also come with its own surprises down the road. No reason to re-open this or other ticket.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2019-Apr-24 14:30", "status": "resolved", "created": "2019-Apr-10 16:13", "fixed_version": "2019-Apr-10 16:13", "broken_version": "", "priority": "2", "subsystem": "DaemonsExecNode", "assigned_to": "gthain", "derived_from": "#6898", "creator": "tpdownes", "rust": "", "customer_group": "ligo", "visibility": "public", "notify": "downes@uwm.edu,pcouvare@caltech.edu", "due_date": ""}
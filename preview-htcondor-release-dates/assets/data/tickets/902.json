{"id": 902, "title": "Ticket #902: SUBSYS_SETTABLE_ATTRS no longer valid configuration", "description": "<blockquote>\nAs of Pete's commit (below). SUBSYS_SETTABLE_ATTRS no longer works. Instead, the standard SUBSYS.SETTABLE_ATTRS notation works. The manual still says SUBSYS_ works.\n\n<p></p><div class=\"verbatim\">\n<pre>commit a56c825ff6ec67f5d5135bd75da6d26591853f6e\nAuthor: Peter Keller &lt;psilord@cs.wisc.edu&gt;\nDate:   Tue Jul 21 13:37:21 2009 -0500\n\n    Initial checkin (by Pete) of grand unified param feature as described in #12\n    This passes the test suites except for something which seemed to have been\n    broken when the branch was made.\n\n...\n-  if( subsys ) {\n-     param_name = subsys;\n-     param_name += \"_SETTABLE_ATTRS_\";\n-  } else {\n+/* XXX Comment this out and let subsys.SETTABLE_ATTRS_* work instead */\n+/*   if( subsys ) {*/\n+/*      param_name = subsys;*/\n+/*      param_name += \"_SETTABLE_ATTRS_\";*/\n+/*   } else {*/\n      param_name = \"SETTABLE_ATTRS_\";\n-  }\n+/*   }*/\n...\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n<em>2009-Nov-04 10:26:09 by psilord:</em> <br/>\n\nI guess the infallible assurances of everyone in that this functionality wasn't used at all was wrong. :)\n\n<p></p><hr/>\n<em>2009-Dec-28 10:21:12 by smoler:</em> <br/>\n\nI cannot change the manual until I know what version this applies to.  I tried really hard to find out on Nov 11, 2009, including a set of e-mail exchanges, but my question was never answered. If there is a way of causing git to tell me, please place the command I should use into this ticket.  I cannot find one, nor could other developers.\n\n<p>This ticket will languish until I am given an answer. And, since this change applies to the (old) host-based security, are the implications that all examples using &lt;SUBSYS&gt;_SETTABLE_ATTRS. . . in section 3.6.9 of our manuals must change?  Further, that all folks using this in their host-based security configurations must now change their configuration?\n\n</p><p>The important question to answer is:  WHICH VERSION OF CONDOR IS THIS IN?\n\n</p><p></p><hr/>\n<em>2009-Dec-28 11:09:48 by danb:</em> <br/>\n\nAnother user was bitten by this undocumented change in behavior.\n\n<p>Karen, this change affects condor version 7.3.2 and all later releases.\n\n</p><p></p><hr/>\n<em>2009-Dec-28 11:28:27 by danb:</em> <br/>\n\nKaren, in response to your other questions...\n\n<p>First, you state that this setting is part of the host-based security policy.  It is more general than that.  This knob sets which attributes can be configured at a given authorization level.  Who is authorized at a given authorization level can be configured using any combination of host-based and user-based authorization entries (i.e. by setting ALLOW_CONFIG or whatever authorization level is desired).\n\n</p><p>Yes, any use of &lt;SUBSYS&gt;_SETTABLE_ATTRS_&lt;AUTH_LEVEL&gt; is ignored as of 7.3.2, so all examples in the manual should change and all use by condor admins need to change.  Instead, one should use SETTABLE_ATTRS_&lt;AUTH_LEVEL&gt; or if it is really desired to make the setting specific to a particular subsystem, use &lt;SUBSYS&gt;.SETTABLE_ATTRS_&lt;AUTH_LEVEL&gt;.\n\n</p><p>I don't really see why anyone would want to make the setting specific to a particular subsystem, so unless anyone else can offer a good reason, I wouldn't bother putting an example of that in the manual.  I suspect that admins were only using &lt;SUBSYS&gt;_SETTABLE_ATTRS_&lt;AUTH_LEVEL&gt; because there was an example of it in the manual and they thought it was required to specify a subsystem.\n\n</p><p></p><hr/>\n<em>2010-Jan-14 10:17:57 by smoler:</em> <br/>\n\nCorrections made in V7_4_1-branch by Karen.  Changes only made to the outdated, so never updated, section 3.6.9 on Host-Based Security in Condor.  Minimal changes made for this reason.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jan-14 10:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9664ebc996da53910936a7e9346919ca4f63765d\">[25228]</a></span>: gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=902\" onclick=\"get_ticket_and_populate_wrapper('902'); return false;\" title=\"SUBSYS_SETTABLE_ATTRS no longer valid configuration\">#902</a></span>, &lt;SUBSYS&gt;_SETTABLE_ATTRS became &lt;SUBSYS&gt;.SETTABLE_ATTRS  (By Karen Miller )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2010-Jan-14 10:19", "status": "resolved", "created": "2009-Nov-03 22:59", "fixed_version": "2009-Nov-03 22:59", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "smoler", "derived_from": "#899", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "matt@cs.wisc.edu smoler@cs.wisc.edu psilord@cs.wisc.edu", "due_date": ""}
{"id": 3672, "title": "Ticket #3672: Never try to start held EC2 jobs.", "description": "<blockquote>\nPresently, the grid manager attempts to (re)start any (non-spot) job with a client token but not an instance ID.  For held jobs, this is at best extra work; for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpenStack\" title=\"Open Stack\">OpenStack</a></span> (and possibly other services), it's positively dangerous, because RunInstances() isn't idempotent.\n\n<p>However, doing so is unnecessary.  We could adapt GM_SEEK_INSTANCE_ID to locate (or not) the instance ID of every (non-spot) held job, moving the conditional for REMOVED jobs from GM_INIT to GM_SEEK_INSTANCE_ID.  This would prevent the gridmanager from attempting to restart held jobs, which should be more efficient.</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Nov-13 16:38:37 by tlmiller:</em> <br/>\n\nTicket body updated to reflect new information.  Also removed a fragment implying that <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpenStack\" title=\"Open Stack\">OpenStack</a></span> had synchronization problems with respect to keypairs (that a keypair might be successfully created but be immediately available for use by RunInstances()).</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Nov-13 16:38", "status": "new", "created": "2013-Jun-03 13:57", "fixed_version": "2013-Jun-03 13:57", "broken_version": "", "priority": "4", "subsystem": "Grid", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tiradani@fnal.gov", "due_date": ""}
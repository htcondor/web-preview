{"id": 5441, "title": "Ticket #5441: Standardize/unify timestamp to user-readable date code", "description": "<blockquote>\nRight now we have at least two places (_format_global_header() in condor_utils/dprintf.cpp and debug_cache_insert() in condor_dagman/debug.cpp) that produce a user-readable date/time string (and I'll bet there are others I don't know about).  (And I'm going to at least temporarily be adding another one for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5439\" onclick=\"get_ticket_and_populate_wrapper('5439'); return false;\" title=\"Add event timestamp to dagman.out and jobstate.log\">#5439</a></span>.)\n\n<p>I think it would make sense to create a stand-alone function that any part of the HTCondor code can call, that takes a seconds-since-the-epoch timestamp and returns something like a <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MyString\" title=\"My String\">MyString</a></span> with a suitably-formatted string, taking into account all of the relevant config knobs.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Dec-15 13:24:37 by tannenba:</em> <br/>\n\nIn our utils lib, see <a class=\"file\" href=\"rlog?f=src/condor_utils/format_time.cpp\">/src/condor_utils/format_time.cpp</a> which will convert epoch time into several different human-readable formats; this is already used many places in htcondor including condor_status, condor_q, condor_history, etc.\n\n<p>And of course there is <code>strftime()</code> from C library\n\n</p><p>Perhaps abandon this ticket?\n\n</p><p></p><hr/>\n<em>2015-Dec-15 16:00:15 by wenger:</em> <br/>\n\nBut my point is that format_time.cpp and strftime() don't look at D_TIMESTAMP and D_SUB_SECOND.\n\n<p>(Maybe the problem is only in DAGMan, because we partially duplicate the dprintf date/time formatting when using the cache for the dagman.out file.)</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2015-Dec-15 16:00", "status": "new", "created": "2015-Dec-15 13:10", "fixed_version": "2015-Dec-15 13:10", "broken_version": "v080501", "priority": "4", "subsystem": "Libs", "assigned_to": "", "derived_from": "", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, tannenba@cs.wisc.edu", "due_date": ""}
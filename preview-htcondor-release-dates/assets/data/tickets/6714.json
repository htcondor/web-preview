{"id": 6714, "title": "Ticket #6714: When surplus and pslots enabled, if demand < pslot size, no jobs match", "description": "<blockquote>\nWhen group quotas are in play, and surplus is on, the negotiator lowers the \"submitterLimit\", the number of cores an individual submitter can get, to the min of their demand and their fair share.  When pslots are on, each submitter is charged the full cost of the pslot.\n\n<p>This means that if a submitter has one single core job, it will never match to a multicore pslot if surplus is on and there is a group quota.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Oct-30 16:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/75b6f507a8be72dbe4fb17b61c0aa5049933522e\">[55667]</a></span>: Prepare for build. Also, docs for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6725\" onclick=\"get_ticket_and_populate_wrapper('6725'); return false;\" title=\"starter crash when deleting docker images\">#6725</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6755\" onclick=\"get_ticket_and_populate_wrapper('6755'); return false;\" title=\"condor_tail -stderr always results in an error\">#6755</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6710\" onclick=\"get_ticket_and_populate_wrapper('6710'); return false;\" title=\"Make condor_submit -i work with docker jobs\">#6710</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6750\" onclick=\"get_ticket_and_populate_wrapper('6750'); return false;\" title=\"A single cpu job may never match a pslot\">#6750</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6731\" onclick=\"get_ticket_and_populate_wrapper('6731'); return false;\" title=\"Allow admin to add additional singularity command line args\">#6731</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6757\" onclick=\"get_ticket_and_populate_wrapper('6757'); return false;\" title=\"Accounting ads cannot be forwarded by the gangliad\">#6757</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6758\" onclick=\"get_ticket_and_populate_wrapper('6758'); return false;\" title=\"Add DaemonLastReconfigTime attribute to condor daemons\">#6758</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6714\" onclick=\"get_ticket_and_populate_wrapper('6714'); return false;\" title=\"When surplus and pslots enabled, if demand &lt; pslot size, no jobs match\">#6714</a></span>, and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6711\" onclick=\"get_ticket_and_populate_wrapper('6711'); return false;\" title=\"condor_ssh_to_job -X tries to use ipv6 localhost even when disabled\">#6711</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6786\" onclick=\"get_ticket_and_populate_wrapper('6786'); return false;\" title=\"notification on Error poorly documented\">#6786</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6797\" onclick=\"get_ticket_and_populate_wrapper('6797'); return false;\" title=\"ec2 configuration file in tarball config directory\">#6797</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6709\" onclick=\"get_ticket_and_populate_wrapper('6709'); return false;\" title=\"Improved default configuration for packaged builds\">#6709</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2018-Jul-13 13:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/aa8114a4b85631f4860a2999da8f021b03c012a2\">[55166]</a></span>: Allow small jobs to match when surplus and pslots and quotas on <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6714\" onclick=\"get_ticket_and_populate_wrapper('6714'); return false;\" title=\"When surplus and pslots enabled, if demand &lt; pslot size, no jobs match\">#6714</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2018-Oct-30 16:37", "status": "resolved", "created": "2018-Jul-13 13:48", "fixed_version": "2018-Jul-13 13:48", "broken_version": "v080700", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": ""}
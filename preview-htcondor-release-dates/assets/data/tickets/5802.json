{"id": 5802, "title": "Ticket #5802: Job Router's JOB_FINALIZE hook has wrong name", "description": "<blockquote>\nThe hook in the Job Router that's invoked when the routed job completes has different names in the code and the manual. In the code, it's JOB_EXIT. In the manual, it's JOB_FINALIZE. The behavior in the manual appears to be accurate. JOB_EXIT is also a starter hook, though the behavior is different between the two versions.\n\n<p>We will make JOB_FINALIZE the official name of the hook. That will minimize confusion about two hooks with the same name but different interfaces.\n\n</p><p>If JOB_FINALIZE isn't set in the config file, we'll look for JOB_EXIT as a fallback, in case any users are relying on the undocumented name from previous versions. This fallback should be removed in a future release.</p></blockquote>", "remarks": "<blockquote>\n<em>2016-Sep-16 07:33:16 by tim:</em> <br/>\n\n<strong>CODE REVIEW</strong>: I approve this change</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-19 13:15</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3007331d185f219f899aa6fe8422de2b748bbc2c\">[49226]</a></span>: Docs for Job Router hook name fix from JOB_EXIT to JOB_FINALIZE. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5802\" onclick=\"get_ticket_and_populate_wrapper('5802'); return false;\" title=\"Job Router's JOB_FINALIZE hook has wrong name\">#5802</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Sep-12 16:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/135804f84c39d28e1a03a847dc5030dcf76fe993\">[49172]</a></span>: Change job router hook name from JOB_EXIT to JOB_FINALIZE <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5802\" onclick=\"get_ticket_and_populate_wrapper('5802'); return false;\" title=\"Job Router's JOB_FINALIZE hook has wrong name\">#5802</a></span> JOB_FINALIZE was always the documented name of this hook. Now the code recognizes it as well. If it's not defined, still check for JOB_EXIT, in case some users are relying on the undocumented name.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Sep-19 13:16", "status": "resolved", "created": "2016-Jul-25 12:03", "fixed_version": "2016-Jul-25 12:03", "broken_version": "v080400", "priority": "4", "subsystem": "DaemonsSubmitNode", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "atlas", "visibility": "public", "notify": "", "due_date": ""}
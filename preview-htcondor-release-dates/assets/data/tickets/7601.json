{"id": 7601, "title": "Ticket #7601: update cmake files to support cmake 3.0", "description": "<blockquote>\nCmake 3 offers a lot of features that promise to simplify our cmake files, but our current cmake files have many accidental dependencies on pre 3.0 features.  We should fix these bugs so that we can take advantage of cmake 3 in the future.</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Apr-16 17:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0fb2ce073312579994ea817d20425cce93c51442\">[59373]</a></span>: More porting to CMake 3 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7601\" onclick=\"get_ticket_and_populate_wrapper('7601'); return false;\" title=\"update cmake files to support cmake 3.0\">#7601</a></span>  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Apr-15 22:35</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1a068929e34aa435f4912dde6254d9f2c6ec1048\">[59363]</a></span>: Port condor_tests CMakefile to cmake 3 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7601\" onclick=\"get_ticket_and_populate_wrapper('7601'); return false;\" title=\"update cmake files to support cmake 3.0\">#7601</a></span> cmake 3, in cmake 3 mode, throw an error if you try to add a dependency on a non-existing target. The Windows test build was doing this for reasons described in the comment  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-Apr-15 21:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e203bb5a8cbb9c9585fd070b11db2d93502a2ec5\">[59361]</a></span>: Port to cmake 3 <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7601\" onclick=\"get_ticket_and_populate_wrapper('7601'); return false;\" title=\"update cmake files to support cmake 3.0\">#7601</a></span> We were accidentally putting condor_ver_info.WISDOM into the list of sources to build libcondorapi.a and cmake 2.6 was happy with this, but newer cmakes, not so much.  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Sep-23 09:08", "status": "resolved", "created": "2020-Apr-15 21:16", "fixed_version": "2020-Apr-15 21:16", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 1450, "title": "Ticket #1450: startd crashes when multiple jobs using signal escalation are removed", "description": "<blockquote>\nThe startd can EXCEPT if multiple jobs are removed at the same time that are using signal escalation.  The procd reports a failure and EXCEPTs, which takes down the startd.</blockquote>", "remarks": "<blockquote>\n<em>2010-Jun-14 08:36:54 by rrati:</em> <br/>\n\nKill signal escalation can result in a race condition between the startd and\nthe starter when the startd determines the starter isn't responding and\nattempts to hardkill it.  The issue is with the procd, which can't handle a\nsituation where it has been told to send a message but is unable to do so.  The\nright fix for this is to re-engineer the procd.\n\n<p>This fix allows signal escalation without using the procd and does not suffer\nfrom the race condition when using the procd.  To use signal escalation, make\nsure USE_PROCD=FALSE is in condor's configuration file.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jun-14 08:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d37e17ad53ba3ed9b12154cc3a17a641e430d748\">[18464]</a></span>: Kill signal escalation can result in a race condition between the startd and the starter when the startd determines the starter isn't responding and attempts to hardkill it. The issue is with the procd, which can't handle a situation where it has been told to send a message but is unable to do so. The\u00a0[...]\n (By Robert Rati )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jun-14 08:39", "status": "resolved", "created": "2010-Jun-14 08:35", "fixed_version": "2010-Jun-14 08:35", "broken_version": "v070502", "priority": "3", "subsystem": "Daemons", "assigned_to": "rrati", "derived_from": "", "creator": "rrati", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
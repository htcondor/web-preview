{"id": 594, "title": "Ticket #594: CondorView collector should track arbitrary fields", "description": "<blockquote>\nThe collector, as part of the <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> functionality, can take snapshots of interesting information from MyType=Machine <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  This should be generalized to snapshot arbitrary attributes from arbitrary typed ads, as specified by the configuration file.  Frequency of sampling should be variable as well, possibly on a per-result basis.\n\n<p><span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=595\" onclick=\"get_ticket_and_populate_wrapper('595'); return false;\" title=\"Store CondorView database in more generic format\">#595</a></span>, \"Store <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> database in more generic format\" is probably a prerequisite\n\n</p><p>Step 1: Figure out what sorts of questions we want to ask\n\n</p><p>Fields wanted from <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=573\" onclick=\"get_ticket_and_populate_wrapper('573'); return false;\" title=\"Collect historical gridmanager data for BNL\">#573</a></span>:\n</p><ul>\n<li>Number of jobs submitted: SELECT SUM(TotalJobAds) WHERE MyType=\"Scheduler\"\n</li><li>Number of jobs completed: <em>TODO</em>\n</li><li>Number of jobs held: SELECT SUM(TotalHeldJobs) WHERE MyType=\"Scheduler\"\n</li><li>For each Condor and Globus job status, calculate the following:\n<ul>\n<li>Total time spent in status X across all jobs: <em>TODO</em>\n</li><li>Number of jobs that spent time in status X: <em>TODO</em>\n</li><li>Average and other statistics about time spent in status X: <em>TODO</em>\n</li><li>Histogram of times spent in status X: <em>TODO</em>\n</li></ul>\n</li></ul>\n\n<p>Wild brainstorming for sorts of data to snapshot (in pseudo SQL)\n\n</p><p></p><ul>\n<li>machines per user: SELECT username, COUNT(*) GROUP BY username WHERE MyType=\"Machine\"\n</li><li>Total RAM: SELECT SUM(Memory) WHERE MyType=\"Machine\"\n</li><li>Most RAM: SELECT MAX(Memory) WHERE MyType=\"Machine\"\n</li><li>Least RAM: SELECT MIN(Memory) WHERE MyType=\"Machine\"\n</li><li>Average RAM:\n<ul>\n<li>SELECT SUM(Memory)/COUNT(*) WHERE MyType=\"Machine\"\n</li><li>SELECT AVG(Memory) WHERE MyType=\"Machine\"</li></ul>\n</li></ul>\n</blockquote>", "remarks": "<blockquote>\n<hr/>\n<em>2010-Oct-20 15:59:08 by jfrey:</em> <br/>\n\nBulk change of target version from v070504 to v070505 using ./ticket-target-mover.\n<hr/>\n<em>2011-Jan-27 14:21:33 by danb:</em> <br/>\n\nBulk change of target version from v070505 to v070506 using ./ticket-target-mover.\n<hr/>\n<em>2011-Feb-01 14:49:30 by tannenba:</em> <br/>\n\nBulk change of target version from v070506 to NULL using ./ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=595\" onclick=\"get_ticket_and_populate_wrapper('595'); return false;\" title=\"Store CondorView database in more generic format\">#595</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nStore <span class=\"wiki\"><a href=\"wiki?p=CondorView\" title=\"Condor View\">CondorView</a></span> database in more generic format</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Feb-01 14:51", "status": "new", "created": "2009-Jun-22 17:18", "fixed_version": "2009-Jun-22 17:18", "broken_version": "", "priority": "3", "subsystem": "Daemons", "assigned_to": "", "derived_from": "#573", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2580, "title": "Ticket #2580: Improve error message when master refuses to start executable", "description": "<blockquote>\nIf a master is unable to start an executable, you get this very unhelpful error message:\n\n<p>/usr/sbin/condor_startd: Cannot execute\n\n</p><p>This appears to be coming from the fact that the master calls access() on the executable.  We should at least record the errno.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Oct-25 09:48:16 by bbockelm:</em> <br/>\n\nOne liner:\n\n<p>diff --git a/src/condor_master.V6/masterDaemon.cpp b/src/condor_master.V6/masterDaemon.cpp\nindex 86e96d6..3e5ee02 100644\n--- a/src/condor_master.V6/masterDaemon.cpp\n+++ b/src/condor_master.V6/masterDaemon.cpp\n@@ -575,7 +575,7 @@ int daemon::RealStart( )\n        shortname = condor_basename( process_name );\n\n</p><p></p><pre>        if( access(process_name,X_OK) != 0 ) {\n-               dprintf(D_ALWAYS, \"%s: Cannot execute\\n\", process_name );\n+               dprintf(D_ALWAYS, \"%s: Cannot execute (errno=%d, %s)\\n\", process_name, errno, strerror(errno) );\n                pid = 0;\n                // Schedule to try and restart it a little later\n                Restart();</pre>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-25 13:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/957c91b2e6ef748a94f1ed3762c4a0796af7d872\">[27980]</a></span>: Improve error message when master refuses to start executable <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2580\" onclick=\"get_ticket_and_populate_wrapper('2580'); return false;\" title=\"Improve error message when master refuses to start executable\">#2580</a></span> Committer: Dan Bradley  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Oct-25 13:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3e7be772b278cf69ab2df87e77f17ef0e2fea891\">[27981]</a></span>: Documented improved error message when master refuses to start executable ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2580\" onclick=\"get_ticket_and_populate_wrapper('2580'); return false;\" title=\"Improve error message when master refuses to start executable\">#2580</a></span> ===VersionHistory:Complete=== Committer: Dan Bradley  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Nov-22 10:56", "status": "resolved", "created": "2011-Oct-25 09:46", "fixed_version": "2011-Oct-25 09:46", "broken_version": "v070703", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "", "creator": "bbockelm", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
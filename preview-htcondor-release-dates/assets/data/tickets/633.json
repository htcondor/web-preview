{"id": 633, "title": "Ticket #633: job_filexfer_output-withvacate_van intermittent failure", "description": "<blockquote>\nThis test failed:\n<a class=\"external\" href=\"http://nmi-s006.cs.wisc.edu/results/Run-condor-taskdetails.php?platform=nmi:x86_64_fc_8&amp;task=job_filexfer_output-withvacate_van-1&amp;runid=166412\">job_filexfer_output-withvacate_van</a>\n\n<p>The odd thing is that the output of the CT: section of the test matches the .cmd file checked into the repository, but when I went and looked at the .cmd file in the instance run of the test suite from the results.tar.gz, it was different, and very wrong. Apparently there might be some template magic going on.\n\n</p><p>It looks like somehow job_filexfer_output-withvacate_van.cmd got trashed before the job submit, but after it was emitted into a log file.\n\n</p><p>The results.tar.gz is available at /afs/cs.wisc.edu/u/p/s/psilord/public/results.tar.gz</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Jul-18 10:58:05 by gthain:</em> <br/>\n\nThis test starts a job with file xfer, waits for the execute event in the user log, then sends a condor_vacate.  It then waits for the evict event.  After the evict event, it sleeps, then checks to see if the xfer'd files are in the spool area.\n\n<p>When the test fails, the job starts up running again between the successful vacate and the check for the spooled files.\n\n</p><p>I'll fix this by putting a requirement in the job that it only start once.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Jul-18 16:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b91a040c500c808ae3110805af870fb020b5588a\">[15140]</a></span>: Insure that the test job doesn't restart after vacate <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=633\" onclick=\"get_ticket_and_populate_wrapper('633'); return false;\" title=\"job_filexfer_output-withvacate_van intermittent failure\">#633</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2009-Dec-26 20:26", "status": "resolved", "created": "2009-Jul-17 12:00", "fixed_version": "2009-Jul-17 12:00", "broken_version": "v070300", "priority": "1", "subsystem": "Tests", "assigned_to": "bt", "derived_from": "", "creator": "psilord", "rust": "", "customer_group": "other", "visibility": "public", "notify": "psilord@cs.wisc.edu", "due_date": ""}
{"id": 5041, "title": "Ticket #5041: Blahp should check for empty job id from qsub", "description": "<blockquote>\nWe've observed cases where PBS/Torque's qsub command returns 0 but doesn't provide a job id. Currently, the blahp treats this as a successful job submission. It should treat it as a failed submission attempt.\n\n<p>We can add something like the following to the blahp's pbs_submit.sh:\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">if [ \"X$jobID\" == \"X\" ]; then\n    rm -f $bls_tmp_file\n    echo \"Error: job id missing\" &gt;&amp;2\n    echo Error # for the sake of waiting fgets in blahpd\n    exit 1\nfi\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-13 16:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9897fdb43553bb9994e629344ffaa6621cd3167b\">[44849]</a></span>: minor 8.3.6 version history item <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5041\" onclick=\"get_ticket_and_populate_wrapper('5041'); return false;\" title=\"Blahp should check for empty job id from qsub\">#5041</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-12 13:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2a3fe6d6af7c62879a45e3c8237e54570c5a365d\">[44822]</a></span>: Blahp should check for empty job id from PBS qsub <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5041\" onclick=\"get_ticket_and_populate_wrapper('5041'); return false;\" title=\"Blahp should check for empty job id from qsub\">#5041</a></span> Generate an error if qsub returns success but doesn't print a valid job id. We've observed this happening in the wild.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-12 13:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c2489b8fac08a241330a78b15b6335c319b94026\">[44823]</a></span>: Docs for detecting empty job id from PBS qsub <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5041\" onclick=\"get_ticket_and_populate_wrapper('5041'); return false;\" title=\"Blahp should check for empty job id from qsub\">#5041</a></span>  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-May-12 13:13", "status": "resolved", "created": "2015-May-06 16:19", "fixed_version": "2015-May-06 16:19", "broken_version": "v080200", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#5045", "creator": "jfrey", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "jfrey@cs.wisc.edu,bbockelm@cse.unl.edu", "due_date": ""}
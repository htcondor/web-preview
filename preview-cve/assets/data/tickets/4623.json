{"id": 4623, "title": "Ticket #4623: TotalSlots is not documented", "description": "<blockquote>\nIn GlideinWMS to verify if partitionable slots are used we are using in the startd daemon shutdown expression:\n<div class=\"code\">\n<pre class=\"code\">((PartitionableSlot =!= True) || (TotalSlots =?=1))\n</pre></div>\n\n\n<p>This expression seems to work but <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlots\" title=\"Total Slots\">TotalSlots</a></span> is not documented (at least not in the index).\nIs <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlots\" title=\"Total Slots\">TotalSlots</a></span> a valid attribute?\nIf yes, could you add it to the documentation?\nIf not, could you suggest different expression?\n\n</p><p>Thank you.\nBest regards,\nMarco Mambelli</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Nov-19 15:49:38 by smoler:</em> <br/>\n\nRevised documentation task is to update and add documentation for all aspects of machine <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attributes\n\n<p></p><ul>\n<li>Disk, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalDisk\" title=\"Total Disk\">TotalDisk</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotDisk\" title=\"Total Slot Disk\">TotalSlotDisk</a></span>, where each is given in KiB\n</li><li>Cpus, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalCpus\" title=\"Total Cpus\">TotalCpus</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotCpus\" title=\"Total Slot Cpus\">TotalSlotCpus</a></span>\n</li><li>Memory, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalMemory\" title=\"Total Memory\">TotalMemory</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotMemory\" title=\"Total Slot Memory\">TotalSlotMemory</a></span>, where each is given in MiB\n</li></ul>\n\n<p>Total&lt;Resource&gt; is the amount per machine (not per slot).\n\n</p><p>For static slots, &lt;Resource&gt; and TotalSlot&lt;Resource&gt; will be the same value\n\n</p><p>For partitionable slots, TotalSlot&lt;Resource&gt; is the total amount assigned to the partionable slot.  &lt;Resource&gt; is the quantity remaining in the partitionable slot, given that dynamic slots may have been carved off this partitionable slot.\n\n</p><p>Total&lt;Resource&gt; and TotalSlot&lt;Resource&gt; are going to be the same value if there is 1 slot per machine.  This is the ordinary case for partitionable slots, where we have 1 partitionable slot per machine.\n\n</p><p></p><hr/>\n<em>2014-Nov-19 16:25:57 by smoler:</em> <br/>\n\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlots\" title=\"Total Slots\">TotalSlots</a></span> is the number of total slots on the machine right now.  This will be sum of the number of static slots, the number of partitionable slots, and the number of dynamic slots.\n\n<p>Quick example:  if there are 2 partitionable slots configured for this machine, and 3 jobs have each carved off 1 dynamic slot (1 slot per 1 job), then <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlots\" title=\"Total Slots\">TotalSlots</a></span> is 5. 2 partitionable slots + 3 dynamic slots = 5.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-20 14:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7c44991f38d0e89609613cd6d191c1754fdd7f3e\">[41719]</a></span>: add/improve defns for attributes Memory, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalMemory\" title=\"Total Memory\">TotalMemory</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotMemory\" title=\"Total Slot Memory\">TotalSlotMemory</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4623\" onclick=\"get_ticket_and_populate_wrapper('4623'); return false;\" title=\"TotalSlots is not documented\">#4623</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-20 14:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/77fb399f8282b51f48a9f9c7d5cdda46e174bc2e\">[41718]</a></span>: add/improve defns for attributes Cpus, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalCpus\" title=\"Total Cpus\">TotalCpus</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotCpus\" title=\"Total Slot Cpus\">TotalSlotCpus</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4623\" onclick=\"get_ticket_and_populate_wrapper('4623'); return false;\" title=\"TotalSlots is not documented\">#4623</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-20 13:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/747a54e6b6a5e0e66e234bbfaf0400af23720ac5\">[41717]</a></span>: add/improve defns for attributes Disk, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalDisk\" title=\"Total Disk\">TotalDisk</a></span>, and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlotDisk\" title=\"Total Slot Disk\">TotalSlotDisk</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4623\" onclick=\"get_ticket_and_populate_wrapper('4623'); return false;\" title=\"TotalSlots is not documented\">#4623</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-20 12:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/01e1c8a460c105067e155ee213ef706b9f886d3c\">[41716]</a></span>: add defn of machine attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalSlots\" title=\"Total Slots\">TotalSlots</a></span> to manual <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4623\" onclick=\"get_ticket_and_populate_wrapper('4623'); return false;\" title=\"TotalSlots is not documented\">#4623</a></span>  (By Karen Miller )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2014-Nov-20 14:39", "status": "resolved", "created": "2014-Sep-29 15:49", "fixed_version": "2014-Sep-29 15:49", "broken_version": "v080000", "priority": "3", "subsystem": "", "assigned_to": "smoler", "derived_from": "", "creator": "marco", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "", "due_date": ""}
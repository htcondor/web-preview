<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="/web-preview/preview-universal-articles/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-universal-articles/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-universal-articles/assets/js/bootstrap.js" type="text/javascript"></script>

    

    

        <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-universal-articles/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-universal-articles/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-universal-articles/assets/images/HTCondor_red_blk.svg" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/past_condor_weeks.html">Content Archives</a></li>
        
            <li><a class="dropdown-item" href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-universal-articles/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-universal-articles/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-universal-articles/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-universal-articles/assets/images/HTCondor_red_blk.svg"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                





                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-universal-articles/news/Software_Integration_Developer/">New Full-Time Position: Software Integration Developer</a></h3>
                            <div>
                                <span class="text-muted">January 28, 2022</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-universal-articles/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-universal-articles/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                






                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/past_condor_weeks.html">Content Archives</a></td></tr>
                
                    <tr><td><a href="https://youtube.com/playlist?list=PLO7gMRGDPNulf_yK_9Ue6yARxJh0gQXQI">Youtube Playlist  &#11023;</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-universal-articles/featured-users.html"><b>Featured Users</b></a>
                    
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-universal-articles/featured-users/2021-12-16-precision-mental-health.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Harnessing HTC-enabled precision mental health to capture the complexity of smoking cessation
            </h6>
            <div>
                <span class="text-muted text-decoration-none">December 16, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-universal-articles/featured-users/2021-11-09-usgs-invasivespecies.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Protecting ecosystems with HTC
            </h6>
            <div>
                <span class="text-muted text-decoration-none">November  9, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-universal-articles/featured-users/2021-10-26-bat-genomics.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                80,000 jobs, 40 billion base pairs, and 20 bats –– all in 4 weeks
            </h6>
            <div>
                <span class="text-muted text-decoration-none">October 26, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-universal-articles/featured-users/2021-10-26-Banq.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Centuries of newspapers are now easily searchable thanks to HTCSS
            </h6>
            <div>
                <span class="text-muted text-decoration-none">October 26, 2021</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-4 my-2">
                    <div class="card h-100">
                        <img src="https://raw.githubusercontent.com/CHTC/Articles/main/images/banq-mw.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-universal-articles/featured-users/2021-10-26-Banq.html">Centuries of newspapers are now easily searchable thanks to HTCSS</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-universal-articles/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-universal-articles/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-universal-articles/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-universal-articles/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="container-xxl py-4">
    <h1>Job Class Ad Flow</h1>
<div id="content">
 <span class="section">
  <h2>
   Job ClassAd Information Flow in HTCondor
  </h2>
 </span>
 <p>
  This is a description of how job
  <span class="quote">
   ClassAds
  </span>
  are exchanged and updated in HTCondor, as of 7.5.6 in the "new" shadow/starter (i.e. everything but standard and grid universes).
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  schedd --&gt; negotiator
 </h3>
 <p>
  During the negotiation cycle, the schedd sends job ads to the negotiator for matchmaking.  $$ references are not expanded (because there is no target ad yet).  The negotiator does not cache this information.  Each job ad is used immediately and then thrown away after attempting to match it.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  schedd --&gt; shadow
 </h3>
 <p>
  The schedd sends the job
  <span class="quote">
   ClassAd
  </span>
  to the shadow when the shadow starts up.
 </p>
 <p>
  The copy of the job ad given to the shadow contains all of the $$ references expanded.
 </p>
 <p>
  While the shadow exists, it, rather than the schedd, is responsible for evaluating job policy expressions.
 </p>
 <p>
  When condor_qedit modifies the job ad, the schedd updates the shadow's copy of the job ad.  (New in 7.5.6.)
 </p>
 <p>
  Whenever the shadow sends an update of the ad to the schedd, it reads the schedd's value for
  <code>
   TimerRemove
  </code>
  and updates its own copy of the ad to match it.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  shadow --&gt; startd
 </h3>
 <p>
  The shadow sends a copy of the job ad to the startd at claim activation time.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  shadow --&gt; starter
 </h3>
 <p>
  The shadow sends a copy of the job ad to the starter before startup of the job.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  starter --&gt; shadow
 </h3>
 <p>
  The starter periodically monitors resource usage by the job and sends updates of these attributes to the shadow.  The frequency is controlled by STARTER_UPDATE_INTERVAL (5 minutes) and STARTER_INITIAL_UPDATE_INTERVAL (8s).
 </p>
 <p>
  On suspension or unsuspension, an update is sent immediately.
 </p>
 <p>
  The starter does a final update when the job completes.
 </p>
 <p>
  If any update fails, the starter disconnects from the shadow and retries on reconnect or gives up when killed by the startd due to the claim lease expiring or getting preempted.
 </p>
 <p>
  The attributes which are updated are:
  <code>
   RemoteSysCpu
  </code>
  ,
  <code>
   RemoteUserCpu
  </code>
  ,
  <code>
   ImageSize
  </code>
  ,
  <code>
   DiskUsage
  </code>
  ,
  <code>
   ExceptionHierarchy
  </code>
  ,
  <code>
   ExceptionName
  </code>
  ,
  <code>
   ExceptionType
  </code>
  ,
  <code>
   ExitBySignal
  </code>
  ,
  <code>
   ExitSignal
  </code>
  ,
  <code>
   ExitCode
  </code>
  ,
  <code>
   ExitReason
  </code>
  ,
  <code>
   JobCoreDumped
  </code>
  , and
  <code>
   JobState
  </code>
  .  (The "Exception" stuff is actually for java universe.)
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  starter --&gt; startd
 </h3>
 <p>
  The starter sends periodic updates to the startd so that the startd can use updated attributes when evaluating its policy.  Failed updates are simply dropped.  The update interval is controlled by the same knobs that control updates from starter to shadow.
 </p>
 <p>
  There is a final update from the starter to the startd when the job is done.  If this fails, it is simply dropped.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  shadow --&gt; schedd
 </h3>
 <p>
  The shadow periodically sends updates to the schedd.  The interval is controlled by the configuration variable SHADOW_QUEUE_UPDATE_INTERVAL (default 15 minutes).  If an update fails, it is simply dropped.
 </p>
 <p>
  The shadow may optionally push some attribute changes immediately instead of waiting for a periodic update.  These attributes are
  <span class="quote">
   NumJobStarts
  </span>
  and
  <span class="quote">
   NumJobReconnects
  </span>
  .  SHADOW_LAZY_QUEUE_UPDATE=True disables this behavior by default.
 </p>
 <p>
  When the job is finished, the shadow does a final update to the schedd.  If this update fails, the shadow will wait and retry.  This behavior is controlled by SHADOW_JOB_CLEANUP_RETRY_DELAY (30s) and SHADOW_MAX_JOB_CLEANUP_RETRIES (5).  In case of failure even after all retries have been attempted, the shadow exits with a failure code that causes the job to be requeued and (usually) run again.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  schedd --&gt; history
 </h3>
 <p>
  The schedd dumps the job ad into the (optional) history file when the job leaves the queue.  If this fails, it is simply dropped.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  startd --&gt; history
 </h3>
 <p>
  When a claim is deactivated (i.e. starter exits), the startd writes its copy of the job ad into the startd's (optional) history file.  If this fails, it is simply dropped.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  qedit --&gt; schedd
 </h3>
 <p>
  Updates to the job by condor_qedit (or remote HTCondor-C) are made to the schedd's copy of the job.  The schedd then signals the shadow and gridmanager to pull the updated attributes into their own copies of the ad.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  schedd -&gt; condor_q
 </h3>
 <p>
  condor_q sees the copy of the job ad in the schedd (or quill).  $$ references are not expanded, but extra attributes exist in the ad to indicate what the result of expansion would be (used for reconnect if the schedd restarts while the job is running).
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  schedd -&gt; job_router
 </h3>
 <p>
  job_router follows the schedd's transaction log (job_queue.log) and builds its own in-memory copy of the job queue, using the quill libraries.
 </p>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-4 d-none d-lg-flex">
                <img class="my-auto" height="65" alt="Condor High Throughput Computing" src="/web-preview/preview-universal-articles/assets/images/HTCondor_red_blk.svg" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-universal-articles/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-universal-articles/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-universal-articles/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="px-3 d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-universal-articles/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-universal-articles/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-universal-articles/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

{"id": 3562, "title": "Ticket #3562: Problems building HTCondor on Ubuntu 12", "description": "<blockquote>\nHTCondor has not been building on Ubuntu 12 in the Batlab.  It is now being built successfully, although the changes feel like a hack and it is not clear that my solution is any good.  This ticket is being made to track changes made that explicitly support building HTCondor on Ubuntu 12.</blockquote>", "remarks": "<blockquote>\n<em>2013-Apr-03 09:44:31 by nwp:</em> <br/>\n\nFirst problem is that the linker on Ubuntu 12 uses the <code>--as-needed</code> flag by default.  Inserting <code>--no-as-needed</code> allowed the create_unstripped step to complete.\n\n<p></p><hr/>\n<em>2013-Apr-03 09:45:57 by nwp:</em> <br/>\n\nSecond problem is that the package step is calling <code>fakeroot make</code>, but then the make was calling <code>fakeroot ...</code> and nested execution of fakeroot is not allowed there.  This allowed the create_native step to finish.\n\n<p></p><hr/>\n<em>2013-Apr-03 11:26:23 by nwp:</em> <br/>\n\nPushed to master.  <a class=\"external\" href=\"http://submit-2.batlab.org/results/run-details.php?runid=113978\">NMI Run 113978</a> looks green.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2013-Apr-03 11:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0fd9b27f5d5ad48021b4801c34f2a8505d61c1ab\">[35321]</a></span>: Get HTCondor to build on Ubuntu 12 in batlab <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3562\" onclick=\"get_ticket_and_populate_wrapper('3562'); return false;\" title=\"Problems building HTCondor on Ubuntu 12\">#3562</a></span> Do --no-as-needed flag in link line, as Ubuntu 12 uses --as-needed by default; this causes create_unstripped to fail. Don't run \"fakeroot make\"  (By Nathan W. Panike )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Aug-04 15:03", "status": "resolved", "created": "2013-Apr-03 09:42", "fixed_version": "2013-Apr-03 09:42", "broken_version": "v070906", "priority": "3", "subsystem": "Packaging", "assigned_to": "nwp", "derived_from": "", "creator": "nwp", "rust": "", "customer_group": "other", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
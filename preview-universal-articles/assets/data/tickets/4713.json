{"id": 4713, "title": "Ticket #4713: Permit IPv6 & mixed-mode testing (Windows).", "description": "<blockquote>\n<code>condor_scripts/CondorPersonal.pm</code>, used by the test glue, currently unconditionally sets CONDOR_HOST (to $(FULL_HOSTNAME)) and COLLECTOR_HOST (to $(CONDOR_HOST):0).  Either of these effectively prevents us from doing IPv6 testing (we need to set CONDOR_HOST to ::1, and COLLECTOR_HOST to [::1]:0).\n\n<p>Removing these, however, breaks the Windows tests (because we can't run condor_install on Windows).</p></blockquote>", "remarks": "<blockquote>\n<em>2014-Dec-10 17:34:09 by tlmiller:</em> <br/>\n\nI think this is done, but it should be rechecked.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5109\" onclick=\"get_ticket_and_populate_wrapper('5109'); return false;\" title=\"Update a sock.bind call\">#5109</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nUpdate a sock.bind call</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-30 11:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b8aa3b6a16f909eeaa8f11a7f6d5e54a5a181e34\">[42480]</a></span>: minor 8.3.3 version history item edit <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-29 10:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0befd0afbf408303d0f0b98b7c4b2742db9c4955\">[42462]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>) Version history item.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Jan-06 13:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c62ff24f772938e47ded3de51f06eeee5cbf4ffa\">[42120]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>) Actually /use/ the colon-converted name.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-18 10:07</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d3403309f053f8d9ca51cf6338306142a1a88402\">[41662]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>) Don't try to the reconnect info to an invalid filename.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-13 17:04</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/338b7bebe5ba7ce7adf6e0840e302d7f03925a94\">[41652]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>) Don't return random garbage off the stack from condor_getsockname() and condor_getpeername().  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-13 15:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dd78fd7d8698819116b93a8e8dde3e64c5fdaf4d\">[41649]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span>) Remove some stray files from the last commit.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-13 14:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e1c39dccb64c3d455d1394a45bd2280ea0d247b3\">[41647]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>; also resolves <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span>) Remove or rewrite deprecated Sock::assign() and Sock::bind() calls, since they were causing us grief.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-12 13:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a452f982227e6ea75e89a1d254c470768d49e281\">[41640]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>) Move CONDOR_HOST and COLLECTOR_HOST definitions from CondorPersonal.pm to remote_pre (only needed for Windows).  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2015-Jan-06 14:21", "status": "resolved", "created": "2014-Nov-12 13:41", "fixed_version": "2014-Nov-12 13:41", "broken_version": "", "priority": "1", "subsystem": "Libs", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, adesmet@cs.wisc.edu", "due_date": ""}
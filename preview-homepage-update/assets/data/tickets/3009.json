{"id": 3009, "title": "Ticket #3009: schedd excepts with No local universe jobs were expected to be running", "description": "<blockquote>\nLIGO reports schedd excepts with\n\n<p></p><div class=\"code\">\n<pre class=\"code\">No local universe jobs were expected to be running, but one just exited!\n</pre></div>\n\n\n<p>Inspection of the code shows a race condition -- we update the count of local universe jobs running in ::count_jobs, which is called asynchronously.  If a local universe job starts and stops at the wrong time, the total count will be off.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-13 09:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b2dbbecdb03f235ce2f3b64e3a00822c0c03f90f\">[32299]</a></span>: Improve 7.8.1 version history item ===GT=== <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3009\" onclick=\"get_ticket_and_populate_wrapper('3009'); return false;\" title=\"schedd excepts with No local universe jobs were expected to be running\">#3009</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-12 17:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9da3ff2343bb85f893edbda1f6d7fd830ec59431\">[32289]</a></span>: version history for <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3009\" onclick=\"get_ticket_and_populate_wrapper('3009'); return false;\" title=\"schedd excepts with No local universe jobs were expected to be running\">#3009</a></span> - occasional schedd crash with local universe jobs.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-May-25 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9f6bcf518d64d8ab25b3d840dc838b6f221a05aa\">[32122]</a></span>: Fix EXCEPT in schedd with local universe jobs under high load <span class=\"ticket\"><a class=\"defer\" href=\"/wiki-archive/tickets/?ticket=3009\" onclick=\"get_ticket_and_populate_wrapper('3009'); return false;\" title=\"schedd excepts with No local universe jobs were expected to be running\">#3009</a></span>  (By Greg Thain )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-May-25 12:14", "status": "defer", "created": "2012-May-25 11:26", "fixed_version": "2012-May-25 11:26", "broken_version": "v070800", "priority": "5", "subsystem": "Daemons", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "a23527", "customer_group": "ligo", "visibility": "public", "notify": "pcouvare@caltech.edu", "due_date": "20120530"}
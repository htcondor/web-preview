{"id": 6598, "title": "Ticket #6598: CUMULATIVE_SLOT_TIME sometimes not updated", "description": "<blockquote>\nCMS reports that rarely, but consistently, the <code>CumulativeWallClockTime</code> for a job that has been preempted and restarted more than once is clearly missing wall clock for a run.  The <code>CumulativeCpu</code> time appears correct, but the <code>CumulativeWallClock</code> is missing an entire run's worth of updates.\n\n<p>This is happening perhaps one job per hour, across all the thousands CMS runs.\n\n</p><p>The Schedd updates cpu times on every update, but the Wall time only on shadow exit.\n\n</p><p>We cannot reproduce this at UW, and a quick code inspection has not turned up anything.\n\n</p><p>We have asked CMS to send us the Shadow Log file for a job where this has happened.  As the CMS submit machines currently have the shadow log files rotate almost every minute, and the problem only happens about once per hour, they will need to increase the log file lengths and then get back to us.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2018-Mar-07 17:20", "status": "pending", "created": "2018-Mar-07 14:26", "fixed_version": "2018-Mar-07 14:26", "broken_version": "v080700", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "gthain", "derived_from": "", "creator": "gthain", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "tannenba@cs.wisc.edu", "due_date": ""}
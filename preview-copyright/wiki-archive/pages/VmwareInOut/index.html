<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-copyright/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-copyright/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-copyright/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-copyright/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-copyright/assets/images/favicons/safari-pinned-tab.svg" color="#d31145">
    <link rel="shortcut icon" href="/web-preview/preview-copyright/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-copyright/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <script src="/web-preview/preview-copyright/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-copyright/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-copyright/assets/js/bootstrap.js" type="text/javascript"></script>

    

    

        <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-copyright/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-copyright/assets/css/cvstrac.10.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-copyright/assets/css/cvstrac.tj.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-copyright/assets/css/diff2html.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-copyright/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-copyright/assets/images/HTCondor_red_blk_classic.png" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1733/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/past_condor_weeks.html">Workshop Archives</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-copyright/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-copyright/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-copyright/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-copyright/assets/images/HTCondor_red_blk_classic.png"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                









                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-copyright/featured-users/2022-07-06-Fulvio.html">Using high throughput computing to investigate the role of neural oscillations in visual working memory</a></h3>
                            <div>
                                <span class="text-muted">July  6, 2022</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-copyright/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-copyright/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                






                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/1733/">Most Recent</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/past_condor_weeks.html">Workshop Archives</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-copyright/featured-users.html"><b>Featured Users</b></a>
                    
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-copyright/featured-users/2022-07-06-Opotowsky.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Expediting Nuclear Forensics and Security Using High Through Computing
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-copyright/featured-users/2022-07-06-Hiemstra.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Testing GPU/ML Framework Compatibility
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-copyright/featured-users/2022-07-06-Garcia.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Using HTC and HPC Applications to Track the Dispersal of Spruce Budworm Moths
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-copyright/featured-users/2022-07-06-Fulvio.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Using high throughput computing to investigate the role of neural oscillations in visual working memory
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-4 my-2">
                    <div class="card h-100">
                        <img src="https://raw.githubusercontent.com/CHTC/Articles/main/images/Spectrometer.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-copyright/featured-users/2022-04-25-Natzke.html">Learning and adapting with OSG: Investigating the strong nuclear force</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-copyright/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-copyright/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-copyright/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-copyright/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="bg-light mb-4">
    <hr class="m-0">
    <div class="container-xxl py-2">
        <span class="fs-3">Vmware In Out</span>
    </div>
    <hr class="m-0">
</div>
<div class="container-xxl pb-4">
    <div id="content">
 <strong class="two">
  How to make VMware jobs run
 </strong>
 <p>
 </p>
 <ol>
  <li>
   Have a script in the correct run level linked to one in /etc/init.d
   which will do your job if it is present but allow the machine to come up
   for adjustments if not. (sample scripts below)
   <p>
   </p>
  </li>
  <li>
   Have a second disk configured in your VM which is used to place input data
   and extract output data
   <p>
   </p>
  </li>
  <li>
   Have patience as the job happens in a black box.
  </li>
 </ol>
 <p>
  In order for this all to work you must have a VM which is rich enough
to have "mkfs" which has the "-t vfat" option to make a windows vat32 partition.
 </p>
 <p>
  Given that you have such a second disk created. The trick now is to use
a combination of gemu-img and mtools to build a disk you can mount from
within the VM and based on it's contents, run the job or simply bring up
the VM for inspection.
 </p>
 <p>
  Qemu-img can be downloaded from "
  <a class="external" href="http://www.qemu.org/download.html">
   http://www.qemu.org/download.html
  </a>
  ".
 </p>
 <p>
  Mtools can be downloaded from "
  <a class="external" href="http://www.gnu.org/software/mtools/download.html">
   http://www.gnu.org/software/mtools/download.html
  </a>
  ".
 </p>
 <p>
  Once you have a
  <span class="wiki">
   <a class="missing" href="/web-preview/preview-copyright/wiki-archive/pages/VmWare/index.html" title="Vm Ware">
    VmWare
   </a>
  </span>
  raw disk you can use mtools on it to add things to the disk or pull things from it. However note that every use of the disk makes it larger so you should retain a pristine copy of the original empty disk.
 </p>
 <p>
  Mtools requires an rc file to define drives. A sample is here:
 </p>
 <p>
  drive n: file="/home/bt/SOAR/sources/sscc_cbf/v1/code/DSLstata-0.raw" offset=32256 mtools_skip_check=1
 </p>
 <p>
  One places such information into a file which you point to
with the environment variable "MTOOLSRC".
 </p>
 <p>
  When HTCondor completes a
  <span class="wiki">
   <a class="missing" href="/web-preview/preview-copyright/wiki-archive/pages/VmWare/index.html" title="Vm Ware">
    VmWare
   </a>
  </span>
  job its returns all the files
of the VM to the run directory allowing one to restart the VM and
look inside.
  <strong>
   However if you use the procedures here, you will want to copy in an
empty second disk or it will startup and run the job again
or error as it did the last time depending where you
are in creating your job within the VM.
  </strong>
 </p>
 <p>
  A simple submit file for HTCondor which has the
  <span class="wiki">
   <a class="missing" href="/web-preview/preview-copyright/wiki-archive/pages/VmWare/index.html" title="Vm Ware">
    VmWare
   </a>
  </span>
  files
in a directory called vmware_dir looks like this and note that the
executable is simply the name of the job that condor_q uses to
display it in the queue:
 </p>
 <p>
 </p>
 <pre>  universe = vm
  vm_type = vmware
  vmware_dir = vmware_dir
  executable = sscc_cbf_vm
  log = sscc_cbf_vm.log
  vmware_should_transfer_files = YES
  vmware_snapshot_disk = false
  vm_memory = 1000
  notification = never
  queue
</pre>
 <p>
  Below are some Perl functions to use the above tools:
 </p>
 <p>
 </p>
 <pre>  #####################################################
  #
  #   VM Universe code for VmWare
  #
  #   Initializing the VM for a job and accessing the
  #   results are done by including a suitable second
  #   VmWare disk. This disk is created for dynamic
  #   allocation and created in a VM which can use fdisk
  #   to create a fat32 partition and must have an
  #   mkfs which allows a "-t vfat" to complete creation
  #   of the disk.
  #
  #   Once one has this disk it can be used as a template
  #   second drive for any VmWare VM. Note keep the core
  #   empty disk and copy it when needed as it gets
  #   larger with every use.
  #
  #   We rely on "mtools" and "qemu" for the rest.
  #   "qemu-img" is used to convert the disk back and forth
  #   between vmdk and raw formats. "mcopy, mdir etc"
  #   are used to place and fetch files off the raw
  #   disk.
  #
  #####################################################
</pre>
 <p>
 </p>
 <pre>  sub VMwareAddFile
  {
      my $file = shift;
      runcmd("mcopy $file n:");
      runcmd("mdir n:");
  }
</pre>
 <p>
 </p>
 <pre>  sub VMwareFetchByPattern
  {
      my $pattern = shift;
      runcmd("mcopy n:\*$pattern* .");
      runcmd("mdir n:");
  }
</pre>
 <p>
 </p>
 <pre>  sub VMwareRemakeDataDisk
  {
      my $data = shift;
      my $raw = shift;
</pre>
 <p>
 </p>
 <pre>      my $cmd = "qemu-img convert -f raw $raw -O vmdk $data";
      runcmd($cmd);
  }
</pre>
 <p>
 </p>
 <pre>  sub VMwareCreateRawDisk
  {
      my $empty = shift;
      my $raw = shift;
</pre>
 <p>
 </p>
 <pre>      my $cmd = "qemu-img convert -f vmdk $empty -O raw $raw";
      runcmd($cmd);
  }
</pre>
 <p>
 </p>
 <pre>  sub VMwareCreateMTOOLSRC
  {
      my $rawdisk = shift;
      my $top = getcwd();
      my $baseentry = "drive n: file=\"$top/$rawdisk\" offset=32256 mtools_skip_check=1";
      print "Making MTOOLSRC here&lt;$top&gt;\n";
      open(MTRC,"&gt;$top/mtoolsrc") or die "Can not open mtoolsrc in &lt;$top&gt;:$!\n";
      print MTRC "$baseentry\n";
      close(MTRC);
      $ENV{MTOOLSRC} = "$top/mtoolsrc";
      runcmd("mdir n:");
  }
</pre>
 <p>
  Below is a suitable script for mounting a second disk at the right
run level and deciding if a job should be run or the VM simply brought up for
changes or inspection.
 </p>
 <p>
 </p>
 <pre>  #!/bin/sh
</pre>
 <p>
 </p>
 <pre>  PATH=/bin:/usr/bin:/sbin:/usr/sbin:/usr/local/stata
</pre>
 <p>
 </p>
 <pre>  case "$1" in
    start)
          echo "Testing VM Job Status"
          mount /dev/hdb1 /vmjob
          ls /vmjob
          if test -f "/vmjob/statajob"
          then
                  /vmjob/runstatajob.pl /vmjob statajob
                  shutdown -h now
          else
                  echo "Bring up for non-vm work"
                  sleep 20
          fi
          echo "."
          ;;
  esac
</pre>
 <p>
 </p>
 <pre>  exit 0
</pre>
 <p>
  Here is a perl script which mounts the second disk and looks
for a file holding a list of Stata jobs to run.
 </p>
 <p>
 </p>
 <pre>  #!/usr/bin/env perl
</pre>
 <p>
 </p>
 <pre>  my $dir = $ARGV[0];
  my $file = $ARGV[1];
</pre>
 <p>
 </p>
 <pre>  chdir("/vmjob");
  my $dbinstalllog =  "stataVM.LOG";
  print "Trying to open logfile... $dbinstalllog\n";
  open(OLDOUT, "&gt;&amp;STDOUT");
  open(OLDERR, "&gt;&amp;STDERR");
  open(STDOUT, "&gt;&gt;$dbinstalllog") or die "Could not open $dbinstalllog: $!";
  open(STDERR, "&gt;&amp;STDOUT");
  select(STDERR);
   $| = 1;
  select(STDOUT);
   $| = 1;
</pre>
 <p>
 </p>
 <pre>  print "runstatajob.pl called with dir&lt;$dir&gt; file&lt;$file&gt;\n";
</pre>
 <p>
 </p>
 <pre>  system("mkdir /tmp/vmjob");
  system("cp * /tmp/vmjob");
  #chdir($dir);
  chdir("/tmp/vmjob");
</pre>
 <p>
 </p>
 <pre>  print "Lets look at disk availability\n";
  system("pwd");
  system("df -h");
  system("ls -l");
  system("which stata-se");
  print "Do the following job:\n";
  print "*****************************\n\n";
  system("cat $file");
  print "*****************************\n\n";
</pre>
 <p>
 </p>
 <pre>  # ado directory has to go in a stata "sysdir"
  # one such location is /usr/local/stata
</pre>
 <p>
 </p>
 <pre>  # extract out ado.tar.gz
  system("tar -zxvf ado.tar.gz");
  system("chmod -R 777 ado");
  system("cd ado");
  system("mkdir /usr/local/ado");
  # place in one of many sysdir directories
  # visible by typing "sysdir" at the stata prompt
  system("cp -r plus/* /usr/local/ado");
  system("cp -r personal/* /usr/local/ado");
  system("cd /tmp/vmjob");
</pre>
 <p>
 </p>
 <pre>  open(JOB,"&lt;$file") or die "Can not open &lt;$file&gt;:$!\n";
  my $line = "";
  while(&lt;JOB&gt;) {
          chomp();
          $line = $_;
          print "Running stata on $line\n";
          system("stata-se -b $line");
          print "done\n";
          system("ls");
  }
  close(JOB);
  print "Copy results back to /vmjob\n";
  system("cp *.log /vmjob");</pre>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-5 d-none d-lg-flex">
                <img class="my-auto" height="120" alt="Condor High Throughput Computing" src="/web-preview/preview-copyright/assets/images/CondorAlpha.png" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-copyright/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-copyright/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-copyright/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-copyright/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-copyright/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-copyright/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-copyright/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="px-3 d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-copyright/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-copyright/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-copyright/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

{"id": 5489, "title": "Ticket #5489: Linux kernel tuning script doesn't tell anyone (else) what it's doing.", "description": "<blockquote>\nThe Linux kernel tuning script logs its actions, but not to anywhere a sysadmin would normally think of looking.  We should fix that.\n\n<p>We have two proposals, both of which sound reasonable:\n\n</p><p></p><ol>\n<li>The first is to duplicate the existing logging messages using 'logger -t htcondor' to cause them to appear in Syslog\n</li><li>The second is write a commented-out file in subdirectory /etc/sysctl.d (but only if that directory already exists) that includes much the same information and maybe a little blurb about the script and where to find it (and the HTCondor config knobs).</li></ol>\n</blockquote>", "remarks": "<blockquote>\n<em>2016-Jan-16 14:09:23 by bbockelm:</em> <br/>\n\nWhat about utilizing real, uncommented settings in /etc/sysctl.d on platforms with support (all Linux distros supported but RHEL6)?\n\n<p>If some settings still can't use sysctl.d (for example, if a value must be computed), then we can do both options (1) and (2).\n\n</p><p></p><hr/>\n<em>2016-Mar-22 10:46:29 by tannenba:</em> <br/>\n\nIf we feel confident about this change, should this be backported to v8.4.x?</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2016-May-24 09:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/806e072839c454735f3024f658e3551076a516a5\">[48407]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5687\" onclick=\"get_ticket_and_populate_wrapper('5687'); return false;\" title=\"Backport selected changes to stable release\">#5687</a></span>) Backport changes for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4711\" onclick=\"get_ticket_and_populate_wrapper('4711'); return false;\" title=\"Delayed bind() result causes slow client tools on Windows\">#4711</a></span>, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5489\" onclick=\"get_ticket_and_populate_wrapper('5489'); return false;\" title=\"Linux kernel tuning script doesn't tell anyone (else) what it's doing.\">#5489</a></span>, and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5527\" onclick=\"get_ticket_and_populate_wrapper('5527'); return false;\" title=\"condor_history truncates job ids\">#5527</a></span>  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-May-23 17:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7a77fdc1d83132d79780a1c21cc16aba13f9e9c9\">[48403]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5489\" onclick=\"get_ticket_and_populate_wrapper('5489'); return false;\" title=\"Linux kernel tuning script doesn't tell anyone (else) what it's doing.\">#5489</a></span>) Log to syslog and /etc/sysctl.d/99-htcondor.conf (if the directory) exists, as well as the kernel tuning script log to make it easier for the sysadmins to figure out why their kernel parameters changed. Committer: Tim Theisen  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Mar-02 15:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/65f34e131517e32b55e2469b5c97386a76774e5c\">[47676]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5489\" onclick=\"get_ticket_and_populate_wrapper('5489'); return false;\" title=\"Linux kernel tuning script doesn't tell anyone (else) what it's doing.\">#5489</a></span>) Version history item.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2016-Jan-19 13:44</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b4c81c049bcfb96f81e4f84cbb5b9e86e999f5b0\">[47481]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=5489\" onclick=\"get_ticket_and_populate_wrapper('5489'); return false;\" title=\"Linux kernel tuning script doesn't tell anyone (else) what it's doing.\">#5489</a></span>) Log to syslog and /etc/sysctl.d/99-htcondor.conf (if the directory) exists, as well as the kernel tuning script log to make it easier for the sysadmins to figure out why their kernel parameters changed.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2016-Mar-22 10:46", "status": "resolved", "created": "2016-Jan-15 14:00", "fixed_version": "2016-Jan-15 14:00", "broken_version": "", "priority": "3", "subsystem": "DaemonMaster", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "users", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
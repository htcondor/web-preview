{"id": 4864, "title": "Ticket #4864: Cleanup internet.h/internet.cpp", "description": "<blockquote>\n<a class=\"file\" href=\"rlog?f=src/condor_utils/internet.cpp\">/src/condor_utils/internet.cpp</a> and internet.h is crusty and needs a spring cleaning.\n\n<p>Delete commented out code.\n\n</p><p></p><ul>\n<li>string_to_sin - Used?!?!\n<ul>\n<li>Delete src/condor_io/condor_ipverify.cpp WANT_STANDALONE_TESTING; it's rotted.\n</li></ul>\n</li><li>sin_to_string (x2)\n<ul>\n<li>What about the FTEST?\n</li></ul>\n</li><li>is_ipaddr\n</li><li>is_ipaddr_no_wildcard\n</li><li>is_ipaddr_wildcard\n</li><li>is_valid_network\n</li><li>string_to_ip\n</li><li>string_to_ipstr\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20d5efdaf0a8d5b034d59b573a524aa9ff05e211\">[43226]</a></span> address_to_sin\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20d5efdaf0a8d5b034d59b573a524aa9ff05e211\">[43226]</a></span> sin_to_ipstring\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20d5efdaf0a8d5b034d59b573a524aa9ff05e211\">[43226]</a></span> Block at end of sock_peer_to_string\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20d5efdaf0a8d5b034d59b573a524aa9ff05e211\">[43226]</a></span> condor_inet_aton\n</li></ul>\n\n<p>Standard universe only: There are better functions for non-standard universe code, so these are now landmines. Move them to a new file (internet_stduniv? internet_obsolete?).\n</p><ul>\n<li>_condor_local_bind\n</li><li>bindWithin\n</li><li>ipport_to_string\n</li><li>getSockAddr\n</li></ul>\n\n<p>Unused, delete:\n</p><ul>\n<li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span> is_priv_net - (Replaced with condor_sockaddr::is_private_network)\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span> is_loopback_net\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span> is_loopback_net_str\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span> in_same_net\n</li><li>DONE <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span> prt_fds\n</li></ul>\n\n<p>Other moves:\n</p><ul>\n<li>split_sin should become static inside of condor_sinful.cpp, the only user.\n</li></ul>\n\n<p>See also <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=4718\" onclick=\"get_ticket_and_populate_wrapper('4718'); return false;\" title=\"Expunge deprecated my_hostname functions (IPv6 cleanup)\">#4718</a></span>: Expunge deprecated my_hostname functions (IPv6 cleanup)</p></blockquote>", "remarks": "<blockquote>\n<em>2018-Jan-17 10:06:06 by jfrey:</em> <br/>\n\nInternal changes, no docs needed.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Dec-21 13:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0640c40dd5fb639f33a771f289eebfee6428e883\">[53057]</a></span>: Finish cleanup of old code in internet.cpp/h. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4864\" onclick=\"get_ticket_and_populate_wrapper('4864'); return false;\" title=\"Cleanup internet.h/internet.cpp\">#4864</a></span> Remove dead code. Move declarations of obsolete functions still needed for standard universe. Update comments to reflect newer interfaces.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-03 16:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a16bbb290724285a0096a4ac42e3085831ad9d95\">[43233]</a></span>: Remove dead tests. part of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4864\" onclick=\"get_ticket_and_populate_wrapper('4864'); return false;\" title=\"Cleanup internet.h/internet.cpp\">#4864</a></span>  (By Alan De Smet )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-03 15:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abdcb8a582d38acaf6b18602e4e63b5e659acd1b\">[43227]</a></span>: Delete unused, obsolete functions. Part of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4864\" onclick=\"get_ticket_and_populate_wrapper('4864'); return false;\" title=\"Cleanup internet.h/internet.cpp\">#4864</a></span>: Cleanup internet.h/internet.cpp  (By Alan De Smet )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-03 15:02</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/20d5efdaf0a8d5b034d59b573a524aa9ff05e211\">[43226]</a></span>: Delete commented out dead code Part of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4864\" onclick=\"get_ticket_and_populate_wrapper('4864'); return false;\" title=\"Cleanup internet.h/internet.cpp\">#4864</a></span>: Cleanup internet.h/internet.cpp  (By Alan De Smet )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-03 14:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/5b87fcb1d72dfd9fa8d4070c2cacabbcbae0758c\">[43225]</a></span>: Fix out of date error message Function in question was changed. Part of <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4864\" onclick=\"get_ticket_and_populate_wrapper('4864'); return false;\" title=\"Cleanup internet.h/internet.cpp\">#4864</a></span> work  (By Alan De Smet )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Jan-17 16:30", "status": "resolved", "created": "2015-Feb-03 14:18", "fixed_version": "2015-Feb-03 14:18", "broken_version": "v000000", "priority": "4", "subsystem": "Libs", "assigned_to": "jfrey", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
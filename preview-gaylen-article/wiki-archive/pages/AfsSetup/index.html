<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-gaylen-article/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-gaylen-article/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-gaylen-article/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-gaylen-article/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-gaylen-article/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/web-preview/preview-gaylen-article/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-gaylen-article/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Primary Meta Tags -->
    <meta name="title" content="HTCondor">
    <meta name="description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://htcondor.org/">
    <meta property="og:title" content="HTCondor">
    <meta property="og:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="og:image" content="https://htcondor.org/assets/images/HTC.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://htcondor.org/">
    <meta property="twitter:title" content="HTCondor">
    <meta property="twitter:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="twitter:image" content="https://htcondor.org/assets/images/HTC.png">

    <title>Afs Setup</title>

    <script src="/web-preview/preview-gaylen-article/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-gaylen-article/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-gaylen-article/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-gaylen-article/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="bg-light">
    <div class="container-xxl px-xxl-0">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-gaylen-article/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-gaylen-article/assets/images/HTCondor_red_blk.svg" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item ">
    
        <a class="nav-link" href="/web-preview/preview-gaylen-article/new.html">News</a>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="https://htcondor.readthedocs.io/en/latest/version-history/index.html">Release Notes&#11023;</a></li>
        
    </ul>
</li>
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="https://htcondor.com/htcondor-ce/v5/releases/#htcondor-ce-5-version-history">Release Notes&#11023;</a></li>
        
    </ul>
</li>
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/downloads/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/license">License</a></li>
        
    </ul>
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor/documentation">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor-ce/documentation">HTCondor-CE</a></li>
        
    </ul>
</li>
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-users">Users&#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-world">World&#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-devel">Developers&#11023;</a></li>
        
    </ul>
</li>
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="mailto:htcondor-admin@cs.wisc.edu">Support Email&#11023;</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/uw-support/">Internal Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/htcondor-support#external-support/">Outside Support</a></li>
        
    </ul>
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-gaylen-article/past_condor_weeks.html">Content Archives</a></li>
        
    </ul>
</li>
            
                

<li class="dropdown">
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
    </ul>
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-gaylen-article/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-gaylen-article/assets/images/CondorTitle.png"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link" href="/web-preview/preview-gaylen-article/new.html">
            News
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>HTCondor</th></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor/overview/">Overview</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor/download/">Download</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor/documentation/">Documentation</a></td></tr>
            
                <tr><td><a href="https://htcondor.readthedocs.io/en/latest/version-history/index.html">Release Notes&#11023;</a></td></tr>
            
        </table>
    </div>

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>HTCondor-CE</th></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-ce/overview/">Overview</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-ce/download/">Download</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-ce/documentation/">Documentation</a></td></tr>
            
                <tr><td><a href="https://htcondor.com/htcondor-ce/v5/releases/#htcondor-ce-5-version-history">Release Notes&#11023;</a></td></tr>
            
        </table>
    </div>

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>General</th></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/manual/">Documentation</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/downloads/">Download</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/security/">Security</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/license">License</a></td></tr>
            
        </table>
    </div>


            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>Documentation</th></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor/documentation">HTCondor</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-ce/documentation">HTCondor-CE</a></td></tr>
            
        </table>
    </div>

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>Email Lists</th></tr>
            
                <tr><td><a href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-users">Users&#11023;</a></td></tr>
            
                <tr><td><a href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-world">World&#11023;</a></td></tr>
            
                <tr><td><a href="https://lists.cs.wisc.edu/mailman/listinfo/htcondor-devel">Developers&#11023;</a></td></tr>
            
        </table>
    </div>

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>Support</th></tr>
            
                <tr><td><a href="mailto:htcondor-admin@cs.wisc.edu">Support Email&#11023;</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/uw-support/">Internal Contract Support</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-support#external-support/">Outside Support</a></td></tr>
            
        </table>
    </div>


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>HTCondor Week</th></tr>
            
                <tr><td><a href="https://agenda.hep.wisc.edu/event/1579/">Most Recent</a></td></tr>
            
                <tr><td><a href="/web-preview/preview-gaylen-article/past_condor_weeks.html">Content Archives</a></td></tr>
            
        </table>
    </div>

    <div class="col-auto mx-4 my-2">
        <table>
            <tr><th>CHTC</th></tr>
            
                <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
            
                <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
            
        </table>
    </div>


            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="container-xxl p-4">
    <h1>Afs Setup</h1>
<div id="content">
 <span class="section">
  <h2>
   Installation
  </h2>
 </span>
 <span class="subsection">
  <h3>
   Ubuntu
  </h3>
 </span>
 Follow the instructions at
 <a class="external" href="http://tig.csail.mit.edu/wiki/TIG/OpenAFSOnUbuntuLinux">
  this location
 </a>
 to install AFS on Ubuntu machines(If installation fails, update all the packages and retry. Sometimes, after a recent kernel upgrade the module compilation may break because the community needs some time to upgrade the AFS modules in Ubuntu's repository. In that case you can try booting up an older kernel and retrying all the steps)
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Centos 6
 </h3>
 Follow the instructions in section "Installing OpenAFS Client" from
 <a class="external" href="http://wiki.openafs.org/InstallingOpenAFSonRHEL/">
  this page
 </a>
 . Before installing AFS we need to make sure that:
 <p>
 </p>
 <ul>
  <li>
   Kerberos is installed, the instructions for installing kerberos are on the same page.
   <p>
   </p>
  </li>
  <li>
   We have added the repository definition for OpenAFS RPM packages for RHEL 6 that are available on the OpenAFS website
  </li>
 </ul>
 <p>
  # rpm -i
  <a class="external" href="http://openafs.org/dl/openafs/${version}/openafs-release-rhel-${version}-1.noarch.rpm">
   http://openafs.org/dl/openafs/${version}/openafs-release-rhel-${version}-1.noarch.rpm
  </a>
 </p>
 <p>
  where &lt;version&gt; is the OpenAFS version you wish to install, e.g. "1.6.10".
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  Centos 7
 </h3>
 RPMs for AFS are not available on Centos 7 and even the OpenAFS repository does not host them. So we need to compile from source rpm packages.
 <p>
  The source rpms for AFS version 1.6.15 can be downloaded from
  <a class="external" href="http://openafs.org/dl/openafs/1.6.15/openafs-1.6.15-1.src.rpm.el5">
   here
  </a>
 </p>
 <p>
  Before going ahead make sure that your system has kernel-headers for compiling kernel modules(if you have already compiled HTCondor on the machine below commands should be enough to install all the dependencies, except 1 perl package which needs to be installed.)
 </p>
 <p>
  yum install -y dkms gcc
 </p>
 <p>
  And finally run the following command as root to generate RPMS for all the kernel and user-space AFS utilities:
 </p>
 <p>
  # rpmbuild --rebuild -bb --define 'build_userspace 1' --define 'build_modules 1' openafs-&lt;version&gt;-1.src.rpm
 </p>
 <p>
  The RPMs will be generated in /root/rpmbuild/RPMS/x86_64 (depending on your arch)
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Configuration
 </h2>
 Most of the configuration is automatic. The AFS default Cell will be automatically configured if the hostname is correct. We only need to change the Kerberos settings in /etc/krb5.conf
 <p>
  To get the Kerberos configuration login to one of the CSL machines and copy the /etc/krb5.conf to the machine you are configuring. AFS service can be started by running the following command (on both Ubuntu and Centos):
 </p>
 <p>
  # sudo service afsd start
 </p>
 <p>
  Once the service starts successfully you should be able to see some directories listed in /afs
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Logging In
 </h2>
 Once the AFS starts you need to login with AFS credentials to get full access to the file system. To do this run the following command on the shell:
 <p>
  # klog.krb5
 </p>
 <p>
  This command will work if your Username for HTCondor Lab machines and CSL lab machines is same, and prompt you for a password, please enter your CS password here(not HTCondor Lab machine login password) on being prompted. If your username is not same, please check the man page of klog.krb5 on how to proceed and update this wiki.
 </p>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-4 d-none d-lg-flex">
                <img class="my-auto" height="65" alt="Condor High Throughput Computing" src="/web-preview/preview-gaylen-article/assets/images/HTCondor_red_blk.svg" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/security/">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/license">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="mailto:htcondor-admin@cs.wisc.edu">Support Email</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/uw-support/">Contract Support</a></td></tr>
                            <tr><td><a href="/web-preview/preview-gaylen-article/htcondor-support#external-support/">Outside Support</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row py-4">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

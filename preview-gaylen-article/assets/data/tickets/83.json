{"id": 83, "title": "Ticket #83: Daemons hang using SSL with encrypted key file", "description": "<blockquote>\nOur SSL authentication method requires that the AUTH_SSL_CLIENT_KEYFILE and AUTH_SSL_SERVER_KEYFILE parameters point to a file containing the private key(s) to use. We currently do not support encrypted private keys, as they would additionally require a passphrase to be specified. However, if a daemon is configured to use a private key that is encrypted, rather than the SSL authentication method failing with a log message to that effect, the daemon hangs. This has been observed for the Collector running on Windows.\n\n<p>As mentioned, specifying an encrypted key is a misconfiguration; but failing in a more user-friendly way in this scenario would be a big improvement.\n\n</p><p>The hang is likely the result of OpenSSL prompting (in some invisible window) for the private key\u2019s passphrase. OpenSSL allows for the specification of a custom passphrase-getting callback; leveraging that may be the easiest way to resolve this issue.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Dec-12 08:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/008135ff603f188d625625756604492c24b77ea6\">[58685]</a></span>: Address review comments from <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=GitHub\" title=\"Git Hub\">GitHub</a></span> <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=83\" onclick=\"get_ticket_and_populate_wrapper('83'); return false;\" title=\"Daemons hang using SSL with encrypted key file\">#83</a></span>.  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-31 13:20", "status": "new", "created": "2009-Jan-23 14:14", "fixed_version": "2009-Jan-23 14:14", "broken_version": "", "priority": "4", "subsystem": "Security", "assigned_to": "", "derived_from": "", "creator": "gquinn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
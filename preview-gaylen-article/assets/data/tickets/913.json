{"id": 913, "title": "Ticket #913: CREAM GAHP commands need overhaul", "description": "<blockquote>\nAfter the CREAM GAHP was written, the CREAM client API changed in ways that should be reflected in the GAHP commands. One such change is in CREAM_PROXY_RENEW. With the new API, the CREAM server URL and job ids are no longer required as arguments to CREAM_PROXY_RENEW, and are ignored by the GAHP. Those arguments should be removed.\n\n<p>We should also look at the other CREAM GAHP commands and see if changes are called for.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Nov-12 15:33:18 by jfrey:</em> <br/>\n\nThe cream api allows the client to supply a list of jobs to the start command, but the gahp interface only allows only one job id to be supplied.\n\n<p></p><hr/>\n<em>2009-Nov-19 16:34:07 by jfrey:</em> <br/>\n\nThe Cream Register command returns the URLs for the job's input and output sandboxes, suitable for client-initiated file staging. The cream gahp includes the input URL in its reply, but not the output URL. It should include both.\n\n<p></p><hr/>\n<em>2009-Nov-19 17:25:39 by jfrey:</em> <br/>\n\nAll of these changes are going onto V7_5-cream_hardening-branch.\n\n<p></p><hr/>\n<em>2009-Nov-23 15:32:19 by jfrey:</em> <br/>\n\nThe Cream Register command no longer requires the URL of the delegation service as a parameter.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-24 13:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3f0e2a62a11e2cf06bbdeba46ac01f130fd98c54\">[16454]</a></span>: Remove delegation url from CREAM_JOB_REGISTER gahp command. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=913\" onclick=\"get_ticket_and_populate_wrapper('913'); return false;\" title=\"CREAM GAHP commands need overhaul\">#913</a></span> The URL of the delegation service was required for a job submission in the old cream api, but is no longer needed.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-19 17:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d1ad3d5595dafeba50d9ce01e352e05b62e028ba\">[16394]</a></span>: Add output URL to results of cream register gahp command. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=913\" onclick=\"get_ticket_and_populate_wrapper('913'); return false;\" title=\"CREAM GAHP commands need overhaul\">#913</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 14:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a8ce6fcdc71cc44e8b9609be62b70572445e1b04\">[16360]</a></span>: CREAM_JOB_START gahp command can now take a list of jobs. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=913\" onclick=\"get_ticket_and_populate_wrapper('913'); return false;\" title=\"CREAM GAHP commands need overhaul\">#913</a></span> The old syntax is also supported.  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 10:42</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/bcd217e3db7186154e7b63717b55a6f1b841f2af\">[16355]</a></span>: Use simplified CREAM_PROXY_RENEW gahp command. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=913\" onclick=\"get_ticket_and_populate_wrapper('913'); return false;\" title=\"CREAM GAHP commands need overhaul\">#913</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Nov-17 10:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d1d5f5bc30c78f85ee5b87765eedeca6f845c218\">[16354]</a></span>: Simplify CREAM_PROXY_RENEW gahp command. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=913\" onclick=\"get_ticket_and_populate_wrapper('913'); return false;\" title=\"CREAM GAHP commands need overhaul\">#913</a></span> In the current version of the CREAM API, the CREAM service URL and job ids are no longer required when updating a delegated proxy. Those argument to CREAM_PROXY_RENEW are now optional.  (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-31 13:41", "status": "resolved", "created": "2009-Nov-05 14:28", "fixed_version": "2009-Nov-05 14:28", "broken_version": "v070400", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "#897", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
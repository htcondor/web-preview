{"id": 4981, "title": "Ticket #4981: Add -maxjobs flag to condor_submit", "description": "<blockquote>\nWe should add a command-line argument to condor_submit that causes it to return an error if the submit file attempts to queue more than the specified number of jobs.  (This is at least partly so that DAGMan can implement its DAGMAN_PROHIBIT_MULTI_JOBS option without having to parse submit files.)\n\n<p>It might also make sense to add a -maxclusters flag, which DAGMan would always set to 1.</p></blockquote>", "remarks": "<blockquote>\n<em>2015-Apr-29 17:05:42 by johnkn:</em> <br/>\n\ncondor_submit should really handle -single-cluster by only attempting to create a new cluster when the executable changes AND that makes it necessary to make a new cluster.  It's not entirely clear to me why we need a new cluster when changing the exe, but I believe that it only required when spooling.\n\n<p>At present, the code behaves as 8.2 did, so when -single-cluster is used, any attempt to change the executable and queue again will cause the submit to fail.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-May-04 14:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/c1112287ecb1b3971c3f0d73908fe934558d9d6a\">[44787]</a></span>: Add 8.3.6 version history item and document the new condor_submit command line options -maxjobs and -single-cluster. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4981\" onclick=\"get_ticket_and_populate_wrapper('4981'); return false;\" title=\"Add -maxjobs flag to condor_submit\">#4981</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-29 16:59</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/95a0725ab0d37026247643c730770fd0069e8804\">[44758]</a></span>: Add -maxjobs and -single-cluster arguments to condor_submit <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4981\" onclick=\"get_ticket_and_populate_wrapper('4981'); return false;\" title=\"Add -maxjobs flag to condor_submit\">#4981</a></span>  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Jun-02 15:05", "status": "resolved", "created": "2015-Apr-03 11:20", "fixed_version": "2015-Apr-03 11:20", "broken_version": "v080305", "priority": "3", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "#4899", "creator": "wenger", "rust": "", "customer_group": "other", "visibility": "public", "notify": "wenger@cs.wisc.edu, johnkn@cs.wisc.edu, zmiller@cs.wisc.edu", "due_date": ""}
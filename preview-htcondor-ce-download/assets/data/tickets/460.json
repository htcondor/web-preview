{"id": 460, "title": "Ticket #460: Empty directory for gt4 file transfer can disappear", "description": "<blockquote>\nTo create a scratch directory for gt4 jobs on the remote server, the gridmanager needs to create an empty directory on the local system and ask RFT to transfer it. The gridmanage creates this directory the first time it needs it, then assumes it exists from that point on.\n\n<p>Nanohub has observed this directory disappear, cause unknown. All subsequent gt4 jobs with a scratch directory will fail at the stage-in state. The gridmanager should periodically check that this directory continues to exist, probably every time it starts a new job submission that will need it. If the directory has disappeared, the gridmanager should recreate it.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-May-07 15:17:58 by psilord:</em> <br/>\n\nSometimes on our linux pool, the startd excepts with ENOENT on its execute\ndirectory, which is always invariably there, and dated properly, when I look.\nDoes your problem result in a permanently removed directory or is it transient like the startd sees?\n\n<p></p><hr/>\n<em>2009-May-07 15:28:06 by jfrey:</em> <br/>\n\nThe directory is actually gone in this case.\n\n<p></p><hr/>\n<em>2009-Sep-28 16:02:35 by jfrey:</em> <br/>\n\nPushed a commit to V7_4-branch to check for and recreate the directory at relevant times.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Sep-28 15:55</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/be103b59f5f198ad57d6277d9aaf4e7ed633355a\">[15771]</a></span>: Fix for disappearing GT4 file transfer directory. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=460\" onclick=\"get_ticket_and_populate_wrapper('460'); return false;\" title=\"Empty directory for gt4 file transfer can disappear\">#460</a></span> The empty directory needed for GT4 GRAM file transfers is disappearing occassionally on some sites. We don't know what's removing it, but now we'll occassionally check for its existence and recreate it if necessary. We do this check at most once\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 13:39", "status": "resolved", "created": "2009-May-07 14:20", "fixed_version": "2009-May-07 14:20", "broken_version": "v070200", "priority": "3", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
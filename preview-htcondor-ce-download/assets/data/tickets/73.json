{"id": 73, "title": "Ticket #73: Use Daemon() constructor that takes a ClassAd*, not a char*", "description": "<blockquote>\nThe Daemon object (condor_daemon_client/daemon.*) has two constructors for initial creation.  One takes a ClassAd* for the daemon to contact, the other takes a char * that is the \"name\".  The <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> version has lots of smarts built it: it recognizes that a daemon may have multiple addresses (because of GCB) and can intelligently pick between them.  The char* version is dumb and just connects up to the hostname/port or sinful string given.  Right now this means that the GCB PRIVATE_NETWORK_NAME optimization doesn't work on these connections.  It also means that future smarts (say, better handling of multi-homed machines) won't work either.  So...\n\n<p>Whenever feasible, we should use the Daemon(ClassAd*,...) constructor, not the Daemon(...,char*,...) constructor.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=74\" onclick=\"get_ticket_and_populate_wrapper('74'); return false;\" title=\"negotiator to use ClassAd based Daemon constructor to contact schedd\">#74</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nnegotiator to use <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> based Daemon constructor to contact schedd</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2009-Dec-17 14:21", "status": "new", "created": "2009-Jan-22 11:14", "fixed_version": "2009-Jan-22 11:14", "broken_version": "", "priority": "4", "subsystem": "Libs", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
{"id": 3976, "title": "Ticket #3976: Add support for measuring the health of a VM host", "description": "<blockquote>\nAs it stands today, it seems to be very difficult if not impossible to gauge the health of an execute host that claims to support VM universe. There is a separate ticket about proactively trying to test VM guest availability, which is one way to measure health. But this ticket is about reporting on past events as a means of measuring health.\n\n<p>Sometimes, when HTCondor asks the hypervisor to start a VM guest, that process fails. In my experience, the most common failure results in a \"VMGAHP_ERR_INTERNAL\" message and a hold code of 6 (this is with the CHTC kvm offering). I have come to learn that this means that libvirtd is broken and will fail to start <strong>any</strong> VM guest until manually fixed. When I see this happening, I email htcondor-inf with the hypervisor hostname(s), so that they can be fixed. But that is a very reactive means of keeping a pool healthy.\n\n</p><p>So I propose that HTCondor keep track of recent successful and failed attempts to start VM guests, and that this information be available such that an administrator could get the information and use it to investigate potentially broken machines.\n\n</p><p>In discussions with Jaime, he suggested that TJ's statistics system might work here, but that is an implementation detail.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2013-Oct-09 14:53", "status": "new", "created": "2013-Oct-09 14:53", "fixed_version": "2013-Oct-09 14:53", "broken_version": "", "priority": "3", "subsystem": "VM", "assigned_to": "jfrey", "derived_from": "", "creator": "cat", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "jfrey@cs.wisc.edu, johnkn@cs.wisc.edu, tlmiller@cs.wisc.edu, cat@cs.wisc.edu", "due_date": ""}
{"id": 2319, "title": "Ticket #2319: Improve security configuration in 7.6.x", "description": "<blockquote>\nWe had a tough time enabling strong authentication for a Condor pool to be used for the OSG Grid School. Part of the problem was that this example in the manual for configuring a pool password is incomplete:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">SEC_PASSWORD_FILE = $(LOCK)/pool_password\nSEC_DAEMON_AUTHENTICATION = REQUIRED\nSEC_DAEMON_INTEGRITY = REQUIRED\nSEC_DAEMON_AUTHENTICATION_METHODS = PASSWORD\nSEC_NEGOTIATOR_AUTHENTICATION = REQUIRED\nSEC_NEGOTIATOR_INTEGRITY = REQUIRED\nSEC_NEGOTIATOR_AUTHENTICATION_METHODS = PASSWORD\nSEC_CLIENT_AUTHENTICATION_METHODS = FS, PASSWORD, KERBEROS, GSI\nALLOW_DAEMON = condor_pool@$(UID_DOMAIN)/*.cs.wisc.edu, \\\n               condor@$(UID_DOMAIN)/$(IP_ADDRESS)\nALLOW_NEGOTIATOR = condor_pool@$(UID_DOMAIN)/negotiator.machine.name\n</pre></div>\n\n\n<p>It needs to include some SEC_DEFAULT_* parameters. In our OSG Grid School pool, file transfer between starter and shadow would fail, as it's a WRITE-level command, rather than the more common DAEMON level used for most daemon-to-daemon communication.\n\n</p><p>We need to correct the above example in our manual to be complete and correct. This example has been copied by others, including OSG. We should make them aware of the change.\n\n</p><p>We may also want to consider changing the authorization level of the file transfer commands from WRITE to DAEMON. That may only be a partial band-aid for users with the above configuration, as there are other WRITE-level commands that would fail.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Jul-19 14:25:08 by bbockelm:</em> <br/>\n\nDoes file transfer occur using the security credentials of the user or the daemon?  If the latter, changing file transfer to DAEMON makes sense.  Otherwise, I believe the default is correct.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=2320\" onclick=\"get_ticket_and_populate_wrapper('2320'); return false;\" title=\"Improve security configuration in 7.7.x\">#2320</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove security configuration in 7.7.x</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2011-Dec-07 16:07", "status": "new", "created": "2011-Jul-19 13:55", "fixed_version": "2011-Jul-19 13:55", "broken_version": "v070500", "priority": "2", "subsystem": "Security", "assigned_to": "zmiller", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tstclair@redhat.com", "due_date": ""}
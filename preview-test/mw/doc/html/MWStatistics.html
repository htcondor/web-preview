<html><head><TITLE>MWStatistics</TITLE></head>
<body>
<H2><A HREF ="#DOC.DOCU" > <IMG BORDER=0 SRC=down.gif></A>  class  MWStatistics  </H2><BLOCKQUOTE>
This class serves as a holder for worker classes before they go to die
</BLOCKQUOTE>
<hr>

<DL>
<DL>
<DT><h3>Public Methods</h3><DD><DT><A HREF="#DOC.18.1"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>gather</B>( void* ) </B>
 <DD><I>Literally, take the stats from this worker and store 
them in the stats class</I>
<DT><A HREF="#DOC.18.8"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>get_stats</B>(double *average_bench, double *equivalent_bench, double *min_bench, double *max_bench, double *av_present_workers, double *av_nonsusp_workers, double *av_active_workers, double *equi_pool_performance, double *equi_run_time, double *parallel_performance, double *wall_time, MWList *workerlist ) </B>
 <DD><I>This function is just like makestats(), except it return the relative
statistics information to the caller</I>
<DT><A HREF="#DOC.18.2"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>makestats</B>() </B>
 <DD><I>This method is called at the end of a run</I>
<DT><A HREF="#DOC.18.6"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>MWStatistics</B>() </B>
 <DD><I>Default constructor</I>
<DT><A HREF="#DOC.18.10"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>read_checkpoint</B>( FILE *cfp ) </B>
 <DD><I>Read in stats information across the checkpoint </I>
<DT><A HREF="#DOC.18.9"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>update_best_bench_results</B>( double bres ) </B>
 <DD><I>Everytime we get a new bench factor, we update the max and min ones if necessary </I>
<DT><A HREF="#DOC.18.3"> <IMG BORDER=0 SRC=icon1.gif></A> void  <B>write_checkpoint</B>( FILE *cfp, MWList *wlist ) </B>
 <DD><I>We find that we should save stats across checkpoints</I>
<DT><A HREF="#DOC.18.7"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>~MWStatistics</B>() </B>
 <DD><I>Destructor...</I>
</DL><DL>
<DT><h3>Private Fields</h3><DD><DT><A HREF="#DOC.18.13"> <IMG BORDER=0 SRC=icon1.gif></A> double*  <B>cputimes</B> </B>
 <DD><I>Array of times holding the CPU times of the workerIDs</I>
<DT><A HREF="#DOC.18.14"> <IMG BORDER=0 SRC=icon1.gif></A> double*  <B>susptimes</B> </B>
 <DD><I>Array of times that the workerIDs have been suspended</I>
<DT><A HREF="#DOC.18.11"> <IMG BORDER=0 SRC=icon1.gif></A> double*  <B>uptimes</B> </B>
 <DD><I>Array of times that the workerIDs have been "up"</I>
<DT><A HREF="#DOC.18.12"> <IMG BORDER=0 SRC=icon1.gif></A> double*  <B>workingtimes</B> </B>
 <DD><I>Array of times that the workerIDs have been working</I>
</DL><DL>
<DT><h3>Private Methods</h3><DD><DT><A HREF="#DOC.18.5"> <IMG BORDER=0 SRC=icon1.gif></A> int  <B>get_max_vid</B>() </B>
 <DD><I>What is the maximum "virtuid ID" that we ever assigned to a worker</I>
<DT><A HREF="#DOC.18.15"> <IMG BORDER=0 SRC=icon1.gif></A> double  <B>mean</B>( double *array, int length ) </B>
 <DD><I>Computes the mean of an array of number.</I>
<DT><A HREF="#DOC.18.16"> <IMG BORDER=0 SRC=icon1.gif></A> double  <B>var</B>( double *array, int length, int <!2><A HREF="MWStatistics.html#DOC.18.15">mean</A> ) </B>
 <DD><I>Computes the variance of an array of numbers (given the mean, 
to avoid "double processing" the list -- which you don't need
to do anyway, but Mike wrote this function)</I>
</DL><DL>
<DT><h3>Private</h3><DD><DT><A HREF="#DOC.18.4"> <IMG BORDER=0 SRC=icon1.gif></A>  <B>Normalized Statistics.  MW computes "normalized" statistics</B> </B>
 <DD><I></I>

<DL>
<DT><A HREF="#DOC.18.4.1"> <IMG BORDER=0 SRC=icon1.gif></A> double  <B>max_bench_result</B> </B>
 <DD><I>Min benchmark result -- the "slowest" machine we ever had</I>
<DT><A HREF="#DOC.18.4.2"> <IMG BORDER=0 SRC=icon1.gif></A> double  <B>min_bench_result</B> </B>
 <DD><I>Max benchmark result -- the "faster" machine we ever had</I>
<DT><A HREF="#DOC.18.4.3"> <IMG BORDER=0 SRC=icon1.gif></A> double*  <B>sumbenchmark</B> </B>
 <DD><I>The sum of benchmark factors for this vid</I>
<DT><A HREF="#DOC.18.4.4"> <IMG BORDER=0 SRC=icon1.gif></A> int*  <B>numbenchmark</B> </B>
 <DD><I>The number of benchmar factors for this vid</I>

</DL>
</DL></DL>
<A NAME="DOC.DOCU">
<hr>
 <h2> Documentation </h2>
<BLOCKQUOTE>
This class serves as a holder for worker classes before they go to die.
It holds the workers until a makestats() call is made, at which
point it generates some statistics, given the workers.  

</BLOCKQUOTE>
<DL>

<A NAME="MWStatistics">
<A NAME ="DOC.18.6">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  MWStatistics()</B></TT>
<DD>Default constructor
<DL></DL><P>
<A NAME="~MWStatistics">
<A NAME ="DOC.18.7">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  ~MWStatistics()</B></TT>
<DD>Destructor...
<DL></DL><P>
<A NAME="gather">
<A NAME ="DOC.18.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  gather( void* )</B></TT>
<DD>Literally, take the stats from this worker and store 
them in the stats class.  This is done when the worker
dies and during a checkpoint.
<DL></DL><P>
<A NAME="makestats">
<A NAME ="DOC.18.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  makestats()</B></TT>
<DD>This method is called at the end of a run.  It prints out some
statistical information on that run.
<DL></DL><P>
<A NAME="get_stats">
<A NAME ="DOC.18.8">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  get_stats(double *average_bench, double *equivalent_bench, double *min_bench, double *max_bench, double *av_present_workers, double *av_nonsusp_workers, double *av_active_workers, double *equi_pool_performance, double *equi_run_time, double *parallel_performance, double *wall_time, MWList *workerlist )</B></TT>
<DD>This function is just like makestats(), except it return the relative
statistics information to the caller
<DL></DL><P>
<A NAME="update_best_bench_results">
<A NAME ="DOC.18.9">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  update_best_bench_results( double bres )</B></TT>
<DD>Everytime we get a new bench factor, we update the max and min ones if necessary 
<DL></DL><P>
<A NAME="write_checkpoint">
<A NAME ="DOC.18.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  write_checkpoint( FILE *cfp, MWList *wlist )</B></TT>
<DD>We find that we should save stats across checkpoints.  Here
we're given the ckpt FILE* and the list of running workers.
Basically, we write out the sum of the old stats we've got
plus the stats of the running workers. 
<DL></DL><P>
<A NAME="read_checkpoint">
<A NAME ="DOC.18.10">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> void  read_checkpoint( FILE *cfp )</B></TT>
<DD>Read in stats information across the checkpoint 
<DL></DL><P>
<A NAME="uptimes">
<A NAME ="DOC.18.11">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double*  uptimes</B></TT>
<DD>Array of times that the workerIDs have been "up"
<DL></DL><P>
<A NAME="workingtimes">
<A NAME ="DOC.18.12">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double*  workingtimes</B></TT>
<DD>Array of times that the workerIDs have been working
<DL></DL><P>
<A NAME="cputimes">
<A NAME ="DOC.18.13">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double*  cputimes</B></TT>
<DD>Array of times holding the CPU times of the workerIDs
<DL></DL><P>
<A NAME="susptimes">
<A NAME ="DOC.18.14">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double*  susptimes</B></TT>
<DD>Array of times that the workerIDs have been suspended
<DL></DL><P>
<A NAME="Normalized Statistics.  MW computes "normalized" statistics">
<A NAME ="DOC.18.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B>  Normalized Statistics.  MW computes "normalized" statistics</B></TT>
<DD>about the runs performance based on the relative speed of the machines
that the user obtained during the course of the run.
<DL></DL><P><DL>

<A NAME="max_bench_result">
<A NAME ="DOC.18.4.1">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double  max_bench_result</B></TT>
<DD>Min benchmark result -- the "slowest" machine we ever had
<DL></DL><P>
<A NAME="min_bench_result">
<A NAME ="DOC.18.4.2">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double  min_bench_result</B></TT>
<DD>Max benchmark result -- the "faster" machine we ever had
<DL></DL><P>
<A NAME="sumbenchmark">
<A NAME ="DOC.18.4.3">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double*  sumbenchmark</B></TT>
<DD>The sum of benchmark factors for this vid
<DL></DL><P>
<A NAME="numbenchmark">
<A NAME ="DOC.18.4.4">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int*  numbenchmark</B></TT>
<DD>The number of benchmar factors for this vid
<DL></DL><P></DL>

<A NAME="mean">
<A NAME ="DOC.18.15">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double  mean( double *array, int length )</B></TT>
<DD>Computes the mean of an array of number.
<DL></DL><P>
<A NAME="var">
<A NAME ="DOC.18.16">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> double  var( double *array, int length, int <!2><A HREF="MWStatistics.html#DOC.18.15">mean</A> )</B></TT>
<DD>Computes the variance of an array of numbers (given the mean, 
to avoid "double processing" the list -- which you don't need
to do anyway, but Mike wrote this function)
<DL></DL><P>
<A NAME="get_max_vid">
<A NAME ="DOC.18.5">
<DT><IMG BORDER=0 SRC=icon2.gif><TT><B> int  get_max_vid()</B></TT>
<DD>What is the maximum "virtuid ID" that we ever assigned to a worker.
This amounts to asking how many workers did we ever have in ALL states
at any one time during the course of the run.
<DL></DL><P></DL>
<hr>
 <DL><DT><B>This class has no child classes.</B></DL>
<DL></DL><P><I><A HREF="aindex.html"> alphabetic index</A></I>  <I><A HREF="HIER.html"> hierarchy of classes</A></I><P></BODY><hr>
<A HREF="http://www.zib.de/Visual/software/doc++/index.html"><IMG BORDER=0 ALIGN=RIGHT SRC=logo.gif></A>
<P Align=Center><I>this page has been generated automatically by doc++
<P Align=Center>(c)opyright by <A HREF="http://www.zib.de/zoeckler/"> Malte  Z&oumlckler</A>, <A HREF="mailto:wunderling@zib.de"> Roland Wunderling </A><br>contact: <A HREF="mailto:doc++@zib.de"> doc++@zib.de </a>
{"id": 310, "title": "Ticket #310: Fix SOAP seg-fault on Solaris", "description": "<blockquote>\nThe function <code>condor__abortTransaction()</code> in <code>condor_schedd.V6/soap_scheddStub.cpp</code> causes a segmentation fault on Solaris (9 is the only version we have seen this on).\n\n<p>The suspected culprit is <code>a3ba8692</code> <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a3ba8692dd61911c2a9ff05b8e8d2b3ad341d4c3\">[14093]</a></span>, but there seems to be no reason why this change would trash the heap.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Mar-09 15:41:15 by gthain:</em> <br/>\n\nValgrind complains mightily about this change, even on Linux.  I think we need a real fix\n\n<p></p><hr/>\n<em>2009-Mar-12 11:46:27 by gthain:</em> <br/>\n\nSee also <span class=\"wiki\"><a href=\"wiki?p=CurrentTestProblems\" title=\"Current Test Problems\">CurrentTestProblems</a></span>.\n\n<p></p><hr/>\n<em>2009-Mar-24 15:43:08 by matt:</em> <br/>\n\nFix for this has been pushed to V7_2-branch (only)</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/32/schedd.18930\">schedd.18930</a>\n28531 bytes added by gthain on 2009-Mar-09 20:40:43 UTC.\n<br/>\nValgrid output from SOAP calls<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Mar-24 15:34</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/63877863ef585d2b8b8cfd9dfe694ea45bf24bb0\">[14282]</a></span>: Workaround for uninitialized memory access bug in SOAP, around transaction termination (commit and abort).\u00a0[...]\n (By Matthew Farrellee )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2010-Jan-31 08:36", "status": "resolved", "created": "2009-Mar-09 14:59", "fixed_version": "2009-Mar-09 14:59", "broken_version": "v070000", "priority": "2", "subsystem": "Unknown", "assigned_to": "matt", "derived_from": "", "creator": "burnett", "rust": "", "customer_group": "other", "visibility": "public", "notify": "gthain@cs.wisc.edu,matt@cs.wisc.edu", "due_date": ""}
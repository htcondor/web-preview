{"id": 2336, "title": "Ticket #2336: SCHEDD_ASSUME_NEGOTIATOR_GONE description out of date", "description": "<blockquote>\n7.6 manual says -\n\n<p></p><div class=\"code\">\n<pre class=\"code\">SCHEDD_ASSUME_NEGOTIATOR_GONE\n    This macro determines the period, in seconds, that the condor_schedd will\nwait for the condor_negotiator to initiate a negotiation cycle before the\nschedd will simply try to claim any local condor_startd. This allows for a\nmachine that is acting as both a submit and execute node to run jobs locally if\nit cannot communicate with the central manager. The default value, if not\nspecified, is 4 x $(NEGOTIATOR_INTERVAL). If $(NEGOTIATOR_INTERVAL) is not\ndefined, then SCHEDD_ASSUME_NEGOTIATOR_GONE will default to 1200 (20 minutes).\n</pre></div>\n\n\n<p>The code says -\n\n</p><p></p><div class=\"code\">\n<pre class=\"code\">\t\t// Check when we last had a negotiation cycle; if recent, return.\n\tint negotiator_interval = param_integer(\"NEGOTIATOR_INTERVAL\",60);\n\tint claimlocal_interval = param_integer(\"SCHEDD_ASSUME_NEGOTIATOR_GONE\",\n\t\t\t\tnegotiator_interval * 20);\n\t\t\t\t//,\t// default (20 min usually)\n\t\t\t\t//10 * 60,\t// minimum = 10 minutes\n\t\t\t\t//120 * 60);\t// maximum = 120 minutes\n</pre></div>\n\n\n<p>The manual can be more accurate by saying the macro defaults to 20*NEGOTIATOR_INTERVAL, not 4*NEGOTIATOR_INTERVAL.\n\n</p><p>Gotcha, the NEGOTIATOR_INTERVAL may not be defined to the same value for both the Schedd and Negotiator.</p></blockquote>", "remarks": "<blockquote>\n<em>2011-Jul-28 13:52:55 by matt:</em> <br/>\n\nNote: For 7.6, the default is 20 * NEGOTIATOR_INTERVAL. For 7.7.1+, the default is simply 20 minutes (20 * 60 seconds), see <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/9c1c4bbb0489356cc209af1df08eb0c4b0ae8edf\">[22626]</a></span>.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-22 17:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1198f310e80054075036b076c3a325e45556e81e\">[26900]</a></span>: Adjust SCHEDD_ASSUME_NEGOTIATOR_GONE default according to changes made in 7.7.1 (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2336\" onclick=\"get_ticket_and_populate_wrapper('2336'); return false;\" title=\"SCHEDD_ASSUME_NEGOTIATOR_GONE description out of date\">#2336</a></span>) Committer: Nathan W. Panike  (By Cathrin Weiss )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-18 16:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/913b24878dbaa30f47a280a6b8d40405ee92544b\">[26879]</a></span>: Adjust SCHEDD_ASSUME_NEGOTIATOR_GONE default according to changes made in 7.7.1 (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2336\" onclick=\"get_ticket_and_populate_wrapper('2336'); return false;\" title=\"SCHEDD_ASSUME_NEGOTIATOR_GONE description out of date\">#2336</a></span>)  (By Cathrin Weiss )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-18 16:31</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e4e8d38c030e3eddc61add941da41f190198c08b\">[26876]</a></span>: SCHEDD_ASSUME_NEGOTIATOR_GONE defaults to 20*NEGOTIATOR_INTERVAL in 7.6 (changed again in 7.7, though) <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2336\" onclick=\"get_ticket_and_populate_wrapper('2336'); return false;\" title=\"SCHEDD_ASSUME_NEGOTIATOR_GONE description out of date\">#2336</a></span>  (By Cathrin Weiss )</td></tr>\n</tbody></table>", "type": "doc", "last_change": "2011-Aug-18 16:48", "status": "resolved", "created": "2011-Jul-28 13:24", "fixed_version": "2011-Jul-28 13:24", "broken_version": "v070600", "priority": "4", "subsystem": "Unknown", "assigned_to": "cweiss", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
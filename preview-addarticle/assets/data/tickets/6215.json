{"id": 6215, "title": "Ticket #6215: Build fails on Fedora", "description": "<blockquote>\n8.6.1 fails to build from source. Patch incoming (the patch allows the build to succeed, it's not clear if it introduces other problems)</blockquote>", "remarks": "<blockquote>\n<em>2017-Apr-05 11:27:45 by tannenba:</em> <br/>\n\nWhat version of Fedora are you building on?  v8.6.1 seems to build here fine on both Fedora 24 and Fedora 25.   Perhaps the build broke on the Fedora 26 alpha release?\n\n<p></p><hr/>\n<em>2017-Apr-05 11:39:19 by tannenba:</em> <br/>\n\nClearly whatever version of Fedora you are using is correct, the code is wrong.  But I think your patch is also incorrect, as using the <code>\"%.*s\"</code> format specifier would require two arguments.  I think the correct patch would be\n\n<p></p><div class=\"code\">\n<pre class=\"code\">\n@@ -418,7 +418,7 @@ GLExecPrivSepHelper::create_process(const char* path,\n                if( !retry ) {\n                                // return the most recent glexec error output\n                        if( error_msg ) {\n-                               error_msg-&gt;formatstr_cat(glexec_error_msg.Value());\n+                               error_msg-&gt;formatstr_cat(\"%s\", glexec_error_msg.Value());\n                        }\n                        return 0;\n                }\n</pre></div>\n\n\n<p>Could you please verify the above makes your Fedora install happy?  If so I will push it.  Thanks.\n\n</p><p></p><hr/>\n<em>2017-Apr-05 12:36:07 by bcotton:</em> <br/>\n\nYou are correct, it is Fedora 26. I'll give your patch a try and report back on build status.\n\n<p></p><hr/>\n<em>2017-Apr-05 15:16:40 by bcotton:</em> <br/>\n\nA couple of architectures are still building, but the build completed successfully on x86_64 and i686, so I'm going to say it's good.\n\n<p></p><hr/>\n<em>2017-Apr-06 10:43:44 by tannenba:</em> <br/>\n\nPatch pushed.  Thanks for the contribution!\n\n<p>Note: no need for documentation or version history here, F26 is still alpha.  Resolving.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/984/glexec_privsep_helper.patch\">glexec_privsep_helper.patch</a>\n929 bytes added by bcotton on 2017-Apr-05 13:39:19 UTC.\n<br/>\nPatch to allow Fedora builds (gcc complains about the syntax)<br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2017-Apr-06 10:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/241b6f9dae66cba83488868ef9dd0008c654503a\">[50424]</a></span>: Fix Fedora 26 build by passing correct num of args to printf. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=6215\" onclick=\"get_ticket_and_populate_wrapper('6215'); return false;\" title=\"Build fails on Fedora\">#6215</a></span>  (By Todd Tannenbaum )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2017-Apr-06 10:44", "status": "resolved", "created": "2017-Apr-05 08:38", "fixed_version": "2017-Apr-05 08:38", "broken_version": "v080600", "priority": "4", "subsystem": "DaemonsExecNode", "assigned_to": "tannenba", "derived_from": "", "creator": "bcotton", "rust": "", "customer_group": "other", "visibility": "public", "notify": "bcotton@fedoraproject.org", "due_date": ""}
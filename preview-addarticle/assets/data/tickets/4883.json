{"id": 4883, "title": "Ticket #4883: Python bindings for dprintf", "description": "<blockquote>\n<span class=\"subsection\"><h3>Use Case</h3></span>\n\n<p>See <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4875\" onclick=\"get_ticket_and_populate_wrapper('4875'); return false;\" title=\"Python bindings for condor_squawk\">#4875</a></span> - use case duplicated below:\n\n</p><p>The OSG is starting a new project to investigate management of Xrootd caches placed in strategic (in terms of networking) locations around the grid.\n\n</p><p>One important aspect of this is to improve the management of the remote instances. We'd like the xrootd daemons to run underneath the HTCondor master.\n\n</p><p>Thus, we would like to have a python script which sits between the master and the xrootd daemon that periodically advertises to the collector and sends heartbeats to the master.\n\n</p><p>As a part of this, we'd like the python shim script to be able to act as a DC-like daemon.  Particularly, we'd like to be able to control the logging via the normal HTCondor logging subsystem\n\n</p><p><span class=\"subsection\"></span></p><h3>Proposal </h3>\n\n<p>I propose we add a \"log\" method to the HTCondor module with the following\n\n</p><p></p><div class=\"verbatim\">\n<pre>log(level, msg)\nLog a message to the HTCondor logging subsystem.\n   :param level: Log category and formatting indicator; use the LogLevel enum for a list of these (may be OR'd together).\n   :param msg: String message to log.\n</pre></div>\n\n\n<p>Unlike \"dprintf\" proper,\n</p><ol>\n<li>This will automatically add \"\\n\" to the end of the log string.\n</li><li>This doesn't accept formatting characters; python lets you do this directly.</li></ol>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-20 15:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/68a62ad0f6a0e43466a056bb028ddf74cddce6c6\">[44673]</a></span>: edit doc for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4883\" onclick=\"get_ticket_and_populate_wrapper('4883'); return false;\" title=\"Python bindings for dprintf\">#4883</a></span> and add possible enum values  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Apr-20 11:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dd2b5b0cdf075b08be319ea735648f6dd8ae7901\">[44670]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4883\" onclick=\"get_ticket_and_populate_wrapper('4883'); return false;\" title=\"Python bindings for dprintf\">#4883</a></span>) Documentaton and Version History  (By Tim Theisen )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-12 07:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/12fe1556e23bfdf7739a282e4be36bfddc0cd5c2\">[43340]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a57088a902e6a869fb8e594ccf8194563c0d4492\">[43334]</a></span>, Merge remote-tracking branch 'origin/V8_3-gt4883'. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4883\" onclick=\"get_ticket_and_populate_wrapper('4883'); return false;\" title=\"Python bindings for dprintf\">#4883</a></span> Conflicts: src/python-bindings/dc_tool.cpp  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2015-Feb-11 21:28</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a57088a902e6a869fb8e594ccf8194563c0d4492\">[43334]</a></span>: Python bindings for dprintf. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4883\" onclick=\"get_ticket_and_populate_wrapper('4883'); return false;\" title=\"Python bindings for dprintf\">#4883</a></span> This commit allows the python bindings to access dprintf (and the rest of the logging subsystem) directly. This assists a python script in behaving like a DC daemon.  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2015-Apr-21 14:11", "status": "resolved", "created": "2015-Feb-11 14:58", "fixed_version": "2015-Feb-11 14:58", "broken_version": "", "priority": "3", "subsystem": "", "assigned_to": "bbockelm", "derived_from": "#4882", "creator": "bbockelm", "rust": "", "customer_group": "osg", "visibility": "public", "notify": "", "due_date": ""}
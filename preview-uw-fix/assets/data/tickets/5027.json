{"id": 5027, "title": "Ticket #5027: getaddrinfo won't look for IPv6 if IPv4 found in /etc/hosts", "description": "<blockquote>\nReport from Brian B:\n\n<p></p><ul>\n<li>/etc/hosts specifies a.example.com maps to 1.2.3.4\n</li><li>DNS would return 1.2.3.4 and ABCD::6789\n</li><li>lookup (nsswitch.conf) was configured to use file before DNS.\n</li><li>With host based security HTCondor does forward resolution to confirm that the name maps to the IP and vice versa.  It does the look up using getaddrinfo specifying AF_UNSPEC.  Looking up a.example.com would only return 1.2.3.4, not ABCD::6789; it in essence stopped when it found the /etc/hosts entry.  This was a pain to debug.\n</li></ul>\n\n<p>Is there anything we can do?  Perhaps just documentation, discouraging file resolution and use of /etc/hosts/?</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2015-Apr-28 10:48", "status": "new", "created": "2015-Apr-28 10:48", "fixed_version": "2015-Apr-28 10:48", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
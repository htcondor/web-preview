{"id": 4115, "title": "Ticket #4115: Enhance DAGMan's node status file", "description": "<blockquote>\nCMS would be able to solely use the node status file if we had the following information:\n<ol>\n<li>The retry number of the node.\n</li><li>The actual HTCondor job state (as opposed to \"idle\" and \"not_idle\").\n</li></ol>\n\n<p>Can this be added to the file during the 8.1 series?</p></blockquote>", "remarks": "<blockquote>\n<em>2013-Dec-13 13:34:22 by wenger:</em> <br/>\n\nMy first thought on this is that it would be very easy to add the retry number, but that adding the job status would be quite a bit more work.  Also, if you have a multiple-proc node job, how should status be reported if some procs are idle, some are running, etc.?\n\n<p></p><hr/>\n<em>2013-Dec-13 13:37:09 by bbockelm:</em> <br/>\n\nHow about doing something like:\n\n<p></p><div class=\"verbatim\">\n<pre>[\nNode = \"Job1\";\nRetryCount = 0;\nRunning = 1;\nIdle = 4;\nHeld = 2;\n/* etc (states with 0 jobs are suppressed) */\n]\n</pre></div>\n\n\n<p></p><hr/>\n<em>2013-Dec-13 14:15:12 by wenger:</em> <br/>\n\nI'll have to think about that.  Right now the big thing is that internally DAGMan doesn't keep track of the job's state to a finer grain than running vs. idle.  We'd probably have to monitor some events we don't care about now, and I also don't want to increase the per-node memory usage too much.\n\n<p>It's certainly doable, just a matter of how much work, how much memory, and where it fits in the priority list...\n\n</p><p></p><hr/>\n<em>2013-Dec-13 14:17:28 by wenger:</em> <br/>\n\nHmm -- another consideration with this is whether we already have people using the node status file whose code will be broken by any changes to the format.  I guess we may have to do some checking on condor-users...\n\n<p></p><hr/>\n<em>2013-Dec-13 14:30:59 by bbockelm:</em> <br/>\n\nYeah - I was thinking about that too.  It may be a good idea to keep the current format and switch to a new format going forward.  I'd really prefer a list of new-style <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>.  This is more \"condor-like\" and provides extensibility for the future.\n\n<p>With respect to tracking more states -- even if we keep all states, it should still fit into a 'char' per proc.  Hopefully an acceptable hit...\n\n</p><p></p><hr/>\n<em>2014-Mar-20 15:35:32 by wenger:</em> <br/>\n\nHow about a format like this?:\n\n<p></p><pre>  [\n    DagName = \"my.dag\";\n    Timestamp = 1281041745; /* Thu Aug  5 15:55:45 2010 */\n    NextUpdate = 1281041775; /* Thu Aug  5 15:56:15 2010 */\n    DagStatus = 3; /* STATUS_SUBMITTED */\n    NodesTotal = 3;\n    NodesDone = 1;\n    NodesPre = 0;\n    NodesQueued = 1;\n    NodesPost = 0;\n    NodesReady = 0;\n    NodesUnready = 0;\n    NodesFailed = 1;\n    Nodes = {\n      [\n        Node = \"A\";\n        Status = 5; /* STATUS_DONE */\n        CondorStatus = 4; /* completed */\n        StatusDetails = \"\";\n        RetryCount = 0\n      ],\n      [\n        Node = \"B\";\n        Status = 6; /* STATUS_ERROR */\n        CondorStatus = 4; /* completed */\n        StatusDetails = \"Job proc (1437.0.0) failed with status 5\";\n        RetryCount = 1\n      ],\n      [\n        Node = \"C\";\n        Status = 3; /* STATUS_SUBMITTED */\n        CondorStatus = 1; /* idle */\n        StatusDetails = \"Job proc (1437.0.0) failed with status 5\";\n        RetryCount = 1\n      ]\n    };\n  ]\n</pre>\n\n<p></p><hr/>\n<em>2014-Mar-24 16:47:53 by wenger:</em> <br/>\n\nNotes:\n\n<p></p><ul>\n<li>Be sure to test that the output is actually syntactically correct and will parse!\n\n<p></p></li><li>This shouldn't be merged to the master until <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4209\" onclick=\"get_ticket_and_populate_wrapper('4209'); return false;\" title=\"DAG final node goofs up node status file\">#4209</a></span> code review is done.\n</li></ul>\n\n<p></p><hr/>\n<em>2014-Mar-26 16:28:29 by bbockelm:</em> <br/>\n\nHi Kent,\n\n<p>Is it possible to make this several <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span> instead of one <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> with multiple sub-ClassAds?\n\n</p><p>Doing this in a single <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> forces us to load the whole thing in memory.  When I've done a data structure like that previously, I kinda blew my memory budget.\n\n</p><p></p><hr/>\n<em>2014-Mar-26 16:29:00 by bbockelm:</em> <br/>\n\nHow are multiple-procs-per-node handled here?\n\n<p></p><hr/>\n<em>2014-Mar-27 10:50:45 by wenger:</em> <br/>\n\nBrian, as far as having multiple separate classads, are you thinking something like having one ad for the overall DAG status, and then one add for each node?  If we do that, should we have something like Type = <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DagStatus\" title=\"Dag Status\">DagStatus</a></span> and Type = <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NodeStatus\" title=\"Node Status\">NodeStatus</a></span> in the individual ads?  (Creating separate ads isn't a problem for me -- I'm just writing a text file, so doing it that way is fine -- I just want to clarify what works best for you.)\n\n<p></p><hr/>\n<em>2014-Mar-27 11:09:18 by wenger:</em> <br/>\n\nAs far as multiple-procs-per-node goes, right now that is being ignored in the node status file.  I could easily add something like <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobProcsQueued\" title=\"Job Procs Queued\">JobProcsQueued</a></span>.  I could also add something like <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobProcsTotal\" title=\"Job Procs Total\">JobProcsTotal</a></span>, but I'm pretty sure DAGMan would have to store some extra info for that, so it would be a little more work.  If I did add that, one thing is that <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=JobProcsTotal\" title=\"Job Procs Total\">JobProcsTotal</a></span> would be zero until the job is submitted -- hopefully that's not a problem.\n\n<p></p><hr/>\n<em>2014-Mar-27 11:15:47 by wenger:</em> <br/>\n\nThe HTCondor job state may be a little tricky for multiple-job-proc nodes...\n\n<p></p><hr/>\n<em>2014-Mar-27 11:24:08 by wenger:</em> <br/>\n\nHow about this?:\n\n<p></p><pre>  [\n    Type = DagStatus;\n    DagFiles = {\n      job_dagman_node_status.dag\n    };\n    Timestamp = 1395700050; /* Mon Mar 24 17:27:30 2014 */\n    NextUpdate = 0; /* none */\n    DagStatus = 5; /* STATUS_DONE      (success) */\n    NodesTotal = 12;\n    NodesDone = 12;\n    NodesPre = 0;\n    NodesQueued = 0;\n    NodesPost = 0;\n    NodesReady = 0;\n    NodesUnready = 0;\n    NodesFailed = 0;\n  ]\n  [\n    Type = NodeStatus;\n    Node = \"A\";\n    NodeStatus = 6; /* STATUS_ERROR */\n    CondorStatus = 4; /* completed */\n    StatusDetails = \"Job proc (1437.0.0) failed with status 5\";\n    RetryCount = 1;\n    JobProcsTotal = 5;\n    JobProcsQueued = 0;\n    JobProcsRunning = 0;\n    JobProcsIdle = 0;\n    JobProcsHeld = 0;\n  ]\n  [\n    Type = NodeStatus;\n    Node = \"B\";\n  ...\n</pre>\n\n<p>(I forgot that we need to have a list for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DagFiles\" title=\"Dag Files\">DagFiles</a></span>, since you can have more than one.)\n\n</p><p>Also, my thought is to implement this in two phases.  Changing to a classad format, and adding <strong>some</strong> of the additional information (like retry count) is easy.  I'm just writing a text file, so writing a different format isn't a problem.  And I already have things like the retry count for each node.  So my thought is to implement that stuff as phase 1.\n\n</p><p>Phase 2 would be the information that we don't currently have -- for example, the HTCondor status of all of the job procs.  With that kind of stuff I want to think somewhat carefully about how to implement it without increasing the memory footprint per node too drastically.\n\n</p><p>So I guess one question is, if you had things in the classad format with some, but not all, of the additional information, would that be useful?  Or is this not really useful to you until you have the whole thing?\n\n</p><p></p><hr/>\n<em>2014-Mar-27 13:30:30 by wenger:</em> <br/>\n\nFrom Brian via phone:\nI'm OK with a phased approach.  I have no issues with the format proposed\nbelow.\n\n<p>What parts can arrive by 8.2.x?\n\n</p><p>Answer:  I'm aiming to get phase 1 into 8.1.6, which would also mean 8.2.0.\n\n</p><p></p><hr/>\n<em>2014-Apr-03 12:46:48 by bbockelm:</em> <br/>\n\nAn example of how to parse the new node status file:\n\n<p></p><div class=\"verbatim\">\n<pre>&gt;&gt;&gt; import classad\n&gt;&gt;&gt; ads = classad.parseAds(open(\"/tmp/node_status\"))\n&gt;&gt;&gt; print ads\n&lt;classad.ClassAdFileIterator object at 0x7fabe56e2f30&gt;\n&gt;&gt;&gt; dag_status = ads.next()\n&gt;&gt;&gt; node_states = {}\n&gt;&gt;&gt; for ad in ads:\n...   if 'Node' in ad: node_states[ad['Node']] = ad['NodeStatus']\n...\n&gt;&gt;&gt; node_states\n{'A': 5L, 'C': 3L, 'B10': 5L, 'B4': 5L, 'B5': 5L, 'B6': 5L, 'B7': 5L, 'B1': 5L, 'B2': 5L, 'B3': 5L, 'B8': 5L, 'B9': 5L}\n&gt;&gt;&gt; dag_status\n[ NodesReady = 0; NodesTotal = 12; NodesFailed = 0; NodesUnready = 0; NodesQueued = 1; NodesPre = 0; JobProcsHeld = 0; Timestamp = 1396463431; NodesPost = 0; NodesDone = 11; Type = \"DagStatus\"; JobProcsIdle = 1; DagStatus = 3; DagFiles = { \"job_dagman_node_status.dag\" } ]\n</pre></div>\n\n\n<p>Much easier than before!\n\n</p><p></p><hr/>\n<em>2014-Apr-03 12:54:18 by wenger:</em> <br/>\n\nI've attached a couple of actual node status files in the new format to this ticket.  Brian -- can you take a look at them and see what you think?\n\n<p>Assuming the you think the format is okay, I'm pretty much done with phase 1 (outputting stuff that doesn't require DAGMan itself to collect more data).  I still need actually test that the output parses, and update the manual.\n\n</p><p></p><hr/>\n<em>2014-Apr-03 13:08:00 by bbockelm:</em> <br/>\n\nYup, the format looks great!  I included an example way to parse the information in my previous comment.\n\n<p>Are there going to be any \"normal\" cases where there are less than two ads written?\n\n</p><p></p><hr/>\n<em>2014-Apr-03 14:04:30 by wenger:</em> <br/>\n\nBrian, the only case where you'd get less than two ads is if there was some kind of failure during the actual process of writing the status file.\n\n<p>I just talked with ToddT about this -- he's a bit concerned with having DAGMan output the HTCondor status counts of jobs within a node.  Partly there's some concern about the extra memory needed to track this, and partly it's just a matter of whether this is DAGMan's \"job\" or not.  (A while ago we were actually talking about making some kind of CLUSTER_TERMINATED event so that DAGMan wouldn't have to watch for the TERMINATED events of all of the individual jobs within a cluster.)  Anyhow, I guess if you really want this you need to persuade Todd that it's a good idea...\n\n</p><p></p><hr/>\n<em>2014-Apr-03 14:05:00 by wenger:</em> <br/>\n\nI'm going to assign this over to Alan for code review.  I'm still working a bit on the tests, but I think the code for phase 1 is pretty much done.\n\n<p></p><hr/>\n<em>2014-Apr-07 16:16:07 by wenger:</em> <br/>\n\nSwitched this over to Zach to review because AlanD is out all week.\n\n<p></p><hr/>\n<em>2014-Apr-11 11:35:49 by wenger:</em> <br/>\n\nI've just tested the output, and it is set of syntactically-correct classads -- they do parse...\n\n<p></p><hr/>\n<em>2014-Apr-15 12:50:28 by wenger:</em> <br/>\n\nNote:  I'm still working on documentation, and some test improvements, on the V8_1-gittrac_4115-branch branch -- so the branch will need to get merged again once I finish that stuff.  (That means that if the code review passes, the ticket should go back to docpending or something instead of resolved.)\n\n<p></p><hr/>\n<em>2014-Apr-15 14:25:50 by adesmet:</em> <br/>\n\n<strong>CODE REVIEW</strong> adesmet April 15, 2014.\n\n<p><a class=\"file\" href=\"rlog?f=src/condor_dagman/dag.cpp\">/src/condor_dagman/dag.cpp</a>\n</p><ul>\n<li>(important) Use new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> code to generate as much as possible. At the very least, use the new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> code's string escaping code.  There are a few places where this could be a problem:\n<ul>\n<li>Actual problems: dagFile\n</li><li>Maybe problems: node-&gt;GetJobName() - Is there any way for this to contain a double quote or backslash?\n</li><li>Probably safe today, but would be good to be defensive against future code: statusNote, statusStr, nodeNote, statusStr, timeStr\n</li></ul>\n</li><li>(recommended) Calculation of unready appears to mirror a simular calculation in print_status (<a class=\"file\" href=\"rlog?f=src/condor_dagman/dagman_main.cpp\">/src/condor_dagman/dagman_main.cpp</a>).  Should they be merged into a single call to reduce the chance of them drifting?\n</li><li>(cleanup) Purge the #if 0 block entirely.\n</li><li>(cleanup) Remove the #if 1 and matching #endif\n</li></ul>\n\n<p><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_abort-final-B.run\">/src/condor_tests/job_dagman_abort-final-B.run</a>\n</p><ul>\n<li>(cleanup) Duplicate and redundant @statuslines declarations.\n</li></ul>\n\n<p>Files with no changes:\n</p><ul>\n<li><a class=\"file\" href=\"rlog?f=src/condor_dagman/job.h\">/src/condor_dagman/job.h</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_abort-A.run\">/src/condor_tests/job_dagman_abort-A.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_abort-B.run\">/src/condor_tests/job_dagman_abort-B.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_abort-final-A.run\">/src/condor_tests/job_dagman_abort-final-A.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_cycle-A.run\">/src/condor_tests/job_dagman_cycle-A.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_final-A.run\">/src/condor_tests/job_dagman_final-A.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_final-I.run\">/src/condor_tests/job_dagman_final-I.run</a>\n</li><li><a class=\"file\" href=\"rlog?f=src/condor_tests/job_dagman_node_status.run\">/src/condor_tests/job_dagman_node_status.run</a>\n</li></ul>\n\n<p></p><hr/>\n<em>2014-Apr-15 16:43:02 by wenger:</em> <br/>\n\nAlan, is EscapeAdStringValue() the string escaping function you're referring to in the review?\n\n<p></p><hr/>\n<em>2014-Apr-16 17:46:30 by wenger:</em> <br/>\n\nI've fixed up the code as per adesmet's code review, and added a version history entry.  I haven't yet updated the node status file info in the DAGMan section of the manual, so I'm going to put this ticket into the docpending state.\n\n<p>Also, the test improvements have been split off into <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=4317\" onclick=\"get_ticket_and_populate_wrapper('4317'); return false;\" title=\"Improve DAGMan node status file test\">#4317</a></span> to make it easier to keep track of what's going on.\n\n</p><p></p><hr/>\n<em>2014-May-13 10:28:13 by wenger:</em> <br/>\n\nDocumentation is complete and merged to V8_1_6-branch, so I'm going to resolve this.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=4298\" onclick=\"get_ticket_and_populate_wrapper('4298'); return false;\" title=\"Move stuff out of DAGMan Job object\">#4298</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nMove stuff out of DAGMan Job object</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=4316\" onclick=\"get_ticket_and_populate_wrapper('4316'); return false;\" title=\"Create node status file with classad unparser\">#4316</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nCreate node status file with classad unparser</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=4317\" onclick=\"get_ticket_and_populate_wrapper('4317'); return false;\" title=\"Improve DAGMan node status file test\">#4317</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove DAGMan node status file test</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"active\" href=\"/wiki-archive/tickets/?ticket=4469\" onclick=\"get_ticket_and_populate_wrapper('4469'); return false;\" title=\"Clarify/correct information in DAGMan node status file\">#4469</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nClarify/correct information in DAGMan node status file</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/829/job_dagman_node_status.status\">job_dagman_node_status.status</a>\n2432 bytes added by wenger on 2014-Apr-03 17:35:21 UTC.\n</li><li><a href=\"../files/830/job_dagman_final-I.status\">job_dagman_final-I.status</a>\n1285 bytes added by wenger on 2014-Apr-03 17:49:10 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-20 10:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fa69c76ab69551150c8a9567eb145376b9756cef\">[40183]</a></span>: edits for new format of DAGMan node status file <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-13 10:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e8af1c263cfd0513beb483b2172482b4d3bc5163\">[40117]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Fixed a minor typo in the new node file documentation.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-12 17:11</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ad1d27ba2e5dbf758d4862903ddbd7f44f2a2080\">[40115]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Updated the main DAGMan chapter of the manual for the node status file changes; added a link from the version history item to the appropriate manual section.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-16 17:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e792232b90e4d707730c5aaa004d5f9864324660\">[39965]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Added an item to the version history; still need to update the node status file info in the main DAGMan section.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-16 16:36</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d6bada16261356ad9a13dddea1e97d8e0024139a\">[39964]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Made changes as per adesmet's code review.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-14 11:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a8666b6cd5dd4db2549efb963487467b9b32cd33\">[39917]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Entirely removed not-yet-implemented attributes from the output.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-02 10:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3550e921e40babe3f3a3d0763a38d4e8b33d9d57\">[39840]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: New format is turned on in code, old format is turned off; tests are changed to work with new format.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 12:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f7c79bbb9adee792b6f884bfc7d8159126f4dd50\">[39819]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: More fixes to the tests.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Apr-01 10:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ba6725c9e08854eac77f96693ebc6a32d17b0b95\">[39814]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Oops -- forgot these in the last commit.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-31 18:39</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/47347a262dae8eb6dd57f31da621bf4a3781bfec\">[39811]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Improved status file-checking tests to require that lines are found in the specified order, to get ready for changes to the new format.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-31 17:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8a0c1b67a4b8bc07b9afcad33e87bca52b79c40f\">[39809]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Various cleanups to the new-format node status file; improved a couple of warning messages.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-28 16:17</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/968ef7f26775e44f339d80a8403b772abb3e913b\">[39758]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Node status enum now has explicitly-defined values, since the integer values are now going into the node status file.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-27 16:24</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8e8b395c6b699475f1d9f7dbdacc90384fc196cc\">[39739]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Changes based on yesterday/today's communication with Brian (see the ticket).  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-24 17:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1da4f31d62e42cc5097e4725f67c1441b7954a81\">[39699]</a></span>: Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Started on implementation.  (By Kent Wenger )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Mar-24 15:49</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/85ec2a9ae9431a83cfc1ce719a464410a58f7c25\">[39696]</a></span>: Merged <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/205462a7f9aa26556564ca4a1db83fb5d514453c\">[39647]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/ab47adee5e1c6f8dfddfe5f5d5bc523ba0034a57\">[39655]</a></span>, <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/6099c36cdba56441bbe78f12e8706d19312f4d41\">[39668]</a></span>, Merge branch 'V8_0-gittrac_4209-branch' into V8_1-gittrac_4115-branch Gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4115\" onclick=\"get_ticket_and_populate_wrapper('4115'); return false;\" title=\"Enhance DAGMan's node status file\">#4115</a></span>: Merged V8_0-gittrac_4209-branch to V8_1-gittrac_4115-branch so I'm starting from the latest version of the node status file code for this.  (By Kent Wenger )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-May-13 10:28", "status": "resolved", "created": "2013-Dec-12 07:48", "fixed_version": "2013-Dec-12 07:48", "broken_version": "v080102", "priority": "1", "subsystem": "Dag", "assigned_to": "wenger", "derived_from": "#4198", "creator": "bbockelm", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "wenger@cs.wisc.edu, bbockelm@cse.unl.edu, tannenba@cs.wisc.edu, adesmet@cs.wisc.edu,zmiller@cs.wisc.edu", "due_date": ""}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-pathfacility/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-pathfacility/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-pathfacility/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-pathfacility/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-pathfacility/assets/images/favicons/safari-pinned-tab.svg" color="#d31145">
    <link rel="shortcut icon" href="/web-preview/preview-pathfacility/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-pathfacility/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <script src="/web-preview/preview-pathfacility/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-pathfacility/assets/js/header.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-pathfacility/assets/js/bootstrap.js" type="text/javascript"></script>

    

    

        <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-pathfacility/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-pathfacility/assets/css/cvstrac.10.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-pathfacility/assets/css/cvstrac.tj.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    
        <link href="/web-preview/preview-pathfacility/assets/css/diff2html.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

    

</head>
<body class="d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>


<header id="header" class="">
    <div class="container-xxl">
        <nav id="mobile-header" class="py-3 d-flex d-lg-none navbar navBar navbar-expand-lg navbar-light w-100">
            <a href="/web-preview/preview-pathfacility/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-pathfacility/assets/images/HTCondor_red_blk_classic.png" style="border:0"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mobile-navbar" aria-controls="mobile-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mobile-navbar">
                <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="software-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
        <ul class="dropdown-menu" aria-labelledby="software-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/release-highlights/">Release Highlights</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/release-plan/">Release Schedule</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor-CE
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-ce/overview/">Overview</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-ce/download/">Download</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-ce/documentation/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-ce/release-highlights/">Release Highlights</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        General
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/new.html">News</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/security/">Security</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/manual/">Documentation</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/downloads/">Download</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="help-and-support-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
        <ul class="dropdown-menu" aria-labelledby="help-and-support-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Documentation
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor/documentation/">HTCondor</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-ce/documentation/">HTCondor-CE</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Support
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/uw-support/">HTCSS Contract Support</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/mail-lists/#user">Community Mailing List</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/htcondor-support/#external-support-options">External Support Organizations</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="community-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
        <ul class="dropdown-menu" aria-labelledby="community-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Email Lists
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/mail-lists/#user">Users</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/mail-lists/#world">World</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/mail-lists/#developer">Developers</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCondor Week
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://agenda.hep.wisc.edu/event/1733/">Most Recent</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/past_condor_weeks.html">Workshop Archives</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item" href="/web-preview/preview-pathfacility/featured-users.html" >
        Featured Users
    </a>
    
</li>
            
        </ul>
    
</li>
                    
                        




<li class="nav-item dropdown">
    
        <a class="nav-link dropdown-toggle" href="#" id="about-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
        <ul class="dropdown-menu" aria-labelledby="about-toggle">
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        HTCSS
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/description.html">What is HTCSS?</a></li>
        
            <li><a class="dropdown-item" href="/web-preview/preview-pathfacility/logos/">Logos</a></li>
        
    </ul>
    
</li>
            
                

<li class="dropdown">
    
    <a class="dropdown-item dropdown-toggle" href="#" id="-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        CHTC
    </a>
    <ul class="dropdown-menu" aria-labelledby="-toggle">
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></li>
        
            <li><a class="dropdown-item" href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></li>
        
    </ul>
    
</li>
            
        </ul>
    
</li>
                    
                    <li class="nav-item mt-2">
                        <div style="height:40px; width: 250px;">
                            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="desktop-header" class="d-none d-lg-block">
            <nav class="navbar py-3 navBar navbar-expand-lg navbar-light w-100">
                <a href="/web-preview/preview-pathfacility/index.html"><img height="50" alt="Condor High Throughput Computing" src="/web-preview/preview-pathfacility/assets/images/HTCondor_red_blk_classic.png"></a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-2 mt-auto">
                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="software-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Software
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="help-and-support-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Help & Support
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="community-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            Community
        </a>
    </li>




                        
                            



    <li class="nav-item">
        <a class="nav-link drawer-toggle dropdown-toggle" href="#" id="about-desktop-toggle" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
            About
        </a>
    </li>




                        
                    </ul>
                    <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                        <li class="nav-item ms-2">
                            <div style="height:40px; width: 250px;">
                                

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div id="header-drawer" class=" d-none d-lg-block" hidden>
        <div class="container-xxl">
            <div id="software-desktop-drawer" class="drawer row justify-content-center" hidden>

                








                

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/release-highlights/">Release Highlights</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/release-plan/">Release Schedule</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor-CE</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/overview/">Overview</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/download/">Download</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/documentation/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/release-highlights/">Release Highlights</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>General</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/new.html">News</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/security/">Security</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/manual/">Documentation</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/downloads/">Download</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h3><a class="text-decoration-none" href="/web-preview/preview-pathfacility/news/Registration-for-HTCondor-Week-Europe-open/">Registration now open for HTCondor workshop in Europe</a></h3>
                            <div>
                                <span class="text-muted">August 29, 2022</span>
                            </div>
                            <hr/>
                            <a href="/web-preview/preview-pathfacility/new.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-pathfacility/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Software News
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div id="help-and-support-desktop-drawer" class="drawer row justify-content-center" hidden>

                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Documentation</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor/documentation/">HTCondor</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/documentation/">HTCondor-CE</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Support</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/uw-support/">HTCSS Contract Support</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/mail-lists/#user">Community Mailing List</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/htcondor-support/#external-support-options">External Support Organizations</a></td></tr>
                
            </table>
        </div>
    


            </div>
            <div id="community-desktop-drawer" class="drawer row justify-content-center" hidden>

                








                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>Email Lists</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/mail-lists/#user">Users</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/mail-lists/#world">World</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/mail-lists/#developer">Developers</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCondor Week</th></tr>
                
                    <tr><td><a href="https://agenda.hep.wisc.edu/event/1733/">Most Recent</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/past_condor_weeks.html">Workshop Archives</a></td></tr>
                
            </table>
        </div>
    

    


                <div class="d-none d-md-block col-lg-4 my-2">
                    <a href="/web-preview/preview-pathfacility/featured-users.html"><b>Featured Users</b></a>
                    


                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-pathfacility/featured-users/2022-07-21-Messick.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                LIGO's Search for Gravitational Waves Signals Using HTCondor
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July 21, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-pathfacility/featured-users/2022-07-12-Wilcots.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                The Future of Radio Astronomy Using High Throughput Computing
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July 12, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-pathfacility/featured-users/2022-07-06-Fulvio.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Using high throughput computing to investigate the role of neural oscillations in visual working memory
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                    <div class="my-2">
                        

<a class="text-decoration-none d-block hover-border rounded h-100" href="/web-preview/preview-pathfacility/featured-users/2022-07-06-Garcia.html">


    <div class="card border-0 ">
        <div class="p-2 d-flex flex-column">
            <h6 class="text-decoration-none mb-1">
                Using HTC and HPC Applications to Track the Dispersal of Spruce Budworm Moths
            </h6>
            <div>
                <span class="text-muted text-decoration-none">July  6, 2022</span>
            </div>
        </div>
    </div>


</a>

                    </div>
                    
                </div>
                <div class="d-none d-xl-block col-xl-4 my-2">
                    <div class="card h-100">
                        <img src="https://raw.githubusercontent.com/CHTC/Articles/main/images/Spectrometer.jpg" class="card-img-top" alt="Card Image">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-pathfacility/featured-users/2022-04-25-Natzke.html">Learning and adapting with OSG: Investigating the strong nuclear force</a></h5>
                            <hr/>
                            <a href="/web-preview/preview-pathfacility/featured-users.html">
                                <div class="row">
                                    <div class="col-auto d-flex">
                                        <img class="my-auto" height="30" src="/web-preview/preview-pathfacility/assets/images/arrow-up-right-circle.svg" />
                                    </div>
                                    <div class="col">
                                        View All Featured Users
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="about-desktop-drawer" class="drawer row justify-content-center" hidden>



                
                
                

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>HTCSS</th></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/description.html">What is HTCSS?</a></td></tr>
                
                    <tr><td><a href="/web-preview/preview-pathfacility/logos/">Logos</a></td></tr>
                
            </table>
        </div>
    

    
        <div class="col-auto mx-4 my-2 z-99">
            <table>
                <tr><th>CHTC</th></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/people">Staff &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/jobs">Jobs &#11023;</a></td></tr>
                
                    <tr><td><a href="https://chtc.cs.wisc.edu/research">Research & Publications &#11023;</a></td></tr>
                
            </table>
        </div>
    


                <div class="d-none d-lg-block col-lg-4">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h5><a class="text-decoration-none" href="/web-preview/preview-pathfacility/description.html">What is HTCSS?</a></h5>
                            <hr class="mb-2">
                            <div>
                                HTCondor Software Suite (HTCSS) provides an array of services for automating
                                and managing batch workloads and computing resources.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<main id="main-copy" tabindex="-1">
    <div class="bg-light mb-4">
    <hr class="m-0">
    <div class="container-xxl py-2">
        <span class="fs-3">Creating Condor Pools At Amazon</span>
    </div>
    <hr class="m-0">
</div>
<div class="container-xxl pb-4">
    <div id="content">
 One approach to using cloud resources to run HTCondor jobs is to use the
 <code>
  condor_annex
 </code>
 tool to expand an existing pool onto the cloud (see
 <span class="wiki">
  <a href="/web-preview/preview-pathfacility/wiki-archive/pages/HowToUseCondorAnnexWithOnDemandInstances/index.html" title="How To Use Condor Annex With On Demand Instances">
   HowToUseCondorAnnexWithOnDemandInstances
  </a>
 </span>
 ).  Another approach, documented here, is to create a new HTCondor pool entirely in the cloud.  Although this approach doesn't allow jobs already in a queue to run on cloud resources, it has the advantage that all file-transfer between the queue and the execute nodes occurs within the cloud, which could lead to substantial performance improvements and cost reductions.
 <p>
  The HTCondor team maintains an AWS Marketplace entry to help simplify the process of creating an HTCondor pool at Amazon.
 </p>
 <p>
  To follow these instructions you must already have an AWS account.
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Log into AWS
 </h2>
 <p>
  The first step is to log in to
  <a class="external" href="https://console.aws.amazon.com">
   AWS
  </a>
  .
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Overview
 </h2>
 <p>
  The general approach will be to use the Marketplace entry to start a
  <em>
   head node
  </em>
  , which will be the brains of the new HTCondor pool, as well as be where you'll log in to and submit jobs from.  Once the head node is up and running, you'll use
  <code>
   condor_annex
  </code>
  to add cloud resources to your new pool.  Then you can start running jobs, and when they're done, shut everything down.
 </p>
 <p>
 </p>
 <ol>
  <li>
   Launch HTCondor in the Cloud
   <ol>
    <li>
     Create a Key Pair
    </li>
    <li>
     Start a Head Node
    </li>
   </ol>
  </li>
  <li>
   Add Cloud Resources to Your New Pool
   <ol>
    <li>
     Log into your Head Node
    </li>
    <li>
     Obtain an Access Key
    </li>
    <li>
     Prepare Account
    </li>
    <li>
     Add Cloud Resources
    </li>
   </ol>
  </li>
  <li>
   Run Jobs
  </li>
  <li>
   Clean Up
   <ol>
    <li>
     The Cloud Resources
    </li>
    <li>
     The Head Node
    </li>
   </ol>
  </li>
 </ol>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  1 Launch HTCondor in the Cloud
 </h2>
 <p>
  In this section, you'll launch HTCondor in the Cloud by starting a head node.  A head node needs an address and, for security, a lock.  AWS will automatically provide the address, but you need to do a little work to make sure the lock is one for which you have a key.  For technical reasons, AWS refers to these lock/key pairs as just "key pairs".  If you already have one (if, for instance, you're following these instructions a second time), you can skip to section 1.2, but creating another key pair won't cause problems.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  1.1 Create a Key Pair
 </h3>
 <p>
 </p>
 <ol>
  <li>
   Go to the
   <a class="external" href="https://console.aws.amazon.com/ec2/home?#KeyPairs:sort=keyName">
    EC2 key pair console
   </a>
   .
  </li>
  <li>
   Click the blue "Create Key Pair" button in the upper left.
  </li>
  <li>
   Enter a name; "HTCondorKeyPair" would be fine.  Click the blue "Create" button.
  </li>
  <li>
   Your browser will probably bring up a dialog box asking you what to do with "HTCondorKeyPair.pem".  (It may just start saving it for you.)  Save it some place you won't accidentally delete it and make a note of the location.
  </li>
 </ol>
 <p>
  When you later connect to your head node, you'll need to know the location of "HTCondorKeyPair.pem" so you can specify that file.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  1.2 Start a Head Node
 </h3>
 <p>
 </p>
 <ol>
  <li>
   Open HTCondor's
   <a class="external" href="https://aws.amazon.com/marketplace/pp/B073WHVRPR">
    Marketplace entry
   </a>
   in another tab.
  </li>
  <li>
   Click the orange 'Continue to Subscribe' button.
  </li>
  <li>
   Click the orange 'Accept Terms' button to actually subscribe.
  </li>
  <li>
   You'll have to wait a while before you can click on the orange 'Continue to Configuration' button.
  </li>
  <li>
   Click the orange 'Continue to Launch' button to accept the default configuration.
  </li>
  <li>
   Scroll down to 'Security Group Settings' and click on the 'Create New Based On Seller Settings' button.  You'll have to name and escribe the security group; "HTCondor Security Group" would be a fine name.  "Allows SSH and HTCondor from anywhere" is a true description.  (It is more secure to change the two drop-down boxes from 'Anywhere' to 'My Ip', but that doesn't always work, especially if you're on a laptop.)  Finally, click 'Save'.
  </li>
  <li>
   Scroll down to 'Key Pair Settings' and make sure the key pair you created in section 1.1 is selected.
  </li>
  <li>
   You will start spending money when you click on the orange 'Launch' button.
  </li>
  <li>
   Click on the 'Your Software' link in the green box.  Leave that tab open; you'll need it later.
  </li>
 </ol>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  2 Add Cloud Resources to Your New Pool
 </h2>
 <p>
  Your head node (by default) starts with two CPUs and 8 GiB of RAM.  Immediately after you log in -- see section 2.1 -- you can start submitting and running jobs (see section 3).  However, with only two CPUs, you'll only be able to run two jobs at a time.  To add cloud resources to your pool, you'll use
  <code>
   condor_annex
  </code>
  .  To do that, you'll need to obtain an access key for
  <code>
   condor_annex
  </code>
  , so
  <code>
   condor_annex
  </code>
  can act interact with AWS on your behalf.  You'll only need to do that once.  Likewise,
  <code>
   condor_annex
  </code>
  has to do some one-time set-up for each account.  Once that's done, you can run
  <code>
   condor_annex
  </code>
  to add cloud resources as often as you like.
 </p>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  2.1 Log into your Head Node
 </h3>
 <p>
 </p>
 <ol>
  <li>
   Find the HTCondor entry (in the tab from section 1.2) and click the 'View Instances' button.
  </li>
  <li>
   There should only be one instance; click on the "Manage in AWS Console" link.  This will bring up the EC2 console with your head node selected.
  </li>
  <li>
   Right-click on the selected instance and select 'Connect'.  Follow the instructions, except that the username is 'ec2-user', not 'root'.
  </li>
 </ol>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  2.2 Obtain an Access Key
 </h3>
 <p>
  Just being able to log into an EC2 instance doesn't give you the privilege to start additional EC2 instances.  In order to use add cloud resources to your new pool, HTCondor needs a pair of security tokens (like a user name and password). Like a user name, the "access key" is (more or less) public information; the corresponding "secret key" is like a password and must be kept a secret. To help keep both halves secret, you never tell HTCondor these keys directly; instead, you tell HTCondor which file to look in to find each one.
 </p>
 <p>
  Create those two files now; we'll tell you how to fill them in shortly.  By convention, these files exist in your
  <code>
   ~/.condor
  </code>
  directory.  In this document, shaded boxes indicate typing in a terminal; you should copy the lines beginning with $, but don't include the $.  The other lines shown in the boxes are the responses you should expect to see.
 </p>
 <p>
 </p>
 <div class="term">
  <pre class="term">$ cd ~/.condor
$ touch publicKeyFile privateKeyFile
$ chmod 600 publicKeyFile privateKeyFile
</pre>
 </div>
 <p>
  The last command ensures that only you can read or write to those files.
 </p>
 <p>
  If you saved your security tokens from the last time you used
  <code>
   condor_annex
  </code>
  , copy them into the files you just created and skip to section 2.3.
 </p>
 <p>
  To download a new pair of security tokens for
  <code>
   condor_annex
  </code>
  to use, go to the
  <a class="external" href="https://console.aws.amazon.com/iam/home#users">
   IAM console
  </a>
  .
 </p>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  2.2.1 Privileged (Administrator) Accounts
 </h4>
 <p>
  The following instructions assume you are logged in as a user with the privilege to create new users.  (The 'root' user for any account has this privilege; other accounts may as well.)  If your account has more limited privileges, skip to section 2.2.2.
 </p>
 <p>
 </p>
 <ol>
  <li>
   Click the "Add User" button.
  </li>
  <li>
   Enter name in the
   <strong>
    User name
   </strong>
   box; "annex-user" is a fine choice.
  </li>
  <li>
   Click the check box labelled "Programmatic access".
  </li>
  <li>
   Click the button labelled "Next: Permissions".
  </li>
  <li>
   Select "Attach existing policies directly".
  </li>
  <li>
   Type "
   <span class="wiki">
    <a class="missing" href="/web-preview/preview-pathfacility/wiki-archive/pages/AdministratorAccess/index.html" title="Administrator Access">
     AdministratorAccess
    </a>
   </span>
   " in the box labelled "Filter".
  </li>
  <li>
   Click the check box on the single line that will appear below (labelled "
   <span class="wiki">
    <a class="missing" href="/web-preview/preview-pathfacility/wiki-archive/pages/AdministratorAccess/index.html" title="Administrator Access">
     AdministratorAccess
    </a>
   </span>
   ").
  </li>
  <li>
   Click the "Next: review" button (you may need to scroll down).
  </li>
  <li>
   Click the "Create user" button.
  </li>
  <li>
   From the line labelled "annex-user", copy the value in the column labelled "Access key ID" to
   <code>
    publicKeyFile
   </code>
   .  Also copy this value to your laptop or desktop computer; you'll want to have the value if you use
   <code>
    condor_annex
   </code>
   again.
  </li>
  <li>
   On the line labelled "annex-user", click the "Show" link in the column labelled "Secret access key"; copy the revealed value to
   <code>
    privateKeyFile
   </code>
   .  Also copy this value your laptop or desktop computer; you'll want to have the value if you use
   <code>
    condor_annex
   </code>
   again.
  </li>
  <li>
   Hit the "Close" button.
  </li>
 </ol>
 <p>
  The 'annex-user' now has full privileges to your account.  We're working on creating a
  <span class="wiki">
   <a class="missing" href="/web-preview/preview-pathfacility/wiki-archive/pages/CloudFormation/index.html" title="Cloud Formation">
    CloudFormation
   </a>
  </span>
  template that will create a user with only the privileges
  <code>
   condor_annex
  </code>
  actually needs.  Skip to section 2.3.
 </p>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  2.2.2 Non-Privileged (Non-Administrator) Accounts
 </h4>
 <p>
  If you're using an account with limited privileges, your administrator may have already given you the credentials.  If not, you may be able to create credentials for yourself at the
  <a class="external" href="https://console.aws.amazon.com/iam/home#users">
   IAM console
  </a>
  .
 </p>
 <p>
 </p>
 <ol>
  <li>
   Click on your user name.
  </li>
  <li>
   Click on the "security credentials" tab.
  </li>
  <li>
   Click the "Create access key" button.
  </li>
  <li>
   Copy the value in the column labelled "Access key ID" to
   <code>
    publicKeyFile
   </code>
   .  Also copy this value to your laptop or desktop computer; you'll want to have the value if you use
   <code>
    condor_annex
   </code>
   again.
  </li>
  <li>
   Click the "Show" link in the column labelled "Secret access key"; copy the revealed value to
   <code>
    privateKeyFile
   </code>
   .  Also copy this value to your laptop or desktop computer; you'll want to have the value if you use
   <code>
    condor_annex
   </code>
   again.
  </li>
  <li>
   Hit the "Close" button.
  </li>
 </ol>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  2.3 Prepare your Account
 </h3>
 <p>
  The following command will prepare your AWS account for
  <code>
   condor_annex
  </code>
  .
  <code>
   condor_annex
  </code>
  will create a number of persistent components, none of which will cost you anything to keep around.  These components can take quite some time to create;
  <code>
   condor_annex
  </code>
  checks each for completion every ten seconds and prints an additional dot (past the first three) each time, to let you know that everything's still working.
 </p>
 <p>
 </p>
 <div class="term">
  <pre class="term">$ condor_annex -setup
Creating configuration bucket (this takes less than a minute)....... complete.
Creating Lambda functions (this takes about a minute)........ complete.
Creating instance profile (this takes about two minutes)................... complete.
Creating security group (this takes less than a minute)..... complete.
Setup successful.
</pre>
 </div>
 <p>
  <span class="subsubsection">
  </span>
 </p>
 <h4>
  2.3.1 Verify Account Preparation
 </h4>
 <p>
  You can verify at this point (or any later time) that the account-preparation procedure completed successfully by running the following command.
 </p>
 <p>
 </p>
 <div class="term">
  <pre class="term">$ condor_annex -check-setup
Checking for configuration bucket... OK.
Checking for Lambda functions... OK.
Checking for instance profile... OK.
Checking for security group... OK.
Your setup looks OK.
</pre>
 </div>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  2.4 Add Cloud Resources
 </h3>
 <p>
  Run the following command; if you type 'yes',
  <code>
   condor_annex
  </code>
  will add ten instances to the pool for no more than 24 hours:
 </p>
 <p>
 </p>
 <div class="term">
  <pre class="term">$ condor_annex -count 10 -duration 24 -annex-name MyFirstAnnex
Will request 10 m4.large on-demand instance for 24 hours.  Each instance will terminate after being idle for 0.25 hours.
Is that OK?  (Type 'yes' or 'no'): yes
Starting annex...
Annex started.  Its identity with the cloud provider is
'MyFirstAnnex_f2923fd1-3cad-47f3-8e19-fff9988ddacf'.  It will take about three minutes for the new machines to join the pool.
</pre>
 </div>
 <p>
  Read the
  <a class="external" href="https://htcondor-wiki.cs.wisc.edu/index.cgiwiki?p=HowToUseCondorAnnexWithOnDemandInstancesEightSevenTwo">
   complete introduction
  </a>
  for more information; skip the "Using HTCondor Annex for the First Time" section, since you already have.
 </p>
 <p>
  <a class="external" href="http://research.cs.wisc.edu/htcondor/manual/v8.7/6_Cloud_Computing.html">
   Complete documentation
  </a>
  is also available.
 </p>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  3 Run Jobs
 </h2>
 <p>
  If you're new to HTCondor, you should consult the
  <a class="external" href="http://research.cs.wisc.edu/htcondor/manual/quickstart.html">
   quick start guide
  </a>
  .
 </p>
 <p>
  You may also wish to read
  <a class="external" href="https://agenda.hep.wisc.edu/event/1201/session/4/contribution/5/material/slides/1.pdf">
   the slides
  </a>
  from our user tutorial.
 </p>
 <p>
 </p>
 <ul>
  <li>
   To run on your new resources, a job's submit file must contain the following line:
  </li>
 </ul>
 <p>
 </p>
 <div class="verbatim">
  <pre>+MayUseAWS = TRUE
</pre>
 </div>
 <p>
 </p>
 <ul>
  <li>
   The new resources do
   <em>
    not
   </em>
   share a file system with the head node, so you'll need to use file transfer:
  </li>
 </ul>
 <p>
 </p>
 <div class="verbatim">
  <pre>should_transfer_files = TRUE
</pre>
 </div>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  4 Clean Up
 </h2>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  4.1 The Cloud Resources
 </h3>
 <p>
  One of the benefits of using
  <code>
   condor_annex
  </code>
  is that the cloud resources in acquires will automatically terminate after a certain amount of time (24 hours in the example above).  This happens even if the instance is running a job at the time, to make sure that misbehaving jobs don't cause you to spend more than you intended.  Additionally, if at any time it's been too long (15 minutes by default) since an instance ran a job, the instance will shut itself down to save you money.  However, if you'd like to shut down the instances early, you can do so using the
  <code>
   condor_off
  </code>
  command, replacing
  <code>
   MyFirstAnnex
  </code>
  with the name of the annex you'd like to shut down:
 </p>
 <p>
 </p>
 <div class="term">
  <pre class="term">$ condor_off -annex MyFirstAnnex
</pre>
 </div>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  4.2 The Head Node
 </h3>
 <p>
  As noted above, you'll need to clean the head node up yourself.  If you don't want to keep any of your changes, then you should "terminate" the head node to avoid paying for storage.  If you just want to save money and pick up where you left off a bit later, you should instead "stop" the head node; you'll pay to keep its disk around until you start the head node again later.  Both options are under "Instance State" if you right-click on the instance in the EC2 console.
 </p>
</div>

</div>
</main>
<footer id="footer" class="bg-light pt-4 mt-auto">
    <div class="container-xxl">
        <div class="row justify-content-center">
            <div class="col-auto me-5 d-none d-lg-flex">
                <img class="my-auto" height="120" alt="Condor High Throughput Computing" src="/web-preview/preview-pathfacility/assets/images/CondorAlpha.png" />
            </div>
            <div class="col-12 col-sm-10 col-lg-7">
                <div class="row justify-content-between my-2">
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Suite</th></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/htcondor/overview/">HTCondor</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/htcondor-ce/overview/">HTCondor-CE</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Software</th></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/manual/">Documentation</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/downloads/">Download</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/security//">Security</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/license.html">License</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Community</th></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/mail-lists/">Email Lists</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/past_condor_weeks.html">HTCondor Week</a></td></tr>
                        </table>
                    </div>
                    <div class="col-auto my-2">
                        <table>
                            <tr><th>Support</th></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/uw-support/">Internal Contract</a></td></tr>
                            <tr><td><a href="/web-preview/preview-pathfacility/htcondor-support#external-support-options">External Organizations</a></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-4 justify-content-center">
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://ls.wisc.edu/">
                    

<div style="height:75px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-pathfacility/assets/images/UW_Madison_Logo.webp">
        <img class="h-100" src="/web-preview/preview-pathfacility/assets/images/UW_Madison_Logo.png" alt="UW-Madison Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="px-3 d-block m-auto" href="https://www.nsf.org">
                    

<div style="height:100px;">
    <picture>
        <source type="image/webp" srcset="/web-preview/preview-pathfacility/assets/images/NSF_Logo.webp">
        <img class="h-100" src="/web-preview/preview-pathfacility/assets/images/NSF_Logo.jpg" alt="NSF Logo">
    </picture>
</div>

                </a>
            </div>
            <div class="col-auto d-flex">
                <a class="d-block m-auto" href="https://morgridge.org/">
                    <img class="" height="40" src="/web-preview/preview-pathfacility/assets/images/Morgridge_Logo.svg" alt="Morgridge Logo" />
                </a>
            </div>
        </div>
        <hr>
        <div class="row py-3">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
            </div>
        </div>
        <div class="row justify-content-center pb-4">
            <div class="col-lg-8 text-center">
                <span class="text-center">
                    If you are looking for Phoenix Software International's software development and library management system for z/VSE or z/OS, you can find more information on their <a href="http://www.phoenixsoftware.com">website</a>.
                </span>
            </div>
        </div>
    </div>
</footer>



</body>
</html>

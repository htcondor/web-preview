{"id": 301, "title": "Ticket #301: recovery after gridmanager restart slow for gt2 jobs", "description": "<blockquote>\nWhen the gridmanager restarts, it starts up and shuts down jobmanagers for all of its gt2 jobs. It does this so that it knows the expiration time of the delegated proxy, which isn't stored persistently on the client side. This can take a long time if there are a lot of jobs.\n\n<p>If we stored the expiration time of the delegated proxy in the job ad, we avoid this large amount of unnecessary work.</p></blockquote>", "remarks": "<blockquote>\n<em>2009-Oct-05 10:05:12 by jfrey:</em> <br/>\n\n<span class=\"quote\">DelegatedProxyExpiration</span> needs to be set for non-gt2 grid jobs. It also needs to be documented.\n\n<p></p><hr/>\n<em>2009-Dec-08 16:37:56 by jfrey:</em> <br/>\n\nWe'll leave <span class=\"quote\">DelegatedProxyExpiration</span> only for gt2 jobs for now. We'll add it as needed for other job types.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-May-20 13:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3b3e4159f22c5430c986073fa9ae1064313833ce\">[14739]</a></span>: Fix bug in code to prevent gt2 jobmanager restarts on gridmanager restart An expression in commit e5e9a0b2 had a typo. gittrac <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=301\" onclick=\"get_ticket_and_populate_wrapper('301'); return false;\" title=\"recovery after gridmanager restart slow for gt2 jobs\">#301</a></span>  (By Jaime Frey )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Apr-10 14:08</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e5e9a0b2fb0cd35bf7299f1ba931a228bffc7ce3\">[14457]</a></span>: Avoid restarting all gt2 jobmanagers when gridmanager restarts. When the gridmanager restarted after a crash, it no longer restarts and stops the jobmanagers for all its gt2 jobs. To allow this, there is a new job attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=DelegatedProxyExpiration\" title=\"Delegated Proxy Expiration\">DelegatedProxyExpiration</a></span>, which persistently stores the expiration time of the\u00a0[...]\n (By Jaime Frey )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jan-31 13:16", "status": "resolved", "created": "2009-Mar-05 12:21", "fixed_version": "2009-Mar-05 12:21", "broken_version": "", "priority": "4", "subsystem": "Grid", "assigned_to": "jfrey", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
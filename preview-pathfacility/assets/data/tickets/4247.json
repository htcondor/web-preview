{"id": 4247, "title": "Ticket #4247: Sorting IPv6 reports", "description": "<blockquote>\nThis is a temporary space where I'm sorting out issues and patches from one of our contributors.  He reports that all of these are true in 8.1.1 and 8.1.3:\n\n<p></p><ul>\n<li>The address rewrite in ConvertDefaultIPToSocketIP does not add square brackets in case it needs to insert an IPv6 address. This results in unusable 'MyAddress' attributes with no square brackets.  This occurs for instance when the machine hostname doesn't resolve to IPv6, but a (reachable) IPv6 central manager is used. See attached patch 1-my_hostname_rewrite_ipv6_addresses.patch  for details.\n\n<p></p></li><li>When trying to run standard universe jobs and HIGHPORT/LOWPORT are configured, the version of bindWithin in src/condor_utils/internet.cpp will try binding an IPv6 socket to IPv4's INADDR_ANY. I added IPv6 support to that bindWithin in attached patch 2-std_shadow_bindwithin_ipv6.patch.\n\n<p></p></li><li><span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4243\" onclick=\"get_ticket_and_populate_wrapper('4243'); return false;\" title=\"Support submission to CREAM via IPv6\">#4243</a></span> <div class=\"strike\">\n<strike>The GSOAP version used to assemble the external cream dependency has IPv6 disabled. This is addressed by the CMakeLists.txt patch in 3-cream_enable_ipv6_gsoap.patch.</strike></div>\n\n\n<p></p></li><li><span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4243\" onclick=\"get_ticket_and_populate_wrapper('4243'); return false;\" title=\"Support submission to CREAM via IPv6\">#4243</a></span> <div class=\"strike\">\n<strike>The org.glite.security.gss module that is downloaded as part of the same cream external bundle has IPv6 disabled. This is addressed in recent versions of the module. See glite_css.c in this GIT project https://github.com/CESNET/glite-legacy/tree/master/org.glite.security.gss </strike></div>\n\n\n<p></p></li><li><span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4243\" onclick=\"get_ticket_and_populate_wrapper('4243'); return false;\" title=\"Support submission to CREAM via IPv6\">#4243</a></span> <div class=\"strike\">\n<strike>The gridftp file transfer function in nordugrid_gahp (used by cream_gahp as well) has IPv6 disabled. This should probably be patched by honoring the GLOBUS_FTP_CLIENT_IPV6 env variable as was done in Globus Toolkit v5.2.5 (see http://jira.globus.org/browse/GT-425.  See patch 4-gahp_gridftp_transfer_ipv6.patch</strike></div>\n</li></ul>\n</blockquote>", "remarks": "<blockquote>\nI believe all of these have been resolved?</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/824/1-my_hostname_rewrite_ipv6_addresses.patch\">1-my_hostname_rewrite_ipv6_addresses.patch</a>\n1531 bytes added by adesmet on 2014-Mar-06 00:16:43 UTC.\n</li><li><a href=\"../files/825/2-std_shadow_bindwithin_ipv6.patch\">2-std_shadow_bindwithin_ipv6.patch</a>\n1673 bytes added by adesmet on 2014-Mar-06 00:16:51 UTC.\n</li><li><a href=\"../files/826/3-cream_enable_ipv6_gsoap.patch\">3-cream_enable_ipv6_gsoap.patch</a>\n1215 bytes added by adesmet on 2014-Mar-06 00:16:59 UTC.\n</li><li><a href=\"../files/827/4-gahp_gridftp_transfer_ipv6.patch\">4-gahp_gridftp_transfer_ipv6.patch</a>\n638 bytes added by adesmet on 2014-Mar-06 00:17:08 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "", "type": "todo", "last_change": "2015-May-28 13:02", "status": "resolved", "created": "2014-Mar-05 18:16", "fixed_version": "2014-Mar-05 18:16", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "adesmet", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "adesmet@cs.wisc.edu", "due_date": ""}
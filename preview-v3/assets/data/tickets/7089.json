{"id": 7089, "title": "Ticket #7089: condor_annex -aws-spot-fleet UX missing defaults", "description": "<blockquote>\n<code>condor_annex</code> does not set the instance profile, security group(s), or SSH key if the user-supplied JSON does not.  This should not be a difficult fix (although I'm not convinced that the patch works).  The problem is that the web console used to create the JSON can supply values for those attributes, and <code>condor_annex</code> can't tell if those are non-default values supplied by an expert user, or if they should be over-ridden.\n\n<p>Instead, we could provide a preprocessing tool (or flag to <code>condor_annex</code>) which set those three attributes to their defaults (and removed <code>ValidFrom</code> and <code>ValidUntil</code>, which otherwise seem likely to cause trouble).</p></blockquote>", "remarks": "<blockquote>\n<em>2019-Jun-05 15:35:47 by tlmiller:</em> <br/>\n\nThe requirement to select the instance profile is <a class=\"external\" href=\"http://htcondor.readthedocs.io/en/latest/cloud-computing/annex-users-guide.html\">documented</a>, but it does not mention security groups or key pair names.\n\n<p>The documentation should be updated to include them for the 8.8 series; that section should be removed when this ticket is done.\n\n</p><p></p><hr/>\n<em>2019-Jul-10 15:58:23 by tlmiller:</em> <br/>\n\nCode is off on a branch, so I'm just rolling this ticket forward and moving the documentation changes to their own ticket.\n<hr/>\n<em>2020-Apr-10 07:46:13 by tim:</em> <br/>\n\nBulk change of target version from v080906 to v080907 using ticket-target-mover.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7146\" onclick=\"get_ticket_and_populate_wrapper('7146'); return false;\" title=\"Improve condor_annex's Spot Fleet documentation\">#7146</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nImprove condor_annex's Spot Fleet documentation</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2019-Jun-05 14:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/abf532a8d358f3cc16074f80584fa85530564022\">[57113]</a></span>: (<span class=\"ticket\"><a class=\"active\" href=\"/wiki-archive/tickets/?ticket=7089\" onclick=\"get_ticket_and_populate_wrapper('7089'); return false;\" title=\"condor_annex -aws-spot-fleet UX missing defaults\">#7089</a></span>) Use the ODI defaults for SFR instance profile, key name, and security group IDs.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-Nov-09 12:32", "status": "active", "created": "2019-Jun-03 15:58", "fixed_version": "2019-Jun-03 15:58", "broken_version": "", "priority": "2", "subsystem": "Annex", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "lsst", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, gthain@cs.wisc.edu", "due_date": ""}
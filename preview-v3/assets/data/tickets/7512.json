{"id": 7512, "title": "Ticket #7512: Prevent FileTransfer from publishing sensitive URL data", "description": "<blockquote>\nCurrently our <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> object publishes URLs it wants to access to the <code>transfer_history</code> log, job hold messages and in some cases to other log files. In many cases this is very useful for debugging while file transfers are not working. Unfortunately it's also a security concern, since many places where URLs get published are world readable. This is especially true for S3 file transfers, where we publish access token information into the URL.\n\n<p>We want to sanitize URLs in the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=FileTransfer\" title=\"File Transfer\">FileTransfer</a></span> object before publishing them anywhere. One suggestion was to strip all the GET arguments (following the ? character) although I don't think this is a good idea, since very often that information is useful for debugging, also because it's possible for sensitive data to appear before it. I propose that we come up with a whitelist of expressions which we redact or remove completely from the URLs.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2020-Nov-09 12:24", "status": "new", "created": "2020-Feb-19 14:31", "fixed_version": "2020-Feb-19 14:31", "broken_version": "v080905", "priority": "2", "subsystem": "FileTransfer", "assigned_to": "coatsworth", "derived_from": "", "creator": "coatsworth", "rust": "", "customer_group": "other", "visibility": "public", "notify": "coatsworth@cs.wisc.edu, tlmiller@cs.wisc.edu, bbockelman@morgridge.org", "due_date": ""}
{"id": 4407, "title": "Ticket #4407: condor_userprio -grouporder segfault with 12 groups", "description": "<blockquote>\nFrom condor_users - if there 12 or more groups, then <code>condor_userprio -grouporder</code> will segfault in the sort operation on *nix.\n\n<p>The problem appears to be a mis-use of the &amp; operator within the sort function The intent is to sort by the original order that the items were returned from the negotiator, but the code appears to be expecting that only references into vector being sorted are ever passed to the sort function.  This is the case with MSVC but not with gcc.</p></blockquote>", "remarks": "<blockquote>\n<strong>CODE REVIEW</strong>  Reproduced crash before the change, reviewed change, approved, reproduced new non-crashing behaviour</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-19 14:51</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/69fdaed6188221e32abdd5b9e8dd709247285c99\">[40473]</a></span>: minor 8.2.0 version history item edit <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4407\" onclick=\"get_ticket_and_populate_wrapper('4407'); return false;\" title=\"condor_userprio -grouporder segfault with 12 groups\">#4407</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jun-19 12:47</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/50e1a5147979a41490af2e1fe7e678153940f08e\">[40467]</a></span>: Fixed a bug that could segfault condor_userprio -grouporder <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4407\" onclick=\"get_ticket_and_populate_wrapper('4407'); return false;\" title=\"condor_userprio -grouporder segfault with 12 groups\">#4407</a></span> ===VersionHistory:Complete===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2014-Jun-19 13:38", "status": "resolved", "created": "2014-Jun-19 11:45", "fixed_version": "2014-Jun-19 11:45", "broken_version": "v080000", "priority": "4", "subsystem": "Tools", "assigned_to": "johnkn", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "users", "visibility": "public", "notify": "", "due_date": ""}
{"id": 2474, "title": "Ticket #2474: Convert ad-hoc statistics in various daemons to use generic_stats", "description": "<blockquote>\nVarious bits of condor code publish statistical values in various <span class=\"quote\">ClassAds</span>.  Many of these could be converted to use the new generic_stats classes.  The would gain a standard configuration UI for turning publishing on and off, as well as and easy mechanism to have a recent-windowed value for the stat.\n\n<p>In particular, changes would include:\n\n</p><p></p><ul>\n<li>Convert daemon core's self monitor class to use generic statistics\n</li><li>Move <code>DetectedCPUs</code> and <code>DetectedMemory</code> into daemon core's self monitor class\n</li><li>Convert <code>publishNegotiationCycleStats</code> to use generic_stats\n</li><li>Convert <code>collectorStats.publishGlobal</code> to use generic_stats\n</li><li>Fix code in <code>Scheduler::count_jobs()</code> which publishes the SCHEDD add as well as the SUBMITTER so that it doesn't create the SCHEDD ad, then delete 90% of the attribs to turn it into a SUBMITTER ad.\n</li><li>Convert statistics in the <code>Scheduler::Owners</code> array <code>JobsRunning</code> <code>JobsIdle</code> <code>JobsHeld</code> etc to use generic_stats.\n</li><li>Convert the STARTD's availability stats <code>Resource::r_avail_stats</code> to use generic_stats</li></ul>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2012-Oct-17 13:19", "status": "new", "created": "2011-Sep-19 13:08", "fixed_version": "2011-Sep-19 13:08", "broken_version": "v070702", "priority": "3", "subsystem": "", "assigned_to": "johnkn", "derived_from": "#2197", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "eje@cs.wisc.edu; johnkn@cs.wisc.edu;; tstclair@redhat.com", "due_date": ""}
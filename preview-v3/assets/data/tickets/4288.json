{"id": 4288, "title": "Ticket #4288: Move adesmet's #deprecation warnings to actual", "description": "<blockquote>\nIn <a class=\"file\" href=\"rlog?f=src/condor_includes/sock.h\">/src/condor_includes/sock.h</a> on the branch master-ipv6-mixed-mode I (adesmet) used our PRAGMA_REMIND macro to flag functions that need to be eliminated to finish the mixed-mode work.  It just flags the declaration, not uses.  This should move to compiler supported deprecation warnings which can flag uses.  This was rejected earlier as there were portability problems, but johnkn sorted them out and created new macros to use them.  (The key problem was that Windows was disabling all deprecation warnings. <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/665e05627c7bb69ffaa5b3528eccf8833a2af12b\">[39774]</a></span>)\n\n<p>Change the PRAGMA_REMINDS to the new deprecation macros.\n\n</p><p>The lines in question are all in <a class=\"file\" href=\"rlog?f=src/condor_includes/sock.h\">/src/condor_includes/sock.h</a> and look something like:\n\n</p><p></p><pre>    PRAGMA_REMIND(\"adesmet: DEPRECATED\")</pre>\n</blockquote>", "remarks": "<blockquote>\n<em>2014-Mar-31 13:51:19 by adesmet:</em> <br/>\n\nPRAGMA_REMIND or deprecation, these should <em>not</em> end up in master; they'll just annoy other developers. Keep it on the mixed mode branches until they're removed.\n\n<p></p><hr/>\n<em>2018-Jan-16 13:58:59 by jfrey:</em> <br/>\n\nUse of the deprecated methods was removed in 8.3.3, and the methods themselves removed in a merge from the V8_2-branch doen for 8.3.5.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-17 10:06</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0eb29cd9197cbb5060af0f441bf75d26c0103133\">[41653]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span>) Add sanity to condor_sockaddr and our interface enumeration code.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-13 15:00</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/dd78fd7d8698819116b93a8e8dde3e64c5fdaf4d\">[41649]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span> and <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span>) Remove some stray files from the last commit.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Nov-13 14:13</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e1c39dccb64c3d455d1394a45bd2280ea0d247b3\">[41647]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4713\" onclick=\"get_ticket_and_populate_wrapper('4713'); return false;\" title=\"Permit IPv6 &amp; mixed-mode testing (Windows).\">#4713</a></span>; also resolves <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span>) Remove or rewrite deprecated Sock::assign() and Sock::bind() calls, since they were causing us grief.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-May-13 15:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/425c755c38d0f277b03f933e2b715dabb2285df6\">[40118]</a></span>: minor fixes for workfetch on Windows. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4288\" onclick=\"get_ticket_and_populate_wrapper('4288'); return false;\" title=\"Move adesmet's #deprecation warnings to actual\">#4288</a></span> properly handle perl scripts as workfetch scripts, fix deadlock in startd when fetch script does not consume stdin. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2018-Jan-16 13:59", "status": "resolved", "created": "2014-Mar-31 13:50", "fixed_version": "2014-Mar-31 13:50", "broken_version": "", "priority": "4", "subsystem": "", "assigned_to": "adesmet", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}
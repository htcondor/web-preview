{"id": 1976, "title": "Ticket #1976: Send email if job notification is set to Error and job goes on hold", "description": "<blockquote>\nRight now if upon submit notification=error, Condor only emails if the job exits with a signal.  It would be nice if email was also sent if the job is placed on Hold and the <code>ATTR_HOLD_REASON_CODE</code> is not equal to <code>CONDOR_HOLD_CODE_UserRequest</code> (aka, don't send email if the user placed the job on hold via condor_hold).\n\n<p>Note this work would be easier to do consistently across all universes if <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1975\" onclick=\"get_ticket_and_populate_wrapper('1975'); return false;\" title=\"Have schedd use the same Email object as the shadow\">#1975</a></span> is resolved first.\n\n</p><p>Possible STUDENTTASK</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2045\" onclick=\"get_ticket_and_populate_wrapper('2045'); return false;\" title=\"Have gridmanager use the same Email object as the shadow\">#2045</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nHave gridmanager use the same Email object as the shadow</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/325/email.patch\">email.patch</a>\n30191 bytes added by slauson on 2011-Apr-18 17:58:22 UTC.\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-29 10:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/79ee3ebe6be0c73c4785370caac06c5d105c9caf\">[28940]</a></span>: complete documentation of change to Notification=error. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1976\" onclick=\"get_ticket_and_populate_wrapper('1976'); return false;\" title=\"Send email if job notification is set to Error and job goes on hold\">#1976</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-14 09:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/55345337ce7b18a87ce61914b5c0bed4d36b2b5b\">[28759]</a></span>: Version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1976\" onclick=\"get_ticket_and_populate_wrapper('1976'); return false;\" title=\"Send email if job notification is set to Error and job goes on hold\">#1976</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-14 09:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d6323ed821425fe30abb25aadc6d6fad882d673e\">[28757]</a></span>: Send email if job notification is set to ERROR and job goes on hold. Also, refactor email notification code in gridmanager and schedd to use the condor Email class rather than roll-your-own email. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1976\" onclick=\"get_ticket_and_populate_wrapper('1976'); return false;\" title=\"Send email if job notification is set to Error and job goes on hold\">#1976</a></span> ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2011-Dec-29 11:17", "status": "resolved", "created": "2011-Mar-17 08:38", "fixed_version": "2011-Mar-17 08:38", "broken_version": "", "priority": "3", "subsystem": "Libs", "assigned_to": "johnkn", "derived_from": "", "creator": "tannenba", "rust": "", "customer_group": "users", "visibility": "public", "notify": "tannenba@cs.wisc.edu,tstclair@redhat.com", "due_date": "20110816"}
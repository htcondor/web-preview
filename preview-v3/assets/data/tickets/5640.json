{"id": 5640, "title": "Ticket #5640: HoldReasonCode & HoldReasonSubCode is 0 for jobs submitted to CondorCE", "description": "<blockquote>\nWhen a job submitted to CondorCE is held, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReasonCode\" title=\"Hold Reason Code\">HoldReasonCode</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReasonSubCode\" title=\"Hold Reason Sub Code\">HoldReasonSubCode</a></span> is always 0. This is a bummer since in glideinwms factory schedd depends on the code numbers to decide if a held glidein job can be recovered by condor_release. I think there is a similar issue with the jobs submitted to AWS.\n\n<p>To reproduce this problem, submit a job that runs on CondorCE with a extremely short proxy and wait for the proxy to expire.\n\n</p><p>Condor Version tried with:\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=CondorVersion\" title=\"Condor Version\">CondorVersion</a></span> = \"$CondorVersion: 8.4.3 Dec 15 2015 BuildID: 352143 $\"\n\n</p><p>Relevant classad details:\n[root@fermicloud385 condor_g_scratch.0x1b5c760.90795]# grep -i hold /tmp/glidein_classad\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OnExitHold\" title=\"On Exit Hold\">OnExitHold</a></span> = false\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PeriodicHold\" title=\"Periodic Hold\">PeriodicHold</a></span> = false\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReasonSubCode\" title=\"Hold Reason Sub Code\">HoldReasonSubCode</a></span> = 0\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReason\" title=\"Hold Reason\">HoldReason</a></span> = \"Error connecting to schedd fermicloud121.fnal.gov: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using GSI|GSI:5003:Failed to authenticate.  Globus is reporting error (851968:104).  There is probably a problem with your credentials.  (Did you run grid-proxy-init?)|AUTHENTICATE:1004:Failed to authenticate using FS\"\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=HoldReasonCode\" title=\"Hold Reason Code\">HoldReasonCode</a></span> = 0\n<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=NumSystemHolds\" title=\"Num System Holds\">NumSystemHolds</a></span> = 1</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2016-Apr-19 13:28", "status": "new", "created": "2016-Apr-19 13:28", "fixed_version": "2016-Apr-19 13:28", "broken_version": "", "priority": "3", "subsystem": "DaemonsSubmitNode", "assigned_to": "", "derived_from": "", "creator": "parag", "rust": "", "customer_group": "fermi", "visibility": "public", "notify": "parag@fnal.gov timm@fnal.gov", "due_date": ""}
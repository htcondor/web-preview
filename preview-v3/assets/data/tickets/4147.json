{"id": 4147, "title": "Ticket #4147: cmd_status simplification and speedup", "description": "<blockquote>\n<strong class=\"two\">Problems Exist in length of series of tests</strong>\n\n<p>There is a common perl module which sets up a couple personal condors from template files and forever jobs fired from scripts. We can do the same more\nsimply and explicitly using <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartCondorWithParams\" title=\"Start Condor With Params\">StartCondorWithParams</a></span> and <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=SimpleJob\" title=\"Simple Job\">SimpleJob</a></span>.\n\n</p><p>First step was to establish connected personal condor pools utilizing CondorTest::StartCondorWithParams and not do the low level start by hand\nconnecting all the dots the hard way. This was done and all fail on windows\nand only one of the command status tests is currently failing on linux.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-27 16:30</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/892c3efddc5e0a0c5b2691647baeb983f7312af8\">[39246]</a></span>: add -quick option to condor_who for use in test suite <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4147\" onclick=\"get_ticket_and_populate_wrapper('4147'); return false;\" title=\"cmd_status simplification and speedup\">#4147</a></span> -quick modifies -daemons so the result is quick (and possibly stale). ===VersionHistory:None=== not a user visible option.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-24 12:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8f4988c1596e024b9954073ee911aeb50be9a111\">[39237]</a></span>: Switch all the command status tests to using the updated perl module for the shared set up to the tests. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4147\" onclick=\"get_ticket_and_populate_wrapper('4147'); return false;\" title=\"cmd_status simplification and speedup\">#4147</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-17 11:26</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d06623721e974a1d758370678bb77c1e13fdfa38\">[39191]</a></span>: I disliked the temporary name CondorCmdStatusWorker_new.pm But when I renamed it I caught the test calls in but not the package name in the module. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4147\" onclick=\"get_ticket_and_populate_wrapper('4147'); return false;\" title=\"cmd_status simplification and speedup\">#4147</a></span>  (By Bill Taylor )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2014-Jan-17 09:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a5c5d62b319a3eab1592fb28184dec793cbc10ad\">[39183]</a></span>: This cmd_status test is using the new shared perl module which sets up the environment for most of the cmd_status tests before they run. We have moved the start up of the two condor pools to be done with <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=StartCondorWithParams\" title=\"Start Condor With Params\">StartCondorWithParams</a></span>, the new easier way. Only this one test uses the new module yet. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=4147\" onclick=\"get_ticket_and_populate_wrapper('4147'); return false;\" title=\"cmd_status simplification and speedup\">#4147</a></span>  (By Bill Taylor )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2014-Aug-06 11:34", "status": "resolved", "created": "2014-Jan-03 12:22", "fixed_version": "2014-Jan-03 12:22", "broken_version": "", "priority": "4", "subsystem": "Tests", "assigned_to": "bt", "derived_from": "#3594", "creator": "bt", "rust": "", "customer_group": "chtc", "visibility": "public", "notify": "johnkn@cs.wisc.edu", "due_date": ""}
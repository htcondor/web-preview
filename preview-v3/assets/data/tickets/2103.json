{"id": 2103, "title": "Ticket #2103: Control GSI_AUTHZ_CONF environment variable via condor configuration", "description": "<blockquote>\nCondor should set the environment variable GSI_AUTHZ_CONF in an analogous way to how it sets GRIDMAP.  Currently, it does nothing to manage this environment variable.  As of 7.5.6 (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1834\" onclick=\"get_ticket_and_populate_wrapper('1834'); return false;\" title=\"Add support for GSI authz mapping callout\">#1834</a></span>), this environment variable controls where the globus mapping library looks for the mapping callout configuration.\n\n<p>Until Condor provides control over this setting, admins will need to be careful to set this environment variable if desired before launching condor.  This may be particularly important for glideins.  If this variable is unset, glideins that land on a system with /etc/grid-security/gsi-authz.conf will end up calling out to whatever external mapping plugins happen to be configured on the system.  If the glidein ignores the results of the globus mapping, invoking the callout is inefficient.  Even worse: Burt has observed a case where the callout caused the glidein to crash (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2104\" onclick=\"get_ticket_and_populate_wrapper('2104'); return false;\" title=\"condor_master crashed during globus mapping callout\">#2104</a></span>).</p></blockquote>", "remarks": "<blockquote>\n<em>2012-Aug-27 13:47:13 by zmiller:</em> <br/>\n\npatch added in <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2104\" onclick=\"get_ticket_and_populate_wrapper('2104'); return false;\" title=\"condor_master crashed during globus mapping callout\">#2104</a></span> fixes this problem.</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-12 12:01</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/7681d3539a56851318f695d1bb8aaf932bbcbd64\">[33317]</a></span>: first pass documentation of new knob GSI_AUTHZ_CONF ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2103\" onclick=\"get_ticket_and_populate_wrapper('2103'); return false;\" title=\"Control GSI_AUTHZ_CONF environment variable via condor configuration\">#2103</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-04 16:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1f53e8068672efaeb114d52d8cbbdd46d12930d5\">[33270]</a></span>: Allow the globus callout to be selected via a Condor parameter <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2103\" onclick=\"get_ticket_and_populate_wrapper('2103'); return false;\" title=\"Control GSI_AUTHZ_CONF environment variable via condor configuration\">#2103</a></span> Committer: Zach Miller  (By Brian Bockelman )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Sep-04 15:40</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/db2d763e10213446aa9784dd37bbadab89dba7e5\">[33261]</a></span>: Revert \"Allow the globus callout to be selected via a Condor parameter <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2103\" onclick=\"get_ticket_and_populate_wrapper('2103'); return false;\" title=\"Control GSI_AUTHZ_CONF environment variable via condor configuration\">#2103</a></span>\", deferred to 7.8.4 release This reverts commit 90b9c62c7f53ea0d17d953978a16e8ea560d5d3f.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Aug-27 15:23</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/90b9c62c7f53ea0d17d953978a16e8ea560d5d3f\">[33183]</a></span>: Allow the globus callout to be selected via a Condor parameter <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2103\" onclick=\"get_ticket_and_populate_wrapper('2103'); return false;\" title=\"Control GSI_AUTHZ_CONF environment variable via condor configuration\">#2103</a></span> Signed-off-by: Zach Miller &lt;zmiller@cs.wisc.edu&gt; Committer: Zach Miller  (By Brian Bockelman )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2012-Sep-19 16:14", "status": "resolved", "created": "2011-Apr-27 14:02", "fixed_version": "2011-Apr-27 14:02", "broken_version": "v070506", "priority": "4", "subsystem": "", "assigned_to": "danb", "derived_from": "#1834", "creator": "danb", "rust": "", "customer_group": "cms", "visibility": "public", "notify": "burt@fnal.gov,sfiligoi@fnal.gov", "due_date": ""}
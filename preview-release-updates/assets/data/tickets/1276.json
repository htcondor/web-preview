{"id": 1276, "title": "Ticket #1276: #define eom end_of_message", "description": "<blockquote>\nAll the way back from Thu Oct 30 21:20:04 1997\n\n<p><a class=\"file\" href=\"rlog?f=src/condor_includes/stream.h\">/src/condor_includes/stream.h</a>:\n</p><div class=\"verbatim\">\n<pre>// This #define is a desperate move. GNU g++ seems to choke at runtime on our\n// inline function for eom.  Someday not needed ?\n#define eom end_of_message\n</pre></div>\n\n\n<p>It looks like the right thing to do is use end_of_message instead of eom consistently throughout the code. Or the other way around. Using both is crazy and #define eom results in headaches if anyone happens to include stream.h and call something eom.</p></blockquote>", "remarks": "<blockquote>\n<em>2010-Apr-27 16:28:40 by psilord:</em> <br/>\n\nRun this command on the source to find the places that matter:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Linux &gt; ack 'eom[ \\t]*\\('\n</pre></div>\n\n\n<p>And replace all eom calls with end_of_message instead of eom. hen get rid ofthe #define mentioned in the ticket.\n\n</p><p>Ensure that you are changing calls ONLY for the Sock* objects.\n\n</p><p>This is development series work.</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2010-Jun-08 15:52</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4a102bc57ecf405557113a0e4a3b21cf999abdf2\">[18411]</a></span>: Replaced all eom() calls with end_of_message() for Stream and its derived children. Also removed the define eom in condor_includes/stream.h. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=1276\" onclick=\"get_ticket_and_populate_wrapper('1276'); return false;\" title=\"#define eom end_of_message\">#1276</a></span>  (By Josh Slauson )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2010-Jun-08 16:07", "status": "resolved", "created": "2010-Mar-15 12:56", "fixed_version": "2010-Mar-15 12:56", "broken_version": "v070000", "priority": "4", "subsystem": "Daemons", "assigned_to": "slauson", "derived_from": "", "creator": "matt", "rust": "", "customer_group": "other", "visibility": "public", "notify": "psilord@cs.wisc.edu", "due_date": ""}
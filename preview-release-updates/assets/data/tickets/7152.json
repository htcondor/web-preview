{"id": 7152, "title": "Ticket #7152: Further decrease annex node AWS query limit usage", "description": "<blockquote>\nChris Paul has reason to believe that writing more efficient queries, contrary to the documentation, causes fewer request rate caps to be hit.  The default scripts should be updated again to leverage this.\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Hence the three aws describe-instances commands now appear as:\n\naws ec2 describe-instances --region ${region} --query \\\n    'Reservations[*].Instances[*].Tags[?Key==`aws:ec2spot:fleet-request-id`].Value' \\\n    --instance-id ${EC2InstanceID}\n\naws ec2 describe-instances --region ${region} --query \\\n    'Reservations[*].Instances[*].ClientToken' \\\n    --instance-id ${EC2InstanceID}\n\naws ec2 describe-spot-fleet-requests --region ${region} --query \\\n    'SpotFleetRequestConfigs[*].SpotFleetRequestConfig.ClientToken' \\\n    --spot-fleet-request-id ${sfrID}\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "enhance", "last_change": "2019-Jul-16 13:56", "status": "new", "created": "2019-Jul-16 13:56", "fixed_version": "2019-Jul-16 13:56", "broken_version": "", "priority": "3", "subsystem": "Annex", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu", "due_date": ""}
{"id": 5693, "title": "Ticket #5693: Recheck port exhaustion problem.", "description": "<blockquote>\nWe were having problems around now (2016-05-26) with runs being 'interrupted' by timing out during final file transfer.  The starter log shows this was caused by the starter attempting but failing to bind to an outbound port in the range of 9600-9700.  This configuration only seems to have become problematic when the BaTLab upgraded to 8.4.x.  When it fails to connect, it tells the shadow... which immediately reconnects, leaving no time for a port to become clear.  After 8(?) retries, the shadow gives up and throws an exception.\n\n<p>This almost immediately causes the job to be removed by the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=PeriodicRemove\" title=\"Periodic Remove\">PeriodicRemove</a></span> expression, since the job will be idle and have started more than once (and since we want to our retries at the DAG level because Metronome otherwise gets /horribly/ confused, we don't let that happen).\n\n</p><p>It's unclear if 8.2.x didn't have a port exhaustion problem for some reason, or if it just handled file transfer connection failures differently enough to recover, and so we never noticed.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "todo", "last_change": "2016-May-26 15:13", "status": "new", "created": "2016-May-26 15:13", "fixed_version": "2016-May-26 15:13", "broken_version": "", "priority": "3", "subsystem": "Unknown", "assigned_to": "tlmiller", "derived_from": "", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, johnkn@cs.wisc.edu, tim@cs.wisc.edu", "due_date": ""}
{"id": 2366, "title": "Ticket #2366: Remove version from OpSys and add OpSysVer and Distro attributes", "description": "<blockquote>\nWe should gather some of the accumulated wisdom from the Batlab and do a better job of identifying the operating system, distro and version in execute nodes.\n\n<p><span class=\"section\"></span></p><h2>OPSYS on Windows machines should be WINDOWS</h2>\n\n<p>See <code>OPSYS_NAME</code> comment below.\n\n</p><p>Most Windows programs don't care what version of the Windows OS they run on.  But Condor sets the <code>OPSYS</code> attribute for Windows execute nodes to a value that contains the version number (<code>WINNT50</code>, <code>WINNT51</code>, etc).  So it requires effort on the part of the user to specify that their program will run on most versions of windows.  The default behavior for Condor is that programs will execute only on the nodes that have the same version of Windows as the submit node.\n\n</p><p>The {Quote: OpSys} attribute should just be <code>WINDOWS</code> by default.  And there should be a parameter <code>ENABLE_VERSIONED_OPSYS</code> that enables the old behavior of appending the OS version number to the <code>OPSYS</code> attribute.  This will default to <code>false</code>\n\n</p><p>A new attribute <span class=\"quote\">OpSysVer</span> will contain an integer value representing the version number of the OS.  Win2k = 500, WinXP = 501, Win2003 = 502, Vista = 600, Server2008 = 600 or 601, Win7 = 601.\n\n</p><p>A new attibute <span class=\"quote\">OpSysAndVer</span> will have the legacy <span class=\"quote\">OpSys</span> value, where WinXP = \"WINNT51\", etc.\n\n</p><p><span class=\"section\"></span></p><h2>changes for unixen</h2>\n\n<p>Most of the commercial Unix flavors also have OS version appended to <span class=\"quote\">OpSys</span>.  But support for non Linux flavors of unix is mostly legacy, so we will not change the way these machines publish <span class=\"quote\">OpSys</span>. <span class=\"quote\">OpSysVer</span> and <span class=\"quote\">OpSysAndVer</span> will be\nadded to these machines, but <code>ENABLE_VERSIONED_OPSYS</code> will default to <code>true</code> so <span class=\"quote\">OpSys</span> and <span class=\"quote\">OpSysAndVer</span> will be the same.\n\n</p><p><span class=\"section\"></span></p><h2>changes for Linux</h2>\n\n<p>For linux variants, {Quote: OpSys} carries no meaning, we need to publish additional attributes:  DISTRO and DISTROVER with values to be set using techniques from the batlab's hawkeye scripts.\n\n</p><p></p><div class=\"verbatim\">\n<pre>  OpSys\n    \"WINDOWS\"\n    \"RedHat\"\n    \"FreeBSD\"\n\n  OpSysVer (Major * 100 + Minor)\n\n  OpSysMajorVer\n    5\n\n  OpSysAndVer\n    \"WINNT51\"\n    \"REDHAT5\"\n    \"SOLARIS23\"\n\n  OpSysName\n    \"Windows XP\"\n    \"Red Hat 5.11\"\n    \"Ubuntu 10.04\"\n    \"Suse 10.2\"\n\n</pre></div>\n</blockquote>", "remarks": "<blockquote>\nsee also <span class=\"ticket\"><a class=\"new\" href=\"/wiki-archive/tickets/?ticket=1692\" onclick=\"get_ticket_and_populate_wrapper('1692'); return false;\" title=\"Roll NMI platform string algorithm into Condor\">#1692</a></span>\n\n<p></p><hr/>\n<em>2011-Aug-12 16:28:23 by johnkn:</em> <br/>\n\nplaces that may need to be fixed up with the change to OPSYS and the addition of OPSYSVER\n<div class=\"verbatim\">\n<pre>src/condor_scripts/CondorConfig.pm(16): $self-&gt;SetFromConfig( \"OPSYS\" );\nsrc/condor_starter.std/starter_main.cpp(1231):\topsys = param( \"OPSYS\" );\nsrc/condor_starter.V6.1/jic_shadow.cpp(883):\ttmp_val = param( \"OPSYS\" );\nsrc/condor_status.V6/status.cpp(273):\t\tprojList.AppendArg(\"Opsys\");\nsrc/condor_submit.V6/submit.cpp(6765):\tOperatingSystem = param( \"OPSYS\" );\nsrc/condor_contrib/mgmt/qmf/plugins/condor-management-schema.xml(264):    &lt;property name=\"OpSys\"\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Sep-09 12:17:20 by nleroy:</em> <br/>\n\nThe published attributes should include:\n\n<p></p><ul>\n<li><code>OPSYS</code> (as described above; see comments below for <code>OPSYS_NAME</code>)\n\n<p></p></li><li><code>OPSYS_NAME</code> (Alternative, keep OPSYS as previous for backward compatibility, but <code>OPSYS_NAME</code> would be more general):\n<ul>\n<li><code>Linux</code>\n</li><li><code>Windows</code>\n</li><li><code>FreeBSD</code>\n</li><li>Thoughts on this one?\n</li></ul>\n\n<p></p></li><li><code>OPSYSVER</code> (as described above)\n\n<p></p></li><li><code>OPSYSANDVER</code> (as described above)\n\n<p></p></li><li><code>DISTRO_NAME</code>: Operating system distribution name\n<ul>\n<li><code>\"openSUSE\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"Redhat\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"Ubuntu\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li>DISTRO: Operating system distribution and version\n<ul>\n<li><code>\"opensuse_11.4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"RHAP5\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"ubuntu_10.04.03\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><code>DISTRO_VERSION</code>: Version of the operating system distribution\n<ul>\n<li><code>\"11.4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"5.7\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"10.04.03\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><code>DISTRO_MAJOR</code>: Major version of the operating system distribution.   Should this be an integer instead of a string?\n<ul>\n<li><code>\"11\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"7\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"10\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><code>DISTRO_MINOR</code>: Minor version of the operating system distribution.  Should this be an integer instead of a string?\n<ul>\n<li><code>\"4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"7\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"04\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><code>DISTRO_RELEASE</code>: Release version of the operating system distribution.  Should this be an integer instead of a string?\n<ul>\n<li><code>\"0\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"0\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"03\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n</li></ul>\n\n<p></p><hr/>\n<em>2011-Sep-09 12:54:18 by johnkn:</em> <br/>\n\nI disagree with the proposed change to use <code>OPSYS_NAME</code> instead of re-defining <code>OPSYS</code>.   And as a consequence, I also disagree with having <code>DISTRO</code> be a string containing the distro name and version.  This is exactly the kind of over-specificity that we are trying to get away from.\n\n<p>Also, version numbers should be integers, not strings so that we can do greater than and lessthan comparisons.\n\n</p><p>how about <code>DISTRO_DISPLAY_NAME</code> or <code>DISTRO_LABEL</code> to be the string value that contains the fully qualified distro name and version?\n\n</p><p>so\n\n</p><p></p><ul>\n<li><code>DISTRO</code>\n<ul>\n<li><code>\"openSUSE\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"RedHat\"</code> for  <code>Redhat 5.7</code>\n</li></ul>\n\n<p></p></li><li><code>DISTROVER</code>\n<ul>\n<li>1104 for <code>openSUSE 11.4</code>\n</li><li>507  for <code>Redhat 5.7</code>\n</li></ul>\n\n<p></p></li><li><code>DISTRO_DISPLAY_NAME</code>\n<ul>\n<li><code>\"openSUSE 11.4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"Redhat 5.7\"</code> for  <code>Redhat 5.7</code>\n</li></ul>\n</li></ul>\n\n<p>I should also note that Windows currently has the following attributes defined for version info.  We should conform to the same naming convention.\n\n</p><p></p><div class=\"verbatim\">\n<pre>WindowsMajorVersion = 6\nWindowsMinorVersion = 1\nWindowsServicePackMajorVersion = 0\nWindowsServicePackMinorVersion = 0\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Sep-09 13:06:03 by nleroy:</em> <br/>\n\nSmall revision:\n\n<p>Instead of <code>DISTROVER</code>:\n\n</p><p></p><ul>\n<li><code>DISTRO_VER_NUM</code> A numerical representation of the the version number:\n<ul>\n<li><code>110400</code> for <code>openSUSE 11.4</code>\n</li><li><code>050700</code> for <code>Redhat 5.7</code>\n</li><li><code>100403</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n</li></ul>\n\n<p></p><hr/>\n<em>2011-Sep-09 13:32:50 by nleroy:</em> <br/>\n\nPutting it all together:\n\n<p></p><ul>\n<li><span class=\"quote\">OpSys</span> (as described above; see comments below for <code>OPSYS_NAME</code>)\n\n<p></p></li><li><span class=\"quote\">OpSysVer</span> (as described above)\n\n<p></p></li><li><span class=\"quote\">OpSysAndVer</span> (as described above)\n\n<p></p></li><li><span class=\"quote\">Distro</span> Name of operating system distribution\n<ul>\n<li><code>\"openSUSE\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"RedHat\"</code> for  <code>Redhat 5.7</code>\n</li><li><code>\"Ubuntu\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroLabel</span>: Similar to <code>NMI_PLATFORM</code>\n<ul>\n<li><code>\"RHAP5\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"ubuntu_10.04.03\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroVer</span> A numerical representation of the the version number.  Note: Integer not string.\n<ul>\n<li><code>110400</code> for <code>openSUSE 11.4</code>\n</li><li><code>050700</code> for <code>Redhat 5.7</code>\n</li><li><code>100403</code> for <code>Ubuntu 10.04.03</code>\n</li><li><code>060100</code> for <code>Windows XP</code> (?)  Perhaps the service pack should be encoded in the final two digits here?\n</li><li><code>060130</code> Alternative for <code>Windows XP SP3</code> (?)\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroDisplayName</span> A string representation of the operating system distribution suitable for display purposes.\n<ul>\n<li><code>\"openSUSE 11.4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"Redhat 5.7\"</code> for  <code>Redhat 5.7</code>\n</li><li><code>\"Ubuntu 10.04.03</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroVersion</span>: String representation of version of the operating system distribution\n<ul>\n<li><code>\"11.4\"</code> for <code>openSUSE 11.4</code>\n</li><li><code>\"5.7\"</code> for <code>Redhat 5.7</code>\n</li><li><code>\"10.04.03\"</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroMajor</span>: Major version of the operating system distribution.  Note: Integer, not string.\n<ul>\n<li><code>11</code> for <code>openSUSE 11.4</code>\n</li><li><code>7</code> for <code>Redhat 5.7</code>\n</li><li><code>10</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroMinor</span>: Minor version of the operating system distribution. Note: Integer, not string.\n<ul>\n<li><code>4</code> for <code>openSUSE 11.4</code>\n</li><li><code>7</code> for <code>Redhat 5.7</code>\n</li><li><code>4</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n\n<p></p></li><li><span class=\"quote\">DistroRelease</span>: Release version of the operating system distribution.  Note: Integer, not string.\n<ul>\n<li><code>0</code> for <code>openSUSE 11.4</code>\n</li><li><code>0</code> for <code>Redhat 5.7</code>\n</li><li><code>3</code> for <code>Ubuntu 10.04.03</code>\n</li></ul>\n</li></ul>\n\n<p></p><div class=\"verbatim\">\n<pre>WindowsMajorVersion = 6\nWindowsMinorVersion = 1\nWindowsServicePackMajorVersion = 0\nWindowsServicePackMinorVersion = 0\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Sep-13 14:22:31 by adesmet:</em> <br/>\n\nEncoding version numbers as integers (for comparison purposes) is non-intuitive and fragile in the face of some distribution deciding to make, for example, the minor portion \"123\". <span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=2395\" onclick=\"get_ticket_and_populate_wrapper('2395'); return false;\" title=\"New ClassAd functions: versioncmp, versionokay\">#2395</a></span> proposes having new <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> functions that know how to compare version numbers as strings directly, allowing people to say more clearly what they mean. e.g.\n\n<p></p><div class=\"code\">\n<pre class=\"code\"># Require RHES 5.4 through 6.999\nREQUIREMENTS=DISTRO==\"RedHatEnterpriseServer\" &amp;&amp; versionOkay(DISTRO_VER, \"5.4\", \"6.*\")\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Sep-13 14:29:41 by adesmet:</em> <br/>\n\nLans Carstensen suggests advertising/using information from lsb_release. This should be a reasonably portable way of learning at run time the distro and version on Linux, as well as some of the capabilities promised by the LSB.\n\n<p></p><div class=\"code\">\n<pre class=\"code\"># Capabilities list, colon seperated\n#   :core-3.0-amd64:core-3.0-ia32:core-3.0-noarch:graphics-3.0-amd64:graphics-3.0-ia32:graphics-3.0-noarch\nLSB_VERSION=`/usr/bin/lsb_release -v -s`\n\n# Distribution name (Ubuntu, ScientificCERNSLC, RedHatEnterpriseServer)\nLSB_ID=`/usr/bin/lsb_release -i -s`\n\n# Distribution version (10.04, 4.8, 5.6)\nLSB_RELEASE=`/usr/bin/lsb_release -r -s`\n</pre></div>\n\n\n<p></p><hr/>\n<em>2011-Sep-14 10:26:14 by dthain:</em> <br/>\n\nI would like to add some thoughts about the user experience that might be used to guide the technical discussion.\n\n<p>Most users (that I work with) are <strong>not</strong> knowledgable about the distinctions between different kinds of Linux.  The local sysadmins worry about installing and managing the machines, and the users often don't even know what distro is in use.  They see a machine listed as LINUX in condor_status and assume a program compiled on one Linux machine will run on another Linux machine.  They are astonished and disappointed to find this is not the case.  This happens a lot at universities where multiple IT operations are contributing to the same Condor pool.\n\n</p><p>Thus, I think that the default system configuration should be <strong>very</strong> conservative about choosing execution machines that are likely to be compatible with the submitting machine.  This gives the highest probability of success for the beginning user, but still allows the expert user to choose whatever resources they like.  In the case of Linux, jobs should only run on machines with the same distribution and the same version, to some number of significant digits.\n\n</p><p>Further, the system should make some effort to <strong>show the user</strong> that machines are significantly different, through condor_status and other displays, so that they understand why things don't match.\n\n</p><p>There are multiple ways to accomplish this.\n\n</p><p>Approach A - The prevailing Condor philosophy seems to be to define as many properties as possible, and let the knowledgable user pick from them.  (<span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span>, Distro, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MajorVersion\" title=\"Major Version\">MajorVersion</a></span>, <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MinorVersion\" title=\"Minor Version\">MinorVersion</a></span>, etc...)  However, this has two downsides.  (1)  The default SUBMIT_EXPRS become rather complicated and difficult to override.  For example, if the user defines Distro in their Requirements expression, should that cause <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=MajorVersion\" title=\"Major Version\">MajorVersion</a></span> to be dropped from the default SUBMIT_EXPRS?  (2) A lot more information needs to be presented in condor_status and frieds to make it clear to users what is going on.\n\n</p><p>Approach B - The opposite approach would be to put define <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> to be something very specific like \"REDHAT\" or even \"REDHAT5\".  This has the advantage of requiring no change to the existing default submit expressions logic, and also makes it abundantly clear to the user that one Linux distribution is incompatible with the other.  They will have to go out of their way to try to run a code on multiple operating systems.\n\n</p><p>Note that approach B does not prevent the use of additional machine attributes for the expert user, but it is simply emphasizing the use of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> as the common case.\n\n</p><p>I favor the latter approach, but whatever approach is taken, I think it is important that the <strong>default</strong> submit expression be much more conservative than just selecting OpSys==\"LINUX\".\n\n</p><p></p><hr/>\n<em>2012-Mar-26 17:37:26 by bgietzel:</em> <br/>\n\nSee <a class=\"external\" href=\"http://pages.cs.wisc.edu/~bgietzel/opsys.html\">http://pages.cs.wisc.edu/~bgietzel/opsys.html</a> for opsys param values for each machine in new BaTLab.</blockquote>", "derived_tickets": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">\n<span class=\"ticket\"><a class=\"abandoned\" href=\"/wiki-archive/tickets/?ticket=2744\" onclick=\"get_ticket_and_populate_wrapper('2744'); return false;\" title='Remove verbose messages about \"Values for opsys\"'>#2744</a></span></td>\n<td align=\"center\" valign=\"center\" width=\"30\">\n<span class=\"icon ptr1\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\">\nRemove verbose messages about \"Values for opsys\"</td></tr>\n</tbody></table>", "attachments": "<html><head></head><body><blockquote>\n<ul>\n<li><a href=\"../files/441/versioned_opsys.patch\">versioned_opsys.patch</a>\n15671 bytes added by johnkn on 2011-Aug-12 21:21:44 UTC.\n<br/>\npatch to separate operating system and version into OPSYS and OPSYSVER for both windows and *nix.  patch also adds OPSYS_AND_VER which contains the value OPSYS would have had before this patch. <br/>\n</li></ul>\n</blockquote></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Oct-22 11:19</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f6dc31178ec024afc5813c77a2c3e7c0cb80c1b1\">[33726]</a></span>: version history updates <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3039\" onclick=\"get_ticket_and_populate_wrapper('3039'); return false;\" title=\"get file transfer remaps working for directories\">#3039</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3129\" onclick=\"get_ticket_and_populate_wrapper('3129'); return false;\" title=\"Have schedd dynamically spawn local startd\">#3129</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3220\" onclick=\"get_ticket_and_populate_wrapper('3220'); return false;\" title=\"Allow different submit limits for grid resources\">#3220</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3268\" onclick=\"get_ticket_and_populate_wrapper('3268'); return false;\" title=\"fix security issue\">#3268</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2104\" onclick=\"get_ticket_and_populate_wrapper('2104'); return false;\" title=\"condor_master crashed during globus mapping callout\">#2104</a></span> <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=3161\" onclick=\"get_ticket_and_populate_wrapper('3161'); return false;\" title=\"CS collector on astro crashes with segfault\">#3161</a></span>  (By Zach Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Aug-31 13:57</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/12aa764c1d82e22071a3f04b2bccf087d6cae4b5\">[33236]</a></span>: use mixed case for FreeBSD OPSYSNAME <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Aug-31 12:56</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/e41b4305fd29e78b1401e07790e34cb731d6eb37\">[33229]</a></span>: change param overrides for OPSYSNAME OPSYSANDVER etc so that they are consistent with attribute names. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Aug-31 12:41</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f5ed32df9ea5e19ac8235ceac0eac33a4206846a\">[33227]</a></span>: fix OPSYSNAME and OPSYSANDVER for solaris. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Aug-30 17:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b7f251590c8671be2dface7f912c7fac58b41bcc\">[33223]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>) add only major version to OPSYSANDVER for MacOSX, add detection for Win8, add version to OPSYSLONGNAME for solaris.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jul-11 11:10</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/19ccad8a2caf71cb974bdb1770e3daf5df731a73\">[32703]</a></span>: document <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attr values for Scientific Linux platforms ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-29 12:58</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/96a9cdf1f908cc665efe38fb7a4473405ec3d209\">[32543]</a></span>: change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ScientifixLinx\" title=\"Scientifix Linx\">ScientifixLinx</a></span> to SL. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Jun-14 15:20</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b41967030c11923d6c6357ca9dfabe150b659591\">[32329]</a></span>: enable OPSYSLONGNAME, OPSYSSHORTNAME etc for Windows, <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> strip \\l \\n from end of Debian longname string. ===VersionHistory:Pending===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-19 15:54</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/8d23d5c7f88a092f667b23773089e6593ec1779b\">[31757]</a></span>: many small changes to details of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> and friends ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-19 14:38</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/88d59d4b24dbb3c4e018083b8d15cc502570635b\">[31752]</a></span>: updates/edits of details for <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> and friends changes ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-17 17:46</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2b4465667e32a101587e40f7e38f0deb951d031d\">[31699]</a></span>: Document <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> attributes. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)  (By bgietzel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Apr-17 16:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/984554fbb7dca0a287a8c27d7c42ba4ed2dec590\">[31693]</a></span>: Change <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSysShortName\" title=\"Op Sys Short Name\">OpSysShortName</a></span> on Linux from \"Linux\" to the distro name <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> ===VersionHistory:None===  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-26 09:32</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/f740f89122d11b43d2fcbc18bf6fa79da88c053c\">[31003]</a></span>: Revert \"Revert \"Revise <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> params on MacOS and Windows. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)\"\" This reverts commit a2ae1bcafe1c68a3abe40b5ee82490c4cfb17e28. And fixes an uninitialized pointer  (By Greg Thain )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-23 09:22</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a2ae1bcafe1c68a3abe40b5ee82490c4cfb17e28\">[30996]</a></span>: Revert \"Revise <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> params on MacOS and Windows. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)\" This reverts commit 2f155db5c01d97fb39db794dc21ed4264545bf4c.  (By Scot Kronenfeld )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-22 18:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2f155db5c01d97fb39db794dc21ed4264545bf4c\">[30994]</a></span>: Revise <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> params on MacOS and Windows. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)  (By Becky Gietzel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2012-Mar-14 14:43</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/fd6c4f5668a4fa306ba2893455c6b8cf1b0f89cd\">[30905]</a></span>: Add more <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> params. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)  (By Becky Gietzel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-14 17:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/4c7f80a1480903be785cf4f7c41e105c461fe6da\">[28794]</a></span>: Remove warnings from check-in 28791. (ticket <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)  (By Becky Gietzel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Dec-14 16:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/2006c77dd2edc400e68f0efb1e8a15ce37127b82\">[28791]</a></span>: Add Linux Distro and utsname attrs. (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>)  (By Becky Gietzel )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-30 10:45</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/3365996a0fa199467a968a2443923ab43a57d603\">[27021]</a></span>: Added defn for new config knob ENABLE_VERSIONED_OPSYS. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-29 12:33</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/a5ba3117f5c66c2fae299f5cb68721eaad521133\">[27016]</a></span>: fix LaTeX in new version history item. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-29 12:12</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/68d4a107f2112d42644ee09c0f28f92617d3892e\">[27014]</a></span>: Partial documentation for change that attribute <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> is now \"WINDOWS\" instead of WINNTxx. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>  (By Karen Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-29 12:09</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/429ded568665b314c71d16ef974ee82daa4c705b\">[27012]</a></span>: version history for <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span>. ===VersionHistory=== the default value of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> on Windows is now \"Windows\". new parameter added ENABLE_VERSIONED_OPSYS which defaults to false on windows and true on *nix gives access to the old style <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span>.  (By John (TJ) Knoeller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2011-Aug-15 15:50</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/90298a6bf96f1644b509d62485704e371b4146f5\">[26776]</a></span>: Remove version from <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> attribute, and add <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSysVer\" title=\"Op Sys Ver\">OpSysVer</a></span> attribute. also added OpSys_And_Ver attribute for legacy value of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> and new param ENABLE_VERSIONED_OPSYS to control the new behavior of <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=OpSys\" title=\"Op Sys\">OpSys</a></span> with a default value of false on Windows and true on unix. ===GT=== <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=2366\" onclick=\"get_ticket_and_populate_wrapper('2366'); return false;\" title=\"Remove version from OpSys and add OpSysVer and Distro attributes\">#2366</a></span> ===Doc=== Pending  (By John (TJ) Knoeller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2013-Aug-19 12:10", "status": "resolved", "created": "2011-Aug-09 10:08", "fixed_version": "2011-Aug-09 10:08", "broken_version": "v070700", "priority": "2", "subsystem": "Unknown", "assigned_to": "bgietzel", "derived_from": "", "creator": "johnkn", "rust": "", "customer_group": "other", "visibility": "public", "notify": "smoler@cs.wisc.edu, tstclair@redhat.com,cat@cs.wisc.edu", "due_date": "20110815"}
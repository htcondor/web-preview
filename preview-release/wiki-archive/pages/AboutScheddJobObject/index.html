<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/web-preview/preview-release/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/web-preview/preview-release/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/web-preview/preview-release/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/web-preview/preview-release/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/web-preview/preview-release/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/web-preview/preview-release/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/web-preview/preview-release/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Primary Meta Tags -->
    <meta name="title" content="HTCondor">
    <meta name="description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://htcondor.org/">
    <meta property="og:title" content="HTCondor">
    <meta property="og:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="og:image" content="https://htcondor.org/assets/images/HTC.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://htcondor.org/">
    <meta property="twitter:title" content="HTCondor">
    <meta property="twitter:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="twitter:image" content="https://htcondor.org/assets/images/HTC.png">

    <title>About Schedd Job Object</title>

    <script src="/web-preview/preview-release/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/web-preview/preview-release/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="robots" content="noindex">

    

    <link href="/web-preview/preview-release/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/web-preview/preview-release/index.html" class="d-none d-md-inline"><img height="75" alt="Condor High Throughput Computing" src="/web-preview/preview-release/assets/images/CondorTitle.png" style="border:0"></a>
                    <a href="/web-preview/preview-release/index.html" class="d-inline d-md-none"><img height="65" alt="Condor High Throughput Computing" src="/web-preview/preview-release/assets/images/HTCondor_red_blk.svg" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-release/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-release/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-release/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/web-preview/preview-release/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<script async src="https://cse.google.com/cse.js?cx=1056a9a876b1d1474"></script>
<div class="gcse-searchbox-only"></div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>About Schedd Job Object</h1>
<div id="content">
 As of 8.3.3  The job queue in the SCHEDD changed from a Hashtable of compat
 <code>
  ClassAd
 </code>
 objects to a Hashtable of
 <code>
  JobQueueJob
 </code>
 objects.  The
 <code>
  JobQueueJob
 </code>
 class is derived from compat
 <code>
  ClassAd
 </code>
 , so it can be passed to any function that wants a
 <code>
  ClassAd
 </code>
 ; But unlike
 <code>
  ClassAd
 </code>
 , it provides a place to hang data members that are useful to the SCHEDD at runtime, but should not be written to the job queue log.
 <p>
  For instance, the autocluster id can now be stored in the job object and never written into the job queue log. In fact, the impetus for this change was the need to have more than a single autocluster set, and thus to have more than one autocluster id associate with each job.
 </p>
 <p>
  The job queue in the SCHEDD is still an instance of
  <code>
   ClassAdLog
  </code>
  . The
  <code>
   ClassAdLog
  </code>
  code has been refactored to be a template class on both the key and the value. The key must have a string representation, but does not have to be a string.  And the value must be derived from the compat
  <code>
   ClassAd
  </code>
  class.
 </p>
 <p>
  For most users of the
  <code>
   ClassAdLog
  </code>
  , the key still of type
  <code>
   HashKey
  </code>
  , and the value is of type
  <code>
   ClassAd
  </code>
  just as it was before.  But in the SCHEDD. The key is a
  <code>
   JOB_ID_KEY
  </code>
  , (which is essentially a PROC_ID with methods). The value is class
  <code>
   JobQueueJob
  </code>
  .
 </p>
 <p>
  When external clients of the SCHEDD fetch a
  <code>
   JobAd
  </code>
  by calling
  <code>
   GetJobAd()
  </code>
  , they still get back a
  <code>
   ClassAd
  </code>
  , but when code internal to the SCHEDD calls
  <code>
   GetJobAd()
  </code>
  , a
  <code>
   JobQueueJob*
  </code>
  is returned.  Not all of these call sites in the SCHEDD have been updated to recognize the change. Some are using a ClassAd* to hold the return value - but many of the key functions have been updated including
  <code>
   GetJobAd
  </code>
  and
  <code>
   WalkJobQueue
  </code>
 </p>
 <p>
  It is safe to hold a pointer to a
  <code>
   JobQueueJob
  </code>
  object in a SCHEDD data structure so long it is removed from that data structure in
  <code>
   ConstructClassAdLogTableEntry&lt;JobQueueJob*&gt;::Delete(ClassAd* &amp;ad)
  </code>
  , in the destructor of
  <code>
   JobQueueJob
  </code>
  (which is currently empty), or earlier, if your code can be certain that a job cannot be removed while the code is running.
 </p>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>

{"id": 7341, "title": "Ticket #7341: Make multi-attributes easier to classad_eval", "description": "<blockquote>\nIf users could be able to specify <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> attributes one at a time on the <strong>classad_eval</strong> command-line, that would be much easier than dealing with quoting newlines.  Example:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">classad_eval -insert 'x = y' 'y = \"7\"' 'z = \"foo\"' -eval y z\n7\n\"foo\"\n</pre></div>\n\n\n<p>We could support <strong>-insert</strong> and <strong>-eval</strong> as mode-modifying flags (so that you could insert/eval/insert/eval if you wanted to), but Mat thinks that it'll be simpler and less confusing just to have people run <strong>classad_eval</strong> twice.  We'll probably have to test that with actual users.\n\n</p><p>It's unclear what the semantics should be if we allow <strong>-insert</strong> or <strong>-eval</strong> to be optional.  (On the other hand, given that the name of the command is 'eval', maybe nouns for the options is better: -ad and -expr?)  For instance, a lone -eval should mean that anything before it is an insert, but instead of -none, it would be nice just to say that if neither <strong>-insert</strong> nor <strong>-eval</strong> appear, all positional arguments are evaluated rather than inserted.  TJ maintains that if we restrict ourselves to HTCondor <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAds\" title=\"Class Ads\">ClassAds</a></span>, it will be easy to distinguish attributes from expressions; if that is so, I agree that we should make both flags optional and just do the right thing.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2020-May-09 02:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/1cc723482a9550e7a6ae7e6c47cd9ac3b67494e2\">[59620]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7341\" onclick=\"get_ticket_and_populate_wrapper('7341'); return false;\" title=\"Make multi-attributes easier to classad_eval\">#7341</a></span>) Documentation and release note.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-May-08 15:37</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/d93d6b6f8ca29ef30f6654e43e6bbc43417cb598\">[59613]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7341\" onclick=\"get_ticket_and_populate_wrapper('7341'); return false;\" title=\"Make multi-attributes easier to classad_eval\">#7341</a></span>) Print the <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=ClassAd\" title=\"Class Ad\">ClassAd</a></span> context for each simplify() call, unless it's the same as the previous context. Add the -quiet flag to suppress this behavior.  (By Todd L Miller )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2020-May-08 11:53</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/0c538d5661b8619fbae5c64d3c87d40425b47972\">[59611]</a></span>: (<span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=7341\" onclick=\"get_ticket_and_populate_wrapper('7341'); return false;\" title=\"Make multi-attributes easier to classad_eval\">#7341</a></span>) We can unambiguously decide between ClassAds/assignments/records and expressions, so let users do whatever they want.  (By Todd L Miller )</td></tr>\n</tbody></table>", "type": "enhance", "last_change": "2020-May-09 02:17", "status": "resolved", "created": "2019-Oct-24 16:10", "fixed_version": "2019-Oct-24 16:10", "broken_version": "", "priority": "4", "subsystem": "Tools", "assigned_to": "tlmiller", "derived_from": "#7339", "creator": "tlmiller", "rust": "", "customer_group": "other", "visibility": "public", "notify": "tlmiller@cs.wisc.edu, johnkn@cs.wisc.edu, matyas@cs.wisc.edu", "due_date": ""}
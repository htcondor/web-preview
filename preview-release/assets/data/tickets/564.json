{"id": 564, "title": "Ticket #564: condor_q -better-analyze can't handle functions", "description": "<blockquote>\nIn certain cases, condor_q -better-analyze has trouble dealing with classad functions whose arguments include Machine ad attributes. If the sub-expression containing a classad function evaluates to Undefined in the context of just the job ad, the analysis code can report that that sub-expression matches 0 machines, even if the sub-expression evaluates to true in the context of both job and machine ads.\n\n<p>To reproduce, submit a vanilla job with these requirements:\n\n</p><p></p><pre>  \"foo\" != string(Machine) &amp;&amp; Machine =?= \"foo\"\n</pre>\n\n<p>condor_q -better-analyze will say the job's requirements reject all machines and the first sub-expression matches zero machines. If the second sub-expression is changed to match some machines (by changing 'foo' to a hostname in the pool), -better-analyze can still report that the first sub-expression matches zero machines, even though the job will be matched and run.</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2010-Jan-31 08:36", "status": "new", "created": "2009-Jun-15 15:58", "fixed_version": "2009-Jun-15 15:58", "broken_version": "v070300", "priority": "4", "subsystem": "Libs", "assigned_to": "", "derived_from": "", "creator": "jfrey", "rust": "", "customer_group": "other", "visibility": "public", "notify": "willb@redhat.com", "due_date": ""}
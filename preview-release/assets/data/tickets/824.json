{"id": 824, "title": "Ticket #824: schedd ad does not contain TotalLocalRunningJobs etc.", "description": "<blockquote>\nThe published schedd ad does not contain <code>TotalLocalRunningJobs</code> and <code>TotalSchedulerRunningJobs</code>, which are proposed to be referenced in the new default schedd \"start\" expressions for 7.4.  These attributes are inserted into a private copy of the ad that is used to evaluate schedd \"start\" expressions, so the expressions will work, but since the attributes are not in the published schedd ad, -analyze (which is now smart enough to evalute the schedd \"start\" expressions) will not be able to give sensible advice about why local and scheduler jobs are idle.</blockquote>", "remarks": "<blockquote>\n<em>2009-Oct-07 17:32:50 by danb:</em> <br/>\n\nI committed a fix for 7.4 that fixes this.  However, the deeper puzzle remains: why does the schedd maintain two copies of the code that creates the schedd ad: one for the published ad and one for the ad that is used to evaluate start expressions?\n\n<p></p><hr/>\n<em>2016-Mar-09 18:09:41 by wenger:</em> <br/>\n\nNote:  this ticket is marked as done in 7.4.0, and there's a corresponding version history entry.  But there's also this version history entry for 6.7.14:\n\n<p></p><pre>  \\item \\Condor{schedd} advertises how many local and scheduler\n  universe jobs are currently running or idle in its ClassAd. The\n  total number of running jobs is denoted by the\n  \\Attr{TotalLocalJobsRunning} and \\Attr{TotalSchedulerJobsRunning}\n  attributes. The total number of idle jobs is denoted by the\n  \\Attr{TotalLocalJobsIdle} and \\Attr{TotalSchedulerJobsIdle}.\n</pre>\n\n<p>I don't really understand that...</p></blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody><tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-09 14:16</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/56dc76c88a1f377a9f99babb60d2089a04e75530\">[25021]</a></span>: Documented <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalLocalRunningJobs\" title=\"Total Local Running Jobs\">TotalLocalRunningJobs</a></span> fix. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=824\" onclick=\"get_ticket_and_populate_wrapper('824'); return false;\" title=\"schedd ad does not contain TotalLocalRunningJobs etc.\">#824</a></span>  (By Dan Bradley )</td></tr>\n<tr><td align=\"right\" valign=\"top\" width=\"160\">2009-Oct-07 17:29</td>\n<td align=\"center\" valign=\"top\" width=\"30\">\n<span class=\"icon dot\">\u00a0</span></td>\n<td align=\"left\" valign=\"top\"> \nCheck-in <span class=\"chng\"><a href=\"https://github.com/htcondor/htcondor/commit/b4112b13efe31a4a112279934debb1dd75c57f6b\">[15942]</a></span>: Added <span class=\"wiki\"><a class=\"missing\" href=\"wiki?p=TotalLocalRunningJobs\" title=\"Total Local Running Jobs\">TotalLocalRunningJobs</a></span> etc. to the published schedd ad. <span class=\"ticket\"><a class=\"resolved\" href=\"/wiki-archive/tickets/?ticket=824\" onclick=\"get_ticket_and_populate_wrapper('824'); return false;\" title=\"schedd ad does not contain TotalLocalRunningJobs etc.\">#824</a></span>  (By Dan Bradley )</td></tr>\n</tbody></table>", "type": "defect", "last_change": "2016-Mar-09 18:09", "status": "resolved", "created": "2009-Oct-07 17:14", "fixed_version": "2009-Oct-07 17:14", "broken_version": "v070300", "priority": "4", "subsystem": "Daemons", "assigned_to": "danb", "derived_from": "", "creator": "danb", "rust": "", "customer_group": "other", "visibility": "public", "notify": "dan@hep.wisc.edu", "due_date": ""}
{"id": 2475, "title": "Ticket #2475: condor_q fails to mention SCHEDD_DAEMON_AD_FILE as problem source", "description": "<blockquote>\nIf condor_q fails to find the schedd's address, it offers the following advice:\n\n<p></p><div class=\"code\">\n<pre class=\"code\">Error: Can't find address for schedd devcondor.nanohub.org\n\nExtra Info: You probably saw this error because the condor_schedd is not\nrunning on the machine you are trying to query. If the condor_schedd is not\nrunning, the Condor system will not be able to find an address and port to\nconnect to and satisfy this request. Please make sure the Condor daemons are\nrunning and try again.\n\nExtra Info: If the condor_schedd is running on the machine you are trying to\nquery and you still see the error, the most likely cause is that you have\nsetup a personal Condor, you have not defined SCHEDD_NAME in your\ncondor_config file, and something is wrong with your SCHEDD_ADDRESS_FILE\nsetting. You must define either or both of those settings in your config\nfile, or you must use the -name option to condor_q. Please see the Condor\nmanual for details on SCHEDD_NAME and SCHEDD_ADDRESS_FILE.\n</pre></div>\n\n\n<p>The bottom bit is not quite accurate.  The actual logic to find the IP/port for a daemon is (courtesy of Daemon::getDaemonInfo in <a class=\"file\" href=\"rlog?f=src/condor_daemon_client/daemon.cpp\">/src/condor_daemon_client/daemon.cpp</a> line 1058 or so):\n</p><ul>\n<li>Is SCHEDD_NAME present, and does it contain a port? If yes, stop.\n</li><li>Is SCHEDD_DAEMON_AD_FILE set and can I read that file? If yes, stop.\n</li><li>Is SCHEDD_ADDRESS_FILE set and can I read that file? If yes, stop.\n</li><li>Ask the collector. (may not be used for condor_q; I didn't dig deep enough)\n</li></ul>\n\n<p>The message from condor_q should be updated, but I'm not sure what it should be updated to.  Spell out the entire gory business? Simplify it somehow?</p></blockquote>", "remarks": "<blockquote>\n</blockquote>", "derived_tickets": "", "attachments": "<html><head></head><body></body></html>", "check_ins": "", "type": "defect", "last_change": "2011-Sep-19 15:48", "status": "new", "created": "2011-Sep-19 15:48", "fixed_version": "2011-Sep-19 15:48", "broken_version": "v070603", "priority": "4", "subsystem": "", "assigned_to": "", "derived_from": "", "creator": "adesmet", "rust": "", "customer_group": "other", "visibility": "public", "notify": "", "due_date": ""}